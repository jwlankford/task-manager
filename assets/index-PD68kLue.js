const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AboutView-BPEFz5Cv.js","assets/AboutView-CSIvawM9.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ja(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Pt={},yr=[],We=()=>{},Um=()=>!1,to=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Za=e=>e.startsWith("onUpdate:"),he=Object.assign,tl=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Bm=Object.prototype.hasOwnProperty,bt=(e,t)=>Bm.call(e,t),st=Array.isArray,vr=e=>js(e)==="[object Map]",eo=e=>js(e)==="[object Set]",Qu=e=>js(e)==="[object Date]",ct=e=>typeof e=="function",zt=e=>typeof e=="string",Be=e=>typeof e=="symbol",xt=e=>e!==null&&typeof e=="object",of=e=>(xt(e)||ct(e))&&ct(e.then)&&ct(e.catch),af=Object.prototype.toString,js=e=>af.call(e),$m=e=>js(e).slice(8,-1),lf=e=>js(e)==="[object Object]",el=e=>zt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ds=Ja(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),no=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},jm=/-(\w)/g,xn=no(e=>e.replace(jm,(t,n)=>n?n.toUpperCase():"")),zm=/\B([A-Z])/g,Un=no(e=>e.replace(zm,"-$1").toLowerCase()),uf=no(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ho=no(e=>e?`on${uf(e)}`:""),Rn=(e,t)=>!Object.is(e,t),Ei=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},cf=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},da=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Yu;const ro=()=>Yu||(Yu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function nl(e){if(st(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=zt(r)?Gm(r):nl(r);if(s)for(const i in s)t[i]=s[i]}return t}else if(zt(e)||xt(e))return e}const qm=/;(?![^(]*\))/g,Hm=/:([^]+)/,Km=/\/\*[^]*?\*\//g;function Gm(e){const t={};return e.replace(Km,"").split(qm).forEach(n=>{if(n){const r=n.split(Hm);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function so(e){let t="";if(zt(e))t=e;else if(st(e))for(let n=0;n<e.length;n++){const r=so(e[n]);r&&(t+=r+" ")}else if(xt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Wm="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Qm=Ja(Wm);function hf(e){return!!e||e===""}function Ym(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=io(e[r],t[r]);return n}function io(e,t){if(e===t)return!0;let n=Qu(e),r=Qu(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Be(e),r=Be(t),n||r)return e===t;if(n=st(e),r=st(t),n||r)return n&&r?Ym(e,t):!1;if(n=xt(e),r=xt(t),n||r){if(!n||!r)return!1;const s=Object.keys(e).length,i=Object.keys(t).length;if(s!==i)return!1;for(const a in e){const l=e.hasOwnProperty(a),u=t.hasOwnProperty(a);if(l&&!u||!l&&u||!io(e[a],t[a]))return!1}}return String(e)===String(t)}function ff(e,t){return e.findIndex(n=>io(n,t))}const df=e=>!!(e&&e.__v_isRef===!0),pf=e=>zt(e)?e:e==null?"":st(e)||xt(e)&&(e.toString===af||!ct(e.toString))?df(e)?pf(e.value):JSON.stringify(e,mf,2):String(e),mf=(e,t)=>df(t)?mf(e,t.value):vr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],i)=>(n[Ko(r,i)+" =>"]=s,n),{})}:eo(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Ko(n))}:Be(t)?Ko(t):xt(t)&&!st(t)&&!lf(t)?String(t):t,Ko=(e,t="")=>{var n;return Be(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ve;class Xm{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ve,!t&&ve&&(this.index=(ve.scopes||(ve.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=ve;try{return ve=this,t()}finally{ve=n}}}on(){++this._on===1&&(this.prevScope=ve,ve=this)}off(){this._on>0&&--this._on===0&&(ve=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Jm(){return ve}let Vt;const Go=new WeakSet;class gf{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ve&&ve.active&&ve.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Go.has(this)&&(Go.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||yf(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Xu(this),vf(this);const t=Vt,n=Le;Vt=this,Le=!0;try{return this.fn()}finally{Ef(this),Vt=t,Le=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)il(t);this.deps=this.depsTail=void 0,Xu(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Go.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){pa(this)&&this.run()}get dirty(){return pa(this)}}let _f=0,ps,ms;function yf(e,t=!1){if(e.flags|=8,t){e.next=ms,ms=e;return}e.next=ps,ps=e}function rl(){_f++}function sl(){if(--_f>0)return;if(ms){let t=ms;for(ms=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;ps;){let t=ps;for(ps=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function vf(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ef(e){let t,n=e.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),il(r),Zm(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}e.deps=t,e.depsTail=n}function pa(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Tf(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Tf(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Rs)||(e.globalVersion=Rs,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!pa(e))))return;e.flags|=2;const t=e.dep,n=Vt,r=Le;Vt=e,Le=!0;try{vf(e);const s=e.fn(e._value);(t.version===0||Rn(s,e._value))&&(e.flags|=128,e._value=s,t.version++)}catch(s){throw t.version++,s}finally{Vt=n,Le=r,Ef(e),e.flags&=-3}}function il(e,t=!1){const{dep:n,prevSub:r,nextSub:s}=e;if(r&&(r.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)il(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Zm(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Le=!0;const wf=[];function un(){wf.push(Le),Le=!1}function cn(){const e=wf.pop();Le=e===void 0?!0:e}function Xu(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Vt;Vt=void 0;try{t()}finally{Vt=n}}}let Rs=0;class tg{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ol{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Vt||!Le||Vt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Vt)n=this.activeLink=new tg(Vt,this),Vt.deps?(n.prevDep=Vt.depsTail,Vt.depsTail.nextDep=n,Vt.depsTail=n):Vt.deps=Vt.depsTail=n,If(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Vt.depsTail,n.nextDep=void 0,Vt.depsTail.nextDep=n,Vt.depsTail=n,Vt.deps===n&&(Vt.deps=r)}return n}trigger(t){this.version++,Rs++,this.notify(t)}notify(t){rl();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{sl()}}}function If(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)If(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const ma=new WeakMap,Jn=Symbol(""),ga=Symbol(""),bs=Symbol("");function ae(e,t,n){if(Le&&Vt){let r=ma.get(e);r||ma.set(e,r=new Map);let s=r.get(n);s||(r.set(n,s=new ol),s.map=r,s.key=n),s.track()}}function on(e,t,n,r,s,i){const a=ma.get(e);if(!a){Rs++;return}const l=u=>{u&&u.trigger()};if(rl(),t==="clear")a.forEach(l);else{const u=st(e),h=u&&el(n);if(u&&n==="length"){const d=Number(r);a.forEach((p,m)=>{(m==="length"||m===bs||!Be(m)&&m>=d)&&l(p)})}else switch((n!==void 0||a.has(void 0))&&l(a.get(n)),h&&l(a.get(bs)),t){case"add":u?h&&l(a.get("length")):(l(a.get(Jn)),vr(e)&&l(a.get(ga)));break;case"delete":u||(l(a.get(Jn)),vr(e)&&l(a.get(ga)));break;case"set":vr(e)&&l(a.get(Jn));break}}sl()}function hr(e){const t=Rt(e);return t===e?t:(ae(t,"iterate",bs),ke(e)?t:t.map(Xt))}function oo(e){return ae(e=Rt(e),"iterate",bs),e}const eg={__proto__:null,[Symbol.iterator](){return Wo(this,Symbol.iterator,Xt)},concat(...e){return hr(this).concat(...e.map(t=>st(t)?hr(t):t))},entries(){return Wo(this,"entries",e=>(e[1]=Xt(e[1]),e))},every(e,t){return nn(this,"every",e,t,void 0,arguments)},filter(e,t){return nn(this,"filter",e,t,n=>n.map(Xt),arguments)},find(e,t){return nn(this,"find",e,t,Xt,arguments)},findIndex(e,t){return nn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return nn(this,"findLast",e,t,Xt,arguments)},findLastIndex(e,t){return nn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return nn(this,"forEach",e,t,void 0,arguments)},includes(...e){return Qo(this,"includes",e)},indexOf(...e){return Qo(this,"indexOf",e)},join(e){return hr(this).join(e)},lastIndexOf(...e){return Qo(this,"lastIndexOf",e)},map(e,t){return nn(this,"map",e,t,void 0,arguments)},pop(){return ss(this,"pop")},push(...e){return ss(this,"push",e)},reduce(e,...t){return Ju(this,"reduce",e,t)},reduceRight(e,...t){return Ju(this,"reduceRight",e,t)},shift(){return ss(this,"shift")},some(e,t){return nn(this,"some",e,t,void 0,arguments)},splice(...e){return ss(this,"splice",e)},toReversed(){return hr(this).toReversed()},toSorted(e){return hr(this).toSorted(e)},toSpliced(...e){return hr(this).toSpliced(...e)},unshift(...e){return ss(this,"unshift",e)},values(){return Wo(this,"values",Xt)}};function Wo(e,t,n){const r=oo(e),s=r[t]();return r!==e&&!ke(e)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const ng=Array.prototype;function nn(e,t,n,r,s,i){const a=oo(e),l=a!==e&&!ke(e),u=a[t];if(u!==ng[t]){const p=u.apply(e,i);return l?Xt(p):p}let h=n;a!==e&&(l?h=function(p,m){return n.call(this,Xt(p),m,e)}:n.length>2&&(h=function(p,m){return n.call(this,p,m,e)}));const d=u.call(a,h,r);return l&&s?s(d):d}function Ju(e,t,n,r){const s=oo(e);let i=n;return s!==e&&(ke(e)?n.length>3&&(i=function(a,l,u){return n.call(this,a,l,u,e)}):i=function(a,l,u){return n.call(this,a,Xt(l),u,e)}),s[t](i,...r)}function Qo(e,t,n){const r=Rt(e);ae(r,"iterate",bs);const s=r[t](...n);return(s===-1||s===!1)&&ul(n[0])?(n[0]=Rt(n[0]),r[t](...n)):s}function ss(e,t,n=[]){un(),rl();const r=Rt(e)[t].apply(e,n);return sl(),cn(),r}const rg=Ja("__proto__,__v_isRef,__isVue"),Af=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Be));function sg(e){Be(e)||(e=String(e));const t=Rt(this);return ae(t,"has",e),t.hasOwnProperty(e)}class Rf{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?pg:Pf:i?Sf:Cf).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const a=st(t);if(!s){let u;if(a&&(u=eg[n]))return u;if(n==="hasOwnProperty")return sg}const l=Reflect.get(t,n,ce(t)?t:r);return(Be(n)?Af.has(n):rg(n))||(s||ae(t,"get",n),i)?l:ce(l)?a&&el(n)?l:l.value:xt(l)?s?xf(l):ao(l):l}}class bf extends Rf{constructor(t=!1){super(!1,t)}set(t,n,r,s){let i=t[n];if(!this._isShallow){const u=Dn(i);if(!ke(r)&&!Dn(r)&&(i=Rt(i),r=Rt(r)),!st(t)&&ce(i)&&!ce(r))return u?!1:(i.value=r,!0)}const a=st(t)&&el(n)?Number(n)<t.length:bt(t,n),l=Reflect.set(t,n,r,ce(t)?t:s);return t===Rt(s)&&(a?Rn(r,i)&&on(t,"set",n,r):on(t,"add",n,r)),l}deleteProperty(t,n){const r=bt(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&on(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!Be(n)||!Af.has(n))&&ae(t,"has",n),r}ownKeys(t){return ae(t,"iterate",st(t)?"length":Jn),Reflect.ownKeys(t)}}class ig extends Rf{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const og=new bf,ag=new ig,lg=new bf(!0);const _a=e=>e,fi=e=>Reflect.getPrototypeOf(e);function ug(e,t,n){return function(...r){const s=this.__v_raw,i=Rt(s),a=vr(i),l=e==="entries"||e===Symbol.iterator&&a,u=e==="keys"&&a,h=s[e](...r),d=n?_a:t?xi:Xt;return!t&&ae(i,"iterate",u?ga:Jn),{next(){const{value:p,done:m}=h.next();return m?{value:p,done:m}:{value:l?[d(p[0]),d(p[1])]:d(p),done:m}},[Symbol.iterator](){return this}}}}function di(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function cg(e,t){const n={get(s){const i=this.__v_raw,a=Rt(i),l=Rt(s);e||(Rn(s,l)&&ae(a,"get",s),ae(a,"get",l));const{has:u}=fi(a),h=t?_a:e?xi:Xt;if(u.call(a,s))return h(i.get(s));if(u.call(a,l))return h(i.get(l));i!==a&&i.get(s)},get size(){const s=this.__v_raw;return!e&&ae(Rt(s),"iterate",Jn),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,a=Rt(i),l=Rt(s);return e||(Rn(s,l)&&ae(a,"has",s),ae(a,"has",l)),s===l?i.has(s):i.has(s)||i.has(l)},forEach(s,i){const a=this,l=a.__v_raw,u=Rt(l),h=t?_a:e?xi:Xt;return!e&&ae(u,"iterate",Jn),l.forEach((d,p)=>s.call(i,h(d),h(p),a))}};return he(n,e?{add:di("add"),set:di("set"),delete:di("delete"),clear:di("clear")}:{add(s){!t&&!ke(s)&&!Dn(s)&&(s=Rt(s));const i=Rt(this);return fi(i).has.call(i,s)||(i.add(s),on(i,"add",s,s)),this},set(s,i){!t&&!ke(i)&&!Dn(i)&&(i=Rt(i));const a=Rt(this),{has:l,get:u}=fi(a);let h=l.call(a,s);h||(s=Rt(s),h=l.call(a,s));const d=u.call(a,s);return a.set(s,i),h?Rn(i,d)&&on(a,"set",s,i):on(a,"add",s,i),this},delete(s){const i=Rt(this),{has:a,get:l}=fi(i);let u=a.call(i,s);u||(s=Rt(s),u=a.call(i,s)),l&&l.call(i,s);const h=i.delete(s);return u&&on(i,"delete",s,void 0),h},clear(){const s=Rt(this),i=s.size!==0,a=s.clear();return i&&on(s,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=ug(s,e,t)}),n}function al(e,t){const n=cg(e,t);return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(bt(n,s)&&s in r?n:r,s,i)}const hg={get:al(!1,!1)},fg={get:al(!1,!0)},dg={get:al(!0,!1)};const Cf=new WeakMap,Sf=new WeakMap,Pf=new WeakMap,pg=new WeakMap;function mg(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function gg(e){return e.__v_skip||!Object.isExtensible(e)?0:mg($m(e))}function ao(e){return Dn(e)?e:ll(e,!1,og,hg,Cf)}function Vf(e){return ll(e,!1,lg,fg,Sf)}function xf(e){return ll(e,!0,ag,dg,Pf)}function ll(e,t,n,r,s){if(!xt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=gg(e);if(i===0)return e;const a=s.get(e);if(a)return a;const l=new Proxy(e,i===2?r:n);return s.set(e,l),l}function Er(e){return Dn(e)?Er(e.__v_raw):!!(e&&e.__v_isReactive)}function Dn(e){return!!(e&&e.__v_isReadonly)}function ke(e){return!!(e&&e.__v_isShallow)}function ul(e){return e?!!e.__v_raw:!1}function Rt(e){const t=e&&e.__v_raw;return t?Rt(t):e}function _g(e){return!bt(e,"__v_skip")&&Object.isExtensible(e)&&cf(e,"__v_skip",!0),e}const Xt=e=>xt(e)?ao(e):e,xi=e=>xt(e)?xf(e):e;function ce(e){return e?e.__v_isRef===!0:!1}function yg(e){return Df(e,!1)}function vg(e){return Df(e,!0)}function Df(e,t){return ce(e)?e:new Eg(e,t)}class Eg{constructor(t,n){this.dep=new ol,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Rt(t),this._value=n?t:Xt(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||ke(t)||Dn(t);t=r?t:Rt(t),Rn(t,n)&&(this._rawValue=t,this._value=r?t:Xt(t),this.dep.trigger())}}function Tr(e){return ce(e)?e.value:e}const Tg={get:(e,t,n)=>t==="__v_raw"?e:Tr(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return ce(s)&&!ce(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function kf(e){return Er(e)?e:new Proxy(e,Tg)}class wg{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new ol(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Rs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Vt!==this)return yf(this,!0),!0}get value(){const t=this.dep.track();return Tf(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Ig(e,t,n=!1){let r,s;return ct(e)?r=e:(r=e.get,s=e.set),new wg(r,s,n)}const pi={},Di=new WeakMap;let Wn;function Ag(e,t=!1,n=Wn){if(n){let r=Di.get(n);r||Di.set(n,r=[]),r.push(e)}}function Rg(e,t,n=Pt){const{immediate:r,deep:s,once:i,scheduler:a,augmentJob:l,call:u}=n,h=K=>s?K:ke(K)||s===!1||s===0?an(K,1):an(K);let d,p,m,_,P=!1,x=!1;if(ce(e)?(p=()=>e.value,P=ke(e)):Er(e)?(p=()=>h(e),P=!0):st(e)?(x=!0,P=e.some(K=>Er(K)||ke(K)),p=()=>e.map(K=>{if(ce(K))return K.value;if(Er(K))return h(K);if(ct(K))return u?u(K,2):K()})):ct(e)?t?p=u?()=>u(e,2):e:p=()=>{if(m){un();try{m()}finally{cn()}}const K=Wn;Wn=d;try{return u?u(e,3,[_]):e(_)}finally{Wn=K}}:p=We,t&&s){const K=p,dt=s===!0?1/0:s;p=()=>an(K(),dt)}const D=Jm(),$=()=>{d.stop(),D&&D.active&&tl(D.effects,d)};if(i&&t){const K=t;t=(...dt)=>{K(...dt),$()}}let B=x?new Array(e.length).fill(pi):pi;const z=K=>{if(!(!(d.flags&1)||!d.dirty&&!K))if(t){const dt=d.run();if(s||P||(x?dt.some((gt,I)=>Rn(gt,B[I])):Rn(dt,B))){m&&m();const gt=Wn;Wn=d;try{const I=[dt,B===pi?void 0:x&&B[0]===pi?[]:B,_];B=dt,u?u(t,3,I):t(...I)}finally{Wn=gt}}}else d.run()};return l&&l(z),d=new gf(p),d.scheduler=a?()=>a(z,!1):z,_=K=>Ag(K,!1,d),m=d.onStop=()=>{const K=Di.get(d);if(K){if(u)u(K,4);else for(const dt of K)dt();Di.delete(d)}},t?r?z(!0):B=d.run():a?a(z.bind(null,!0),!0):d.run(),$.pause=d.pause.bind(d),$.resume=d.resume.bind(d),$.stop=$,$}function an(e,t=1/0,n){if(t<=0||!xt(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,ce(e))an(e.value,t,n);else if(st(e))for(let r=0;r<e.length;r++)an(e[r],t,n);else if(eo(e)||vr(e))e.forEach(r=>{an(r,t,n)});else if(lf(e)){for(const r in e)an(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&an(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function zs(e,t,n,r){try{return r?e(...r):e()}catch(s){lo(s,t,n)}}function Xe(e,t,n,r){if(ct(e)){const s=zs(e,t,n,r);return s&&of(s)&&s.catch(i=>{lo(i,t,n)}),s}if(st(e)){const s=[];for(let i=0;i<e.length;i++)s.push(Xe(e[i],t,n,r));return s}}function lo(e,t,n,r=!0){const s=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||Pt;if(t){let l=t.parent;const u=t.proxy,h=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const d=l.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](e,u,h)===!1)return}l=l.parent}if(i){un(),zs(i,null,10,[e,u,h]),cn();return}}bg(e,n,s,r,a)}function bg(e,t,n,r=!0,s=!1){if(s)throw e;console.error(e)}const me=[];let He=-1;const wr=[];let Tn=null,fr=0;const Nf=Promise.resolve();let ki=null;function Of(e){const t=ki||Nf;return e?t.then(this?e.bind(this):e):t}function Cg(e){let t=He+1,n=me.length;for(;t<n;){const r=t+n>>>1,s=me[r],i=Cs(s);i<e||i===e&&s.flags&2?t=r+1:n=r}return t}function cl(e){if(!(e.flags&1)){const t=Cs(e),n=me[me.length-1];!n||!(e.flags&2)&&t>=Cs(n)?me.push(e):me.splice(Cg(t),0,e),e.flags|=1,Mf()}}function Mf(){ki||(ki=Nf.then(Ff))}function Sg(e){st(e)?wr.push(...e):Tn&&e.id===-1?Tn.splice(fr+1,0,e):e.flags&1||(wr.push(e),e.flags|=1),Mf()}function Zu(e,t,n=He+1){for(;n<me.length;n++){const r=me[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;me.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Lf(e){if(wr.length){const t=[...new Set(wr)].sort((n,r)=>Cs(n)-Cs(r));if(wr.length=0,Tn){Tn.push(...t);return}for(Tn=t,fr=0;fr<Tn.length;fr++){const n=Tn[fr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Tn=null,fr=0}}const Cs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Ff(e){try{for(He=0;He<me.length;He++){const t=me[He];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),zs(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;He<me.length;He++){const t=me[He];t&&(t.flags&=-2)}He=-1,me.length=0,Lf(),ki=null,(me.length||wr.length)&&Ff()}}let ue=null,Uf=null;function Ni(e){const t=ue;return ue=e,Uf=e&&e.type.__scopeId||null,t}function ie(e,t=ue,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&uc(-1);const i=Ni(t);let a;try{a=e(...s)}finally{Ni(i),r._d&&uc(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function tc(e,t){if(ue===null)return e;const n=fo(ue),r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[i,a,l,u=Pt]=t[s];i&&(ct(i)&&(i={mounted:i,updated:i}),i.deep&&an(a),r.push({dir:i,instance:n,value:a,oldValue:void 0,arg:l,modifiers:u}))}return e}function Kn(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let a=0;a<s.length;a++){const l=s[a];i&&(l.oldValue=i[a].value);let u=l.dir[r];u&&(un(),Xe(u,n,8,[e.el,l,e,t]),cn())}}const Pg=Symbol("_vte"),Vg=e=>e.__isTeleport;function hl(e,t){e.shapeFlag&6&&e.component?(e.transition=t,hl(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Bf(e,t){return ct(e)?he({name:e.name},t,{setup:e}):e}function $f(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Oi(e,t,n,r,s=!1){if(st(e)){e.forEach((P,x)=>Oi(P,t&&(st(t)?t[x]:t),n,r,s));return}if(Ir(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Oi(e,t,n,r.component.subTree);return}const i=r.shapeFlag&4?fo(r.component):r.el,a=s?null:i,{i:l,r:u}=e,h=t&&t.r,d=l.refs===Pt?l.refs={}:l.refs,p=l.setupState,m=Rt(p),_=p===Pt?()=>!1:P=>bt(m,P);if(h!=null&&h!==u&&(zt(h)?(d[h]=null,_(h)&&(p[h]=null)):ce(h)&&(h.value=null)),ct(u))zs(u,l,12,[a,d]);else{const P=zt(u),x=ce(u);if(P||x){const D=()=>{if(e.f){const $=P?_(u)?p[u]:d[u]:u.value;s?st($)&&tl($,i):st($)?$.includes(i)||$.push(i):P?(d[u]=[i],_(u)&&(p[u]=d[u])):(u.value=[i],e.k&&(d[e.k]=u.value))}else P?(d[u]=a,_(u)&&(p[u]=a)):x&&(u.value=a,e.k&&(d[e.k]=a))};a?(D.id=-1,Re(D,n)):D()}}}ro().requestIdleCallback;ro().cancelIdleCallback;const Ir=e=>!!e.type.__asyncLoader,jf=e=>e.type.__isKeepAlive;function xg(e,t){zf(e,"a",t)}function Dg(e,t){zf(e,"da",t)}function zf(e,t,n=_e){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(uo(t,r,n),n){let s=n.parent;for(;s&&s.parent;)jf(s.parent.vnode)&&kg(r,t,n,s),s=s.parent}}function kg(e,t,n,r){const s=uo(t,e,r,!0);qf(()=>{tl(r[t],s)},n)}function uo(e,t,n=_e,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...a)=>{un();const l=qs(n),u=Xe(t,n,e,a);return l(),cn(),u});return r?s.unshift(i):s.push(i),i}}const pn=e=>(t,n=_e)=>{(!Vs||e==="sp")&&uo(e,(...r)=>t(...r),n)},Ng=pn("bm"),Og=pn("m"),Mg=pn("bu"),Lg=pn("u"),Fg=pn("bum"),qf=pn("um"),Ug=pn("sp"),Bg=pn("rtg"),$g=pn("rtc");function jg(e,t=_e){uo("ec",e,t)}const zg=Symbol.for("v-ndc");function qg(e,t,n,r){let s;const i=n,a=st(e);if(a||zt(e)){const l=a&&Er(e);let u=!1,h=!1;l&&(u=!ke(e),h=Dn(e),e=oo(e)),s=new Array(e.length);for(let d=0,p=e.length;d<p;d++)s[d]=t(u?h?xi(Xt(e[d])):Xt(e[d]):e[d],d,void 0,i)}else if(typeof e=="number"){s=new Array(e);for(let l=0;l<e;l++)s[l]=t(l+1,l,void 0,i)}else if(xt(e))if(e[Symbol.iterator])s=Array.from(e,(l,u)=>t(l,u,void 0,i));else{const l=Object.keys(e);s=new Array(l.length);for(let u=0,h=l.length;u<h;u++){const d=l[u];s[u]=t(e[d],d,u,i)}}else s=[];return s}function Yo(e,t,n={},r,s){if(ue.ce||ue.parent&&Ir(ue.parent)&&ue.parent.ce)return t!=="default"&&(n.name=t),Se(),cc(ge,null,[Nt("slot",n,r)],64);let i=e[t];i&&i._c&&(i._d=!1),Se();const a=i&&Hf(i(n)),l=n.key||a&&a.key,u=cc(ge,{key:(l&&!Be(l)?l:`_${t}`)+""},a||[],a&&e._===1?64:-2);return i&&i._c&&(i._d=!0),u}function Hf(e){return e.some(t=>Ps(t)?!(t.type===tr||t.type===ge&&!Hf(t.children)):!0)?e:null}const ya=e=>e?hd(e)?fo(e):ya(e.parent):null,gs=he(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ya(e.parent),$root:e=>ya(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Gf(e),$forceUpdate:e=>e.f||(e.f=()=>{cl(e.update)}),$nextTick:e=>e.n||(e.n=Of.bind(e.proxy)),$watch:e=>h_.bind(e)}),Xo=(e,t)=>e!==Pt&&!e.__isScriptSetup&&bt(e,t),Hg={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:a,type:l,appContext:u}=e;let h;if(t[0]!=="$"){const _=a[t];if(_!==void 0)switch(_){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(Xo(r,t))return a[t]=1,r[t];if(s!==Pt&&bt(s,t))return a[t]=2,s[t];if((h=e.propsOptions[0])&&bt(h,t))return a[t]=3,i[t];if(n!==Pt&&bt(n,t))return a[t]=4,n[t];va&&(a[t]=0)}}const d=gs[t];let p,m;if(d)return t==="$attrs"&&ae(e.attrs,"get",""),d(e);if((p=l.__cssModules)&&(p=p[t]))return p;if(n!==Pt&&bt(n,t))return a[t]=4,n[t];if(m=u.config.globalProperties,bt(m,t))return m[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return Xo(s,t)?(s[t]=n,!0):r!==Pt&&bt(r,t)?(r[t]=n,!0):bt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},a){let l;return!!n[a]||e!==Pt&&bt(e,a)||Xo(t,a)||(l=i[0])&&bt(l,a)||bt(r,a)||bt(gs,a)||bt(s.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:bt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ec(e){return st(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let va=!0;function Kg(e){const t=Gf(e),n=e.proxy,r=e.ctx;va=!1,t.beforeCreate&&nc(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:a,watch:l,provide:u,inject:h,created:d,beforeMount:p,mounted:m,beforeUpdate:_,updated:P,activated:x,deactivated:D,beforeDestroy:$,beforeUnmount:B,destroyed:z,unmounted:K,render:dt,renderTracked:gt,renderTriggered:I,errorCaptured:v,serverPrefetch:w,expose:A,inheritAttrs:R,components:C,directives:T,filters:fe}=t;if(h&&Gg(h,r,null),a)for(const _t in a){const pt=a[_t];ct(pt)&&(r[_t]=pt.bind(n))}if(s){const _t=s.call(n,n);xt(_t)&&(e.data=ao(_t))}if(va=!0,i)for(const _t in i){const pt=i[_t],Ie=ct(pt)?pt.bind(n,n):ct(pt.get)?pt.get.bind(n,n):We,Ne=!ct(pt)&&ct(pt.set)?pt.set.bind(n):We,Ve=Me({get:Ie,set:Ne});Object.defineProperty(r,_t,{enumerable:!0,configurable:!0,get:()=>Ve.value,set:Ot=>Ve.value=Ot})}if(l)for(const _t in l)Kf(l[_t],r,n,_t);if(u){const _t=ct(u)?u.call(n):u;Reflect.ownKeys(_t).forEach(pt=>{Ti(pt,_t[pt])})}d&&nc(d,e,"c");function Bt(_t,pt){st(pt)?pt.forEach(Ie=>_t(Ie.bind(n))):pt&&_t(pt.bind(n))}if(Bt(Ng,p),Bt(Og,m),Bt(Mg,_),Bt(Lg,P),Bt(xg,x),Bt(Dg,D),Bt(jg,v),Bt($g,gt),Bt(Bg,I),Bt(Fg,B),Bt(qf,K),Bt(Ug,w),st(A))if(A.length){const _t=e.exposed||(e.exposed={});A.forEach(pt=>{Object.defineProperty(_t,pt,{get:()=>n[pt],set:Ie=>n[pt]=Ie})})}else e.exposed||(e.exposed={});dt&&e.render===We&&(e.render=dt),R!=null&&(e.inheritAttrs=R),C&&(e.components=C),T&&(e.directives=T),w&&$f(e)}function Gg(e,t,n=We){st(e)&&(e=Ea(e));for(const r in e){const s=e[r];let i;xt(s)?"default"in s?i=ln(s.from||r,s.default,!0):i=ln(s.from||r):i=ln(s),ce(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):t[r]=i}}function nc(e,t,n){Xe(st(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Kf(e,t,n,r){let s=r.includes(".")?od(n,r):()=>n[r];if(zt(e)){const i=t[e];ct(i)&&wi(s,i)}else if(ct(e))wi(s,e.bind(n));else if(xt(e))if(st(e))e.forEach(i=>Kf(i,t,n,r));else{const i=ct(e.handler)?e.handler.bind(n):t[e.handler];ct(i)&&wi(s,i,e)}}function Gf(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:a}}=e.appContext,l=i.get(t);let u;return l?u=l:!s.length&&!n&&!r?u=t:(u={},s.length&&s.forEach(h=>Mi(u,h,a,!0)),Mi(u,t,a)),xt(t)&&i.set(t,u),u}function Mi(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&Mi(e,i,n,!0),s&&s.forEach(a=>Mi(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const l=Wg[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const Wg={data:rc,props:sc,emits:sc,methods:ls,computed:ls,beforeCreate:pe,created:pe,beforeMount:pe,mounted:pe,beforeUpdate:pe,updated:pe,beforeDestroy:pe,beforeUnmount:pe,destroyed:pe,unmounted:pe,activated:pe,deactivated:pe,errorCaptured:pe,serverPrefetch:pe,components:ls,directives:ls,watch:Yg,provide:rc,inject:Qg};function rc(e,t){return t?e?function(){return he(ct(e)?e.call(this,this):e,ct(t)?t.call(this,this):t)}:t:e}function Qg(e,t){return ls(Ea(e),Ea(t))}function Ea(e){if(st(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function pe(e,t){return e?[...new Set([].concat(e,t))]:t}function ls(e,t){return e?he(Object.create(null),e,t):t}function sc(e,t){return e?st(e)&&st(t)?[...new Set([...e,...t])]:he(Object.create(null),ec(e),ec(t??{})):t}function Yg(e,t){if(!e)return t;if(!t)return e;const n=he(Object.create(null),e);for(const r in t)n[r]=pe(e[r],t[r]);return n}function Wf(){return{app:null,config:{isNativeTag:Um,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Xg=0;function Jg(e,t){return function(r,s=null){ct(r)||(r=he({},r)),s!=null&&!xt(s)&&(s=null);const i=Wf(),a=new WeakSet,l=[];let u=!1;const h=i.app={_uid:Xg++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:x_,get config(){return i.config},set config(d){},use(d,...p){return a.has(d)||(d&&ct(d.install)?(a.add(d),d.install(h,...p)):ct(d)&&(a.add(d),d(h,...p))),h},mixin(d){return i.mixins.includes(d)||i.mixins.push(d),h},component(d,p){return p?(i.components[d]=p,h):i.components[d]},directive(d,p){return p?(i.directives[d]=p,h):i.directives[d]},mount(d,p,m){if(!u){const _=h._ceVNode||Nt(r,s);return _.appContext=i,m===!0?m="svg":m===!1&&(m=void 0),e(_,d,m),u=!0,h._container=d,d.__vue_app__=h,fo(_.component)}},onUnmount(d){l.push(d)},unmount(){u&&(Xe(l,h._instance,16),e(null,h._container),delete h._container.__vue_app__)},provide(d,p){return i.provides[d]=p,h},runWithContext(d){const p=Ar;Ar=h;try{return d()}finally{Ar=p}}};return h}}let Ar=null;function Ti(e,t){if(_e){let n=_e.provides;const r=_e.parent&&_e.parent.provides;r===n&&(n=_e.provides=Object.create(r)),n[e]=t}}function ln(e,t,n=!1){const r=_e||ue;if(r||Ar){let s=Ar?Ar._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&ct(t)?t.call(r&&r.proxy):t}}const Qf={},Yf=()=>Object.create(Qf),Xf=e=>Object.getPrototypeOf(e)===Qf;function Zg(e,t,n,r=!1){const s={},i=Yf();e.propsDefaults=Object.create(null),Jf(e,t,s,i);for(const a in e.propsOptions[0])a in s||(s[a]=void 0);n?e.props=r?s:Vf(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function t_(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:a}}=e,l=Rt(s),[u]=e.propsOptions;let h=!1;if((r||a>0)&&!(a&16)){if(a&8){const d=e.vnode.dynamicProps;for(let p=0;p<d.length;p++){let m=d[p];if(co(e.emitsOptions,m))continue;const _=t[m];if(u)if(bt(i,m))_!==i[m]&&(i[m]=_,h=!0);else{const P=xn(m);s[P]=Ta(u,l,P,_,e,!1)}else _!==i[m]&&(i[m]=_,h=!0)}}}else{Jf(e,t,s,i)&&(h=!0);let d;for(const p in l)(!t||!bt(t,p)&&((d=Un(p))===p||!bt(t,d)))&&(u?n&&(n[p]!==void 0||n[d]!==void 0)&&(s[p]=Ta(u,l,p,void 0,e,!0)):delete s[p]);if(i!==l)for(const p in i)(!t||!bt(t,p))&&(delete i[p],h=!0)}h&&on(e.attrs,"set","")}function Jf(e,t,n,r){const[s,i]=e.propsOptions;let a=!1,l;if(t)for(let u in t){if(ds(u))continue;const h=t[u];let d;s&&bt(s,d=xn(u))?!i||!i.includes(d)?n[d]=h:(l||(l={}))[d]=h:co(e.emitsOptions,u)||(!(u in r)||h!==r[u])&&(r[u]=h,a=!0)}if(i){const u=Rt(n),h=l||Pt;for(let d=0;d<i.length;d++){const p=i[d];n[p]=Ta(s,u,p,h[p],e,!bt(h,p))}}return a}function Ta(e,t,n,r,s,i){const a=e[n];if(a!=null){const l=bt(a,"default");if(l&&r===void 0){const u=a.default;if(a.type!==Function&&!a.skipFactory&&ct(u)){const{propsDefaults:h}=s;if(n in h)r=h[n];else{const d=qs(s);r=h[n]=u.call(null,t),d()}}else r=u;s.ce&&s.ce._setProp(n,r)}a[0]&&(i&&!l?r=!1:a[1]&&(r===""||r===Un(n))&&(r=!0))}return r}const e_=new WeakMap;function Zf(e,t,n=!1){const r=n?e_:t.propsCache,s=r.get(e);if(s)return s;const i=e.props,a={},l=[];let u=!1;if(!ct(e)){const d=p=>{u=!0;const[m,_]=Zf(p,t,!0);he(a,m),_&&l.push(..._)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!i&&!u)return xt(e)&&r.set(e,yr),yr;if(st(i))for(let d=0;d<i.length;d++){const p=xn(i[d]);ic(p)&&(a[p]=Pt)}else if(i)for(const d in i){const p=xn(d);if(ic(p)){const m=i[d],_=a[p]=st(m)||ct(m)?{type:m}:he({},m),P=_.type;let x=!1,D=!0;if(st(P))for(let $=0;$<P.length;++$){const B=P[$],z=ct(B)&&B.name;if(z==="Boolean"){x=!0;break}else z==="String"&&(D=!1)}else x=ct(P)&&P.name==="Boolean";_[0]=x,_[1]=D,(x||bt(_,"default"))&&l.push(p)}}const h=[a,l];return xt(e)&&r.set(e,h),h}function ic(e){return e[0]!=="$"&&!ds(e)}const fl=e=>e[0]==="_"||e==="$stable",dl=e=>st(e)?e.map(Ge):[Ge(e)],n_=(e,t,n)=>{if(t._n)return t;const r=ie((...s)=>dl(t(...s)),n);return r._c=!1,r},td=(e,t,n)=>{const r=e._ctx;for(const s in e){if(fl(s))continue;const i=e[s];if(ct(i))t[s]=n_(s,i,r);else if(i!=null){const a=dl(i);t[s]=()=>a}}},ed=(e,t)=>{const n=dl(t);e.slots.default=()=>n},nd=(e,t,n)=>{for(const r in t)(n||!fl(r))&&(e[r]=t[r])},r_=(e,t,n)=>{const r=e.slots=Yf();if(e.vnode.shapeFlag&32){const s=t._;s?(nd(r,t,n),n&&cf(r,"_",s,!0)):td(t,r)}else t&&ed(e,t)},s_=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,a=Pt;if(r.shapeFlag&32){const l=t._;l?n&&l===1?i=!1:nd(s,t,n):(i=!t.$stable,td(t,s)),a=t}else t&&(ed(e,t),a={default:1});if(i)for(const l in s)!fl(l)&&a[l]==null&&delete s[l]},Re=y_;function i_(e){return o_(e)}function o_(e,t){const n=ro();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:a,createText:l,createComment:u,setText:h,setElementText:d,parentNode:p,nextSibling:m,setScopeId:_=We,insertStaticContent:P}=e,x=(y,E,b,N=null,F=null,O=null,W=void 0,q=null,j=!!E.dynamicChildren)=>{if(y===E)return;y&&!is(y,E)&&(N=k(y),Ot(y,F,O,!0),y=null),E.patchFlag===-2&&(j=!1,E.dynamicChildren=null);const{type:U,ref:et,shapeFlag:G}=E;switch(U){case ho:D(y,E,b,N);break;case tr:$(y,E,b,N);break;case Zo:y==null&&B(E,b,N,W);break;case ge:C(y,E,b,N,F,O,W,q,j);break;default:G&1?dt(y,E,b,N,F,O,W,q,j):G&6?T(y,E,b,N,F,O,W,q,j):(G&64||G&128)&&U.process(y,E,b,N,F,O,W,q,j,Z)}et!=null&&F&&Oi(et,y&&y.ref,O,E||y,!E)},D=(y,E,b,N)=>{if(y==null)r(E.el=l(E.children),b,N);else{const F=E.el=y.el;E.children!==y.children&&h(F,E.children)}},$=(y,E,b,N)=>{y==null?r(E.el=u(E.children||""),b,N):E.el=y.el},B=(y,E,b,N)=>{[y.el,y.anchor]=P(y.children,E,b,N,y.el,y.anchor)},z=({el:y,anchor:E},b,N)=>{let F;for(;y&&y!==E;)F=m(y),r(y,b,N),y=F;r(E,b,N)},K=({el:y,anchor:E})=>{let b;for(;y&&y!==E;)b=m(y),s(y),y=b;s(E)},dt=(y,E,b,N,F,O,W,q,j)=>{E.type==="svg"?W="svg":E.type==="math"&&(W="mathml"),y==null?gt(E,b,N,F,O,W,q,j):w(y,E,F,O,W,q,j)},gt=(y,E,b,N,F,O,W,q)=>{let j,U;const{props:et,shapeFlag:G,transition:tt,dirs:ot}=y;if(j=y.el=a(y.type,O,et&&et.is,et),G&8?d(j,y.children):G&16&&v(y.children,j,null,N,F,Jo(y,O),W,q),ot&&Kn(y,null,N,"created"),I(j,y,y.scopeId,W,N),et){for(const ut in et)ut!=="value"&&!ds(ut)&&i(j,ut,null,et[ut],O,N);"value"in et&&i(j,"value",null,et.value,O),(U=et.onVnodeBeforeMount)&&qe(U,N,y)}ot&&Kn(y,null,N,"beforeMount");const rt=a_(F,tt);rt&&tt.beforeEnter(j),r(j,E,b),((U=et&&et.onVnodeMounted)||rt||ot)&&Re(()=>{U&&qe(U,N,y),rt&&tt.enter(j),ot&&Kn(y,null,N,"mounted")},F)},I=(y,E,b,N,F)=>{if(b&&_(y,b),N)for(let O=0;O<N.length;O++)_(y,N[O]);if(F){let O=F.subTree;if(E===O||ld(O.type)&&(O.ssContent===E||O.ssFallback===E)){const W=F.vnode;I(y,W,W.scopeId,W.slotScopeIds,F.parent)}}},v=(y,E,b,N,F,O,W,q,j=0)=>{for(let U=j;U<y.length;U++){const et=y[U]=q?wn(y[U]):Ge(y[U]);x(null,et,E,b,N,F,O,W,q)}},w=(y,E,b,N,F,O,W)=>{const q=E.el=y.el;let{patchFlag:j,dynamicChildren:U,dirs:et}=E;j|=y.patchFlag&16;const G=y.props||Pt,tt=E.props||Pt;let ot;if(b&&Gn(b,!1),(ot=tt.onVnodeBeforeUpdate)&&qe(ot,b,E,y),et&&Kn(E,y,b,"beforeUpdate"),b&&Gn(b,!0),(G.innerHTML&&tt.innerHTML==null||G.textContent&&tt.textContent==null)&&d(q,""),U?A(y.dynamicChildren,U,q,b,N,Jo(E,F),O):W||pt(y,E,q,null,b,N,Jo(E,F),O,!1),j>0){if(j&16)R(q,G,tt,b,F);else if(j&2&&G.class!==tt.class&&i(q,"class",null,tt.class,F),j&4&&i(q,"style",G.style,tt.style,F),j&8){const rt=E.dynamicProps;for(let ut=0;ut<rt.length;ut++){const yt=rt[ut],te=G[yt],Gt=tt[yt];(Gt!==te||yt==="value")&&i(q,yt,te,Gt,F,b)}}j&1&&y.children!==E.children&&d(q,E.children)}else!W&&U==null&&R(q,G,tt,b,F);((ot=tt.onVnodeUpdated)||et)&&Re(()=>{ot&&qe(ot,b,E,y),et&&Kn(E,y,b,"updated")},N)},A=(y,E,b,N,F,O,W)=>{for(let q=0;q<E.length;q++){const j=y[q],U=E[q],et=j.el&&(j.type===ge||!is(j,U)||j.shapeFlag&198)?p(j.el):b;x(j,U,et,null,N,F,O,W,!0)}},R=(y,E,b,N,F)=>{if(E!==b){if(E!==Pt)for(const O in E)!ds(O)&&!(O in b)&&i(y,O,E[O],null,F,N);for(const O in b){if(ds(O))continue;const W=b[O],q=E[O];W!==q&&O!=="value"&&i(y,O,q,W,F,N)}"value"in b&&i(y,"value",E.value,b.value,F)}},C=(y,E,b,N,F,O,W,q,j)=>{const U=E.el=y?y.el:l(""),et=E.anchor=y?y.anchor:l("");let{patchFlag:G,dynamicChildren:tt,slotScopeIds:ot}=E;ot&&(q=q?q.concat(ot):ot),y==null?(r(U,b,N),r(et,b,N),v(E.children||[],b,et,F,O,W,q,j)):G>0&&G&64&&tt&&y.dynamicChildren?(A(y.dynamicChildren,tt,b,F,O,W,q),(E.key!=null||F&&E===F.subTree)&&rd(y,E,!0)):pt(y,E,b,et,F,O,W,q,j)},T=(y,E,b,N,F,O,W,q,j)=>{E.slotScopeIds=q,y==null?E.shapeFlag&512?F.ctx.activate(E,b,N,W,j):fe(E,b,N,F,O,W,j):Pe(y,E,j)},fe=(y,E,b,N,F,O,W)=>{const q=y.component=R_(y,N,F);if(jf(y)&&(q.ctx.renderer=Z),b_(q,!1,W),q.asyncDep){if(F&&F.registerDep(q,Bt,W),!y.el){const j=q.subTree=Nt(tr);$(null,j,E,b)}}else Bt(q,y,E,b,F,O,W)},Pe=(y,E,b)=>{const N=E.component=y.component;if(g_(y,E,b))if(N.asyncDep&&!N.asyncResolved){_t(N,E,b);return}else N.next=E,N.update();else E.el=y.el,N.vnode=E},Bt=(y,E,b,N,F,O,W)=>{const q=()=>{if(y.isMounted){let{next:G,bu:tt,u:ot,parent:rt,vnode:ut}=y;{const ee=sd(y);if(ee){G&&(G.el=ut.el,_t(y,G,W)),ee.asyncDep.then(()=>{y.isUnmounted||q()});return}}let yt=G,te;Gn(y,!1),G?(G.el=ut.el,_t(y,G,W)):G=ut,tt&&Ei(tt),(te=G.props&&G.props.onVnodeBeforeUpdate)&&qe(te,rt,G,ut),Gn(y,!0);const Gt=ac(y),xe=y.subTree;y.subTree=Gt,x(xe,Gt,p(xe.el),k(xe),y,F,O),G.el=Gt.el,yt===null&&__(y,Gt.el),ot&&Re(ot,F),(te=G.props&&G.props.onVnodeUpdated)&&Re(()=>qe(te,rt,G,ut),F)}else{let G;const{el:tt,props:ot}=E,{bm:rt,m:ut,parent:yt,root:te,type:Gt}=y,xe=Ir(E);Gn(y,!1),rt&&Ei(rt),!xe&&(G=ot&&ot.onVnodeBeforeMount)&&qe(G,yt,E),Gn(y,!0);{te.ce&&te.ce._injectChildStyle(Gt);const ee=y.subTree=ac(y);x(null,ee,b,N,y,F,O),E.el=ee.el}if(ut&&Re(ut,F),!xe&&(G=ot&&ot.onVnodeMounted)){const ee=E;Re(()=>qe(G,yt,ee),F)}(E.shapeFlag&256||yt&&Ir(yt.vnode)&&yt.vnode.shapeFlag&256)&&y.a&&Re(y.a,F),y.isMounted=!0,E=b=N=null}};y.scope.on();const j=y.effect=new gf(q);y.scope.off();const U=y.update=j.run.bind(j),et=y.job=j.runIfDirty.bind(j);et.i=y,et.id=y.uid,j.scheduler=()=>cl(et),Gn(y,!0),U()},_t=(y,E,b)=>{E.component=y;const N=y.vnode.props;y.vnode=E,y.next=null,t_(y,E.props,N,b),s_(y,E.children,b),un(),Zu(y),cn()},pt=(y,E,b,N,F,O,W,q,j=!1)=>{const U=y&&y.children,et=y?y.shapeFlag:0,G=E.children,{patchFlag:tt,shapeFlag:ot}=E;if(tt>0){if(tt&128){Ne(U,G,b,N,F,O,W,q,j);return}else if(tt&256){Ie(U,G,b,N,F,O,W,q,j);return}}ot&8?(et&16&&ye(U,F,O),G!==U&&d(b,G)):et&16?ot&16?Ne(U,G,b,N,F,O,W,q,j):ye(U,F,O,!0):(et&8&&d(b,""),ot&16&&v(G,b,N,F,O,W,q,j))},Ie=(y,E,b,N,F,O,W,q,j)=>{y=y||yr,E=E||yr;const U=y.length,et=E.length,G=Math.min(U,et);let tt;for(tt=0;tt<G;tt++){const ot=E[tt]=j?wn(E[tt]):Ge(E[tt]);x(y[tt],ot,b,null,F,O,W,q,j)}U>et?ye(y,F,O,!0,!1,G):v(E,b,N,F,O,W,q,j,G)},Ne=(y,E,b,N,F,O,W,q,j)=>{let U=0;const et=E.length;let G=y.length-1,tt=et-1;for(;U<=G&&U<=tt;){const ot=y[U],rt=E[U]=j?wn(E[U]):Ge(E[U]);if(is(ot,rt))x(ot,rt,b,null,F,O,W,q,j);else break;U++}for(;U<=G&&U<=tt;){const ot=y[G],rt=E[tt]=j?wn(E[tt]):Ge(E[tt]);if(is(ot,rt))x(ot,rt,b,null,F,O,W,q,j);else break;G--,tt--}if(U>G){if(U<=tt){const ot=tt+1,rt=ot<et?E[ot].el:N;for(;U<=tt;)x(null,E[U]=j?wn(E[U]):Ge(E[U]),b,rt,F,O,W,q,j),U++}}else if(U>tt)for(;U<=G;)Ot(y[U],F,O,!0),U++;else{const ot=U,rt=U,ut=new Map;for(U=rt;U<=tt;U++){const Wt=E[U]=j?wn(E[U]):Ge(E[U]);Wt.key!=null&&ut.set(Wt.key,U)}let yt,te=0;const Gt=tt-rt+1;let xe=!1,ee=0;const gn=new Array(Gt);for(U=0;U<Gt;U++)gn[U]=0;for(U=ot;U<=G;U++){const Wt=y[U];if(te>=Gt){Ot(Wt,F,O,!0);continue}let De;if(Wt.key!=null)De=ut.get(Wt.key);else for(yt=rt;yt<=tt;yt++)if(gn[yt-rt]===0&&is(Wt,E[yt])){De=yt;break}De===void 0?Ot(Wt,F,O,!0):(gn[De-rt]=U+1,De>=ee?ee=De:xe=!0,x(Wt,E[De],b,null,F,O,W,q,j),te++)}const Hr=xe?l_(gn):yr;for(yt=Hr.length-1,U=Gt-1;U>=0;U--){const Wt=rt+U,De=E[Wt],Ys=Wt+1<et?E[Wt+1].el:N;gn[U]===0?x(null,De,b,Ys,F,O,W,q,j):xe&&(yt<0||U!==Hr[yt]?Ve(De,b,Ys,2):yt--)}}},Ve=(y,E,b,N,F=null)=>{const{el:O,type:W,transition:q,children:j,shapeFlag:U}=y;if(U&6){Ve(y.component.subTree,E,b,N);return}if(U&128){y.suspense.move(E,b,N);return}if(U&64){W.move(y,E,b,Z);return}if(W===ge){r(O,E,b);for(let G=0;G<j.length;G++)Ve(j[G],E,b,N);r(y.anchor,E,b);return}if(W===Zo){z(y,E,b);return}if(N!==2&&U&1&&q)if(N===0)q.beforeEnter(O),r(O,E,b),Re(()=>q.enter(O),F);else{const{leave:G,delayLeave:tt,afterLeave:ot}=q,rt=()=>{y.ctx.isUnmounted?s(O):r(O,E,b)},ut=()=>{G(O,()=>{rt(),ot&&ot()})};tt?tt(O,rt,ut):ut()}else r(O,E,b)},Ot=(y,E,b,N=!1,F=!1)=>{const{type:O,props:W,ref:q,children:j,dynamicChildren:U,shapeFlag:et,patchFlag:G,dirs:tt,cacheIndex:ot}=y;if(G===-2&&(F=!1),q!=null&&(un(),Oi(q,null,b,y,!0),cn()),ot!=null&&(E.renderCache[ot]=void 0),et&256){E.ctx.deactivate(y);return}const rt=et&1&&tt,ut=!Ir(y);let yt;if(ut&&(yt=W&&W.onVnodeBeforeUnmount)&&qe(yt,E,y),et&6)ze(y.component,b,N);else{if(et&128){y.suspense.unmount(b,N);return}rt&&Kn(y,null,E,"beforeUnmount"),et&64?y.type.remove(y,E,b,Z,N):U&&!U.hasOnce&&(O!==ge||G>0&&G&64)?ye(U,E,b,!1,!0):(O===ge&&G&384||!F&&et&16)&&ye(j,E,b),N&&Mt(y)}(ut&&(yt=W&&W.onVnodeUnmounted)||rt)&&Re(()=>{yt&&qe(yt,E,y),rt&&Kn(y,null,E,"unmounted")},b)},Mt=y=>{const{type:E,el:b,anchor:N,transition:F}=y;if(E===ge){mn(b,N);return}if(E===Zo){K(y);return}const O=()=>{s(b),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(y.shapeFlag&1&&F&&!F.persisted){const{leave:W,delayLeave:q}=F,j=()=>W(b,O);q?q(y.el,O,j):j()}else O()},mn=(y,E)=>{let b;for(;y!==E;)b=m(y),s(y),y=b;s(E)},ze=(y,E,b)=>{const{bum:N,scope:F,job:O,subTree:W,um:q,m:j,a:U,parent:et,slots:{__:G}}=y;oc(j),oc(U),N&&Ei(N),et&&st(G)&&G.forEach(tt=>{et.renderCache[tt]=void 0}),F.stop(),O&&(O.flags|=8,Ot(W,y,E,b)),q&&Re(q,E),Re(()=>{y.isUnmounted=!0},E),E&&E.pendingBranch&&!E.isUnmounted&&y.asyncDep&&!y.asyncResolved&&y.suspenseId===E.pendingId&&(E.deps--,E.deps===0&&E.resolve())},ye=(y,E,b,N=!1,F=!1,O=0)=>{for(let W=O;W<y.length;W++)Ot(y[W],E,b,N,F)},k=y=>{if(y.shapeFlag&6)return k(y.component.subTree);if(y.shapeFlag&128)return y.suspense.next();const E=m(y.anchor||y.el),b=E&&E[Pg];return b?m(b):E};let Y=!1;const Q=(y,E,b)=>{y==null?E._vnode&&Ot(E._vnode,null,null,!0):x(E._vnode||null,y,E,null,null,null,b),E._vnode=y,Y||(Y=!0,Zu(),Lf(),Y=!1)},Z={p:x,um:Ot,m:Ve,r:Mt,mt:fe,mc:v,pc:pt,pbc:A,n:k,o:e};return{render:Q,hydrate:void 0,createApp:Jg(Q)}}function Jo({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Gn({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function a_(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function rd(e,t,n=!1){const r=e.children,s=t.children;if(st(r)&&st(s))for(let i=0;i<r.length;i++){const a=r[i];let l=s[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[i]=wn(s[i]),l.el=a.el),!n&&l.patchFlag!==-2&&rd(a,l)),l.type===ho&&(l.el=a.el),l.type===tr&&!l.el&&(l.el=a.el)}}function l_(e){const t=e.slice(),n=[0];let r,s,i,a,l;const u=e.length;for(r=0;r<u;r++){const h=e[r];if(h!==0){if(s=n[n.length-1],e[s]<h){t[r]=s,n.push(r);continue}for(i=0,a=n.length-1;i<a;)l=i+a>>1,e[n[l]]<h?i=l+1:a=l;h<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,a=n[i-1];i-- >0;)n[i]=a,a=t[a];return n}function sd(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:sd(t)}function oc(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const u_=Symbol.for("v-scx"),c_=()=>ln(u_);function wi(e,t,n){return id(e,t,n)}function id(e,t,n=Pt){const{immediate:r,deep:s,flush:i,once:a}=n,l=he({},n),u=t&&r||!t&&i!=="post";let h;if(Vs){if(i==="sync"){const _=c_();h=_.__watcherHandles||(_.__watcherHandles=[])}else if(!u){const _=()=>{};return _.stop=We,_.resume=We,_.pause=We,_}}const d=_e;l.call=(_,P,x)=>Xe(_,d,P,x);let p=!1;i==="post"?l.scheduler=_=>{Re(_,d&&d.suspense)}:i!=="sync"&&(p=!0,l.scheduler=(_,P)=>{P?_():cl(_)}),l.augmentJob=_=>{t&&(_.flags|=4),p&&(_.flags|=2,d&&(_.id=d.uid,_.i=d))};const m=Rg(e,t,l);return Vs&&(h?h.push(m):u&&m()),m}function h_(e,t,n){const r=this.proxy,s=zt(e)?e.includes(".")?od(r,e):()=>r[e]:e.bind(r,r);let i;ct(t)?i=t:(i=t.handler,n=t);const a=qs(this),l=id(s,i.bind(r),n);return a(),l}function od(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const f_=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${xn(t)}Modifiers`]||e[`${Un(t)}Modifiers`];function d_(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Pt;let s=n;const i=t.startsWith("update:"),a=i&&f_(r,t.slice(7));a&&(a.trim&&(s=n.map(d=>zt(d)?d.trim():d)),a.number&&(s=n.map(da)));let l,u=r[l=Ho(t)]||r[l=Ho(xn(t))];!u&&i&&(u=r[l=Ho(Un(t))]),u&&Xe(u,e,6,s);const h=r[l+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Xe(h,e,6,s)}}function ad(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let a={},l=!1;if(!ct(e)){const u=h=>{const d=ad(h,t,!0);d&&(l=!0,he(a,d))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!i&&!l?(xt(e)&&r.set(e,null),null):(st(i)?i.forEach(u=>a[u]=null):he(a,i),xt(e)&&r.set(e,a),a)}function co(e,t){return!e||!to(t)?!1:(t=t.slice(2).replace(/Once$/,""),bt(e,t[0].toLowerCase()+t.slice(1))||bt(e,Un(t))||bt(e,t))}function ac(e){const{type:t,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:a,attrs:l,emit:u,render:h,renderCache:d,props:p,data:m,setupState:_,ctx:P,inheritAttrs:x}=e,D=Ni(e);let $,B;try{if(n.shapeFlag&4){const K=s||r,dt=K;$=Ge(h.call(dt,K,d,p,_,m,P)),B=l}else{const K=t;$=Ge(K.length>1?K(p,{attrs:l,slots:a,emit:u}):K(p,null)),B=t.props?l:p_(l)}}catch(K){_s.length=0,lo(K,e,1),$=Nt(tr)}let z=$;if(B&&x!==!1){const K=Object.keys(B),{shapeFlag:dt}=z;K.length&&dt&7&&(i&&K.some(Za)&&(B=m_(B,i)),z=Sr(z,B,!1,!0))}return n.dirs&&(z=Sr(z,null,!1,!0),z.dirs=z.dirs?z.dirs.concat(n.dirs):n.dirs),n.transition&&hl(z,n.transition),$=z,Ni(D),$}const p_=e=>{let t;for(const n in e)(n==="class"||n==="style"||to(n))&&((t||(t={}))[n]=e[n]);return t},m_=(e,t)=>{const n={};for(const r in e)(!Za(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function g_(e,t,n){const{props:r,children:s,component:i}=e,{props:a,children:l,patchFlag:u}=t,h=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?lc(r,a,h):!!a;if(u&8){const d=t.dynamicProps;for(let p=0;p<d.length;p++){const m=d[p];if(a[m]!==r[m]&&!co(h,m))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:r===a?!1:r?a?lc(r,a,h):!0:!!a;return!1}function lc(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!co(n,i))return!0}return!1}function __({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const ld=e=>e.__isSuspense;function y_(e,t){t&&t.pendingBranch?st(e)?t.effects.push(...e):t.effects.push(e):Sg(e)}const ge=Symbol.for("v-fgt"),ho=Symbol.for("v-txt"),tr=Symbol.for("v-cmt"),Zo=Symbol.for("v-stc"),_s=[];let be=null;function Se(e=!1){_s.push(be=e?null:[])}function v_(){_s.pop(),be=_s[_s.length-1]||null}let Ss=1;function uc(e,t=!1){Ss+=e,e<0&&be&&t&&(be.hasOnce=!0)}function ud(e){return e.dynamicChildren=Ss>0?be||yr:null,v_(),Ss>0&&be&&be.push(e),e}function Fe(e,t,n,r,s,i){return ud(ft(e,t,n,r,s,i,!0))}function cc(e,t,n,r,s){return ud(Nt(e,t,n,r,s,!0))}function Ps(e){return e?e.__v_isVNode===!0:!1}function is(e,t){return e.type===t.type&&e.key===t.key}const cd=({key:e})=>e??null,Ii=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?zt(e)||ce(e)||ct(e)?{i:ue,r:e,k:t,f:!!n}:e:null);function ft(e,t=null,n=null,r=0,s=null,i=e===ge?0:1,a=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&cd(t),ref:t&&Ii(t),scopeId:Uf,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:ue};return l?(pl(u,n),i&128&&e.normalize(u)):n&&(u.shapeFlag|=zt(n)?8:16),Ss>0&&!a&&be&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&be.push(u),u}const Nt=E_;function E_(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===zg)&&(e=tr),Ps(e)){const l=Sr(e,t,!0);return n&&pl(l,n),Ss>0&&!i&&be&&(l.shapeFlag&6?be[be.indexOf(e)]=l:be.push(l)),l.patchFlag=-2,l}if(V_(e)&&(e=e.__vccOpts),t){t=T_(t);let{class:l,style:u}=t;l&&!zt(l)&&(t.class=so(l)),xt(u)&&(ul(u)&&!st(u)&&(u=he({},u)),t.style=nl(u))}const a=zt(e)?1:ld(e)?128:Vg(e)?64:xt(e)?4:ct(e)?2:0;return ft(e,t,n,r,s,a,i,!0)}function T_(e){return e?ul(e)||Xf(e)?he({},e):e:null}function Sr(e,t,n=!1,r=!1){const{props:s,ref:i,patchFlag:a,children:l,transition:u}=e,h=t?w_(s||{},t):s,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:h,key:h&&cd(h),ref:t&&t.ref?n&&i?st(i)?i.concat(Ii(t)):[i,Ii(t)]:Ii(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ge?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:u,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Sr(e.ssContent),ssFallback:e.ssFallback&&Sr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u&&r&&hl(d,u.clone(d)),d}function It(e=" ",t=0){return Nt(ho,null,e,t)}function Ge(e){return e==null||typeof e=="boolean"?Nt(tr):st(e)?Nt(ge,null,e.slice()):Ps(e)?wn(e):Nt(ho,null,String(e))}function wn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Sr(e)}function pl(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(st(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),pl(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!Xf(t)?t._ctx=ue:s===3&&ue&&(ue.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ct(t)?(t={default:t,_ctx:ue},n=32):(t=String(t),r&64?(n=16,t=[It(t)]):n=8);e.children=t,e.shapeFlag|=n}function w_(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=so([t.class,r.class]));else if(s==="style")t.style=nl([t.style,r.style]);else if(to(s)){const i=t[s],a=r[s];a&&i!==a&&!(st(i)&&i.includes(a))&&(t[s]=i?[].concat(i,a):a)}else s!==""&&(t[s]=r[s])}return t}function qe(e,t,n,r=null){Xe(e,t,7,[n,r])}const I_=Wf();let A_=0;function R_(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||I_,i={uid:A_++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Xm(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Zf(r,s),emitsOptions:ad(r,s),emit:null,emitted:null,propsDefaults:Pt,inheritAttrs:r.inheritAttrs,ctx:Pt,data:Pt,props:Pt,attrs:Pt,slots:Pt,refs:Pt,setupState:Pt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=d_.bind(null,i),e.ce&&e.ce(i),i}let _e=null,Li,wa;{const e=ro(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),i=>{s.length>1?s.forEach(a=>a(i)):s[0](i)}};Li=t("__VUE_INSTANCE_SETTERS__",n=>_e=n),wa=t("__VUE_SSR_SETTERS__",n=>Vs=n)}const qs=e=>{const t=_e;return Li(e),e.scope.on(),()=>{e.scope.off(),Li(t)}},hc=()=>{_e&&_e.scope.off(),Li(null)};function hd(e){return e.vnode.shapeFlag&4}let Vs=!1;function b_(e,t=!1,n=!1){t&&wa(t);const{props:r,children:s}=e.vnode,i=hd(e);Zg(e,r,i,t),r_(e,s,n||t);const a=i?C_(e,t):void 0;return t&&wa(!1),a}function C_(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Hg);const{setup:r}=n;if(r){un();const s=e.setupContext=r.length>1?P_(e):null,i=qs(e),a=zs(r,e,0,[e.props,s]),l=of(a);if(cn(),i(),(l||e.sp)&&!Ir(e)&&$f(e),l){if(a.then(hc,hc),t)return a.then(u=>{fc(e,u)}).catch(u=>{lo(u,e,0)});e.asyncDep=a}else fc(e,a)}else fd(e)}function fc(e,t,n){ct(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:xt(t)&&(e.setupState=kf(t)),fd(e)}function fd(e,t,n){const r=e.type;e.render||(e.render=r.render||We);{const s=qs(e);un();try{Kg(e)}finally{cn(),s()}}}const S_={get(e,t){return ae(e,"get",""),e[t]}};function P_(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,S_),slots:e.slots,emit:e.emit,expose:t}}function fo(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(kf(_g(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in gs)return gs[n](e)},has(t,n){return n in t||n in gs}})):e.proxy}function V_(e){return ct(e)&&"__vccOpts"in e}const Me=(e,t)=>Ig(e,t,Vs);function dd(e,t,n){const r=arguments.length;return r===2?xt(t)&&!st(t)?Ps(t)?Nt(e,null,[t]):Nt(e,t):Nt(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ps(n)&&(n=[n]),Nt(e,t,n))}const x_="3.5.16";/**
* @vue/runtime-dom v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ia;const dc=typeof window<"u"&&window.trustedTypes;if(dc)try{Ia=dc.createPolicy("vue",{createHTML:e=>e})}catch{}const pd=Ia?e=>Ia.createHTML(e):e=>e,D_="http://www.w3.org/2000/svg",k_="http://www.w3.org/1998/Math/MathML",sn=typeof document<"u"?document:null,pc=sn&&sn.createElement("template"),N_={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?sn.createElementNS(D_,e):t==="mathml"?sn.createElementNS(k_,e):n?sn.createElement(e,{is:n}):sn.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>sn.createTextNode(e),createComment:e=>sn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>sn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const a=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{pc.innerHTML=pd(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const l=pc.content;if(r==="svg"||r==="mathml"){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},O_=Symbol("_vtc");function M_(e,t,n){const r=e[O_];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const mc=Symbol("_vod"),L_=Symbol("_vsh"),F_=Symbol(""),U_=/(^|;)\s*display\s*:/;function B_(e,t,n){const r=e.style,s=zt(n);let i=!1;if(n&&!s){if(t)if(zt(t))for(const a of t.split(";")){const l=a.slice(0,a.indexOf(":")).trim();n[l]==null&&Ai(r,l,"")}else for(const a in t)n[a]==null&&Ai(r,a,"");for(const a in n)a==="display"&&(i=!0),Ai(r,a,n[a])}else if(s){if(t!==n){const a=r[F_];a&&(n+=";"+a),r.cssText=n,i=U_.test(n)}}else t&&e.removeAttribute("style");mc in e&&(e[mc]=i?r.display:"",e[L_]&&(r.display="none"))}const gc=/\s*!important$/;function Ai(e,t,n){if(st(n))n.forEach(r=>Ai(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=$_(e,t);gc.test(n)?e.setProperty(Un(r),n.replace(gc,""),"important"):e[r]=n}}const _c=["Webkit","Moz","ms"],ta={};function $_(e,t){const n=ta[t];if(n)return n;let r=xn(t);if(r!=="filter"&&r in e)return ta[t]=r;r=uf(r);for(let s=0;s<_c.length;s++){const i=_c[s]+r;if(i in e)return ta[t]=i}return t}const yc="http://www.w3.org/1999/xlink";function vc(e,t,n,r,s,i=Qm(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(yc,t.slice(6,t.length)):e.setAttributeNS(yc,t,n):n==null||i&&!hf(n)?e.removeAttribute(t):e.setAttribute(t,i?"":Be(n)?String(n):n)}function Ec(e,t,n,r,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?pd(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?e.getAttribute("value")||"":e.value,u=n==null?e.type==="checkbox"?"on":"":String(n);(l!==u||!("_value"in e))&&(e.value=u),n==null&&e.removeAttribute(t),e._value=n;return}let a=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=hf(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(s||t)}function Yn(e,t,n,r){e.addEventListener(t,n,r)}function j_(e,t,n,r){e.removeEventListener(t,n,r)}const Tc=Symbol("_vei");function z_(e,t,n,r,s=null){const i=e[Tc]||(e[Tc]={}),a=i[t];if(r&&a)a.value=r;else{const[l,u]=q_(t);if(r){const h=i[t]=G_(r,s);Yn(e,l,h,u)}else a&&(j_(e,l,a,u),i[t]=void 0)}}const wc=/(?:Once|Passive|Capture)$/;function q_(e){let t;if(wc.test(e)){t={};let r;for(;r=e.match(wc);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Un(e.slice(2)),t]}let ea=0;const H_=Promise.resolve(),K_=()=>ea||(H_.then(()=>ea=0),ea=Date.now());function G_(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Xe(W_(r,n.value),t,5,[r])};return n.value=e,n.attached=K_(),n}function W_(e,t){if(st(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const Ic=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Q_=(e,t,n,r,s,i)=>{const a=s==="svg";t==="class"?M_(e,r,a):t==="style"?B_(e,n,r):to(t)?Za(t)||z_(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Y_(e,t,r,a))?(Ec(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&vc(e,t,r,a,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!zt(r))?Ec(e,xn(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),vc(e,t,r,a))};function Y_(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ic(t)&&ct(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Ic(t)&&zt(n)?!1:t in e}const Fi=e=>{const t=e.props["onUpdate:modelValue"]||!1;return st(t)?n=>Ei(t,n):t};function X_(e){e.target.composing=!0}function Ac(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Rr=Symbol("_assign"),J_={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e[Rr]=Fi(s);const i=r||s.props&&s.props.type==="number";Yn(e,t?"change":"input",a=>{if(a.target.composing)return;let l=e.value;n&&(l=l.trim()),i&&(l=da(l)),e[Rr](l)}),n&&Yn(e,"change",()=>{e.value=e.value.trim()}),t||(Yn(e,"compositionstart",X_),Yn(e,"compositionend",Ac),Yn(e,"change",Ac))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},a){if(e[Rr]=Fi(a),e.composing)return;const l=(i||e.type==="number")&&!/^0\d/.test(e.value)?da(e.value):e.value,u=t??"";l!==u&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||s&&e.value.trim()===u)||(e.value=u))}},Z_={deep:!0,created(e,t,n){e[Rr]=Fi(n),Yn(e,"change",()=>{const r=e._modelValue,s=ty(e),i=e.checked,a=e[Rr];if(st(r)){const l=ff(r,s),u=l!==-1;if(i&&!u)a(r.concat(s));else if(!i&&u){const h=[...r];h.splice(l,1),a(h)}}else if(eo(r)){const l=new Set(r);i?l.add(s):l.delete(s),a(l)}else a(md(e,i))})},mounted:Rc,beforeUpdate(e,t,n){e[Rr]=Fi(n),Rc(e,t,n)}};function Rc(e,{value:t,oldValue:n},r){e._modelValue=t;let s;if(st(t))s=ff(t,r.props.value)>-1;else if(eo(t))s=t.has(r.props.value);else{if(t===n)return;s=io(t,md(e,!0))}e.checked!==s&&(e.checked=s)}function ty(e){return"_value"in e?e._value:e.value}function md(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const ey={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ny=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const i=Un(s.key);if(t.some(a=>a===i||ey[a]===i))return e(s)})},ry=he({patchProp:Q_},N_);let bc;function sy(){return bc||(bc=i_(ry))}const iy=(...e)=>{const t=sy().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=ay(r);if(!s)return;const i=t._component;!ct(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const a=n(s,!1,oy(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},t};function oy(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function ay(e){return zt(e)?document.querySelector(e):e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly=()=>{};var Cc={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},uy=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[n++],a=e[n++],l=e[n++],u=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return t.join("")},_d={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const i=e[s],a=s+1<e.length,l=a?e[s+1]:0,u=s+2<e.length,h=u?e[s+2]:0,d=i>>2,p=(i&3)<<4|l>>4;let m=(l&15)<<2|h>>6,_=h&63;u||(_=64,a||(m=64)),r.push(n[d],n[p],n[m],n[_])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(gd(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):uy(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const i=n[e.charAt(s++)],l=s<e.length?n[e.charAt(s)]:0;++s;const h=s<e.length?n[e.charAt(s)]:64;++s;const p=s<e.length?n[e.charAt(s)]:64;if(++s,i==null||l==null||h==null||p==null)throw new cy;const m=i<<2|l>>4;if(r.push(m),h!==64){const _=l<<4&240|h>>2;if(r.push(_),p!==64){const P=h<<6&192|p;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class cy extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hy=function(e){const t=gd(e);return _d.encodeByteArray(t,!0)},Ui=function(e){return hy(e).replace(/\./g,"")},fy=function(e){try{return _d.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py=()=>dy().__FIREBASE_DEFAULTS__,my=()=>{if(typeof process>"u"||typeof Cc>"u")return;const e=Cc.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},gy=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&fy(e[1]);return t&&JSON.parse(t)},ml=()=>{try{return ly()||py()||my()||gy()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},_y=e=>{var t,n;return(n=(t=ml())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},yy=e=>{const t=_y(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},yd=()=>{var e;return(e=ml())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(e){return e.endsWith(".cloudworkstations.dev")}async function Ey(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",s=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ui(JSON.stringify(n)),Ui(JSON.stringify(a)),""].join(".")}const ys={};function wy(){const e={prod:[],emulator:[]};for(const t of Object.keys(ys))ys[t]?e.emulator.push(t):e.prod.push(t);return e}function Iy(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let Sc=!1;function Ay(e,t){if(typeof window>"u"||typeof document>"u"||!gl(window.location.host)||ys[e]===t||ys[e]||Sc)return;ys[e]=t;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=wy().prod.length>0;function a(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,_){m.setAttribute("width","24"),m.setAttribute("id",_),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function h(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Sc=!0,a()},m}function d(m,_){m.setAttribute("id",_),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=Iy(r),_=n("text"),P=document.getElementById(_)||document.createElement("span"),x=n("learnmore"),D=document.getElementById(x)||document.createElement("a"),$=n("preprendIcon"),B=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const z=m.element;l(z),d(D,x);const K=h();u(B,$),z.append(B,P,D,K),document.body.appendChild(z)}i?(P.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function by(){var e;const t=(e=ml())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Cy(){return!by()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Sy(){try{return typeof indexedDB=="object"}catch{return!1}}function Py(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;t(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="FirebaseError";class Ur extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Vy,Object.setPrototypeOf(this,Ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vd.prototype.create)}}class vd{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,i=this.errors[t],a=i?xy(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Ur(s,l,r)}}function xy(e,t){return e.replace(Dy,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const Dy=/\{\$([^}]+)}/g;function Bi(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const i=e[s],a=t[s];if(Pc(i)&&Pc(a)){if(!Bi(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Pc(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(e){return e&&e._delegate?e._delegate:e}class xs{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new vy;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Oy(t))try{this.getOrInitializeService({instanceIdentifier:Qn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(t=Qn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Qn){return this.instances.has(t)}getOptions(t=Qn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(t,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(t),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&t(a,s),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ny(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Qn){return this.component?this.component.multipleInstances?t:Qn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ny(e){return e===Qn?void 0:e}function Oy(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new ky(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Et||(Et={}));const Ly={debug:Et.DEBUG,verbose:Et.VERBOSE,info:Et.INFO,warn:Et.WARN,error:Et.ERROR,silent:Et.SILENT},Fy=Et.INFO,Uy={[Et.DEBUG]:"log",[Et.VERBOSE]:"log",[Et.INFO]:"info",[Et.WARN]:"warn",[Et.ERROR]:"error"},By=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=Uy[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ed{constructor(t){this.name=t,this._logLevel=Fy,this._logHandler=By,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Et))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Ly[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Et.DEBUG,...t),this._logHandler(this,Et.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Et.VERBOSE,...t),this._logHandler(this,Et.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Et.INFO,...t),this._logHandler(this,Et.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Et.WARN,...t),this._logHandler(this,Et.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Et.ERROR,...t),this._logHandler(this,Et.ERROR,...t)}}const $y=(e,t)=>t.some(n=>e instanceof n);let Vc,xc;function jy(){return Vc||(Vc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zy(){return xc||(xc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Td=new WeakMap,Aa=new WeakMap,wd=new WeakMap,na=new WeakMap,_l=new WeakMap;function qy(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{n(bn(e.result)),s()},a=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&Td.set(n,e)}).catch(()=>{}),_l.set(t,e),t}function Hy(e){if(Aa.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});Aa.set(e,t)}let Ra={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Aa.get(e);if(t==="objectStoreNames")return e.objectStoreNames||wd.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Ky(e){Ra=e(Ra)}function Gy(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(ra(this),t,...n);return wd.set(r,t.sort?t.sort():[t]),bn(r)}:zy().includes(e)?function(...t){return e.apply(ra(this),t),bn(Td.get(this))}:function(...t){return bn(e.apply(ra(this),t))}}function Wy(e){return typeof e=="function"?Gy(e):(e instanceof IDBTransaction&&Hy(e),$y(e,jy())?new Proxy(e,Ra):e)}function bn(e){if(e instanceof IDBRequest)return qy(e);if(na.has(e))return na.get(e);const t=Wy(e);return t!==e&&(na.set(e,t),_l.set(t,e)),t}const ra=e=>_l.get(e);function Qy(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(e,t),l=bn(a);return r&&a.addEventListener("upgradeneeded",u=>{r(bn(a.result),u.oldVersion,u.newVersion,bn(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const Yy=["get","getKey","getAll","getAllKeys","count"],Xy=["put","add","delete","clear"],sa=new Map;function Dc(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(sa.get(t))return sa.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=Xy.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Yy.includes(n)))return;const i=async function(a,...l){const u=this.transaction(a,s?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),s&&u.done]))[0]};return sa.set(t,i),i}Ky(e=>({...e,get:(t,n,r)=>Dc(t,n)||e.get(t,n,r),has:(t,n)=>!!Dc(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Zy(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Zy(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ba="@firebase/app",kc="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn=new Ed("@firebase/app"),tv="@firebase/app-compat",ev="@firebase/analytics-compat",nv="@firebase/analytics",rv="@firebase/app-check-compat",sv="@firebase/app-check",iv="@firebase/auth",ov="@firebase/auth-compat",av="@firebase/database",lv="@firebase/data-connect",uv="@firebase/database-compat",cv="@firebase/functions",hv="@firebase/functions-compat",fv="@firebase/installations",dv="@firebase/installations-compat",pv="@firebase/messaging",mv="@firebase/messaging-compat",gv="@firebase/performance",_v="@firebase/performance-compat",yv="@firebase/remote-config",vv="@firebase/remote-config-compat",Ev="@firebase/storage",Tv="@firebase/storage-compat",wv="@firebase/firestore",Iv="@firebase/ai",Av="@firebase/firestore-compat",Rv="firebase",bv="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="[DEFAULT]",Cv={[ba]:"fire-core",[tv]:"fire-core-compat",[nv]:"fire-analytics",[ev]:"fire-analytics-compat",[sv]:"fire-app-check",[rv]:"fire-app-check-compat",[iv]:"fire-auth",[ov]:"fire-auth-compat",[av]:"fire-rtdb",[lv]:"fire-data-connect",[uv]:"fire-rtdb-compat",[cv]:"fire-fn",[hv]:"fire-fn-compat",[fv]:"fire-iid",[dv]:"fire-iid-compat",[pv]:"fire-fcm",[mv]:"fire-fcm-compat",[gv]:"fire-perf",[_v]:"fire-perf-compat",[yv]:"fire-rc",[vv]:"fire-rc-compat",[Ev]:"fire-gcs",[Tv]:"fire-gcs-compat",[wv]:"fire-fst",[Av]:"fire-fst-compat",[Iv]:"fire-vertex","fire-js":"fire-js",[Rv]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new Map,Sv=new Map,Sa=new Map;function Nc(e,t){try{e.container.addComponent(t)}catch(n){hn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ji(e){const t=e.name;if(Sa.has(t))return hn.debug(`There were multiple attempts to register component ${t}.`),!1;Sa.set(t,e);for(const n of $i.values())Nc(n,e);for(const n of Sv.values())Nc(n,e);return!0}function Pv(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Vv(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cn=new vd("app","Firebase",xv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Cn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=bv;function Id(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Ca,automaticDataCollectionEnabled:!0},t),s=r.name;if(typeof s!="string"||!s)throw Cn.create("bad-app-name",{appName:String(s)});if(n||(n=yd()),!n)throw Cn.create("no-options");const i=$i.get(s);if(i){if(Bi(n,i.options)&&Bi(r,i.config))return i;throw Cn.create("duplicate-app",{appName:s})}const a=new My(s);for(const u of Sa.values())a.addComponent(u);const l=new Dv(n,r,a);return $i.set(s,l),l}function Nv(e=Ca){const t=$i.get(e);if(!t&&e===Ca&&yd())return Id();if(!t)throw Cn.create("no-app",{appName:e});return t}function br(e,t,n){var r;let s=(r=Cv[e])!==null&&r!==void 0?r:e;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const l=[`Unable to register library "${s}" with version "${t}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),hn.warn(l.join(" "));return}ji(new xs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="firebase-heartbeat-database",Mv=1,Ds="firebase-heartbeat-store";let ia=null;function Ad(){return ia||(ia=Qy(Ov,Mv,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ds)}catch(n){console.warn(n)}}}}).catch(e=>{throw Cn.create("idb-open",{originalErrorMessage:e.message})})),ia}async function Lv(e){try{const n=(await Ad()).transaction(Ds),r=await n.objectStore(Ds).get(Rd(e));return await n.done,r}catch(t){if(t instanceof Ur)hn.warn(t.message);else{const n=Cn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});hn.warn(n.message)}}}async function Oc(e,t){try{const r=(await Ad()).transaction(Ds,"readwrite");await r.objectStore(Ds).put(t,Rd(e)),await r.done}catch(n){if(n instanceof Ur)hn.warn(n.message);else{const r=Cn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hn.warn(r.message)}}}function Rd(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=1024,Uv=30;class Bv{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Mc();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>Uv){const a=zv(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){hn.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Mc(),{heartbeatsToSend:r,unsentEntries:s}=$v(this._heartbeatsCache.heartbeats),i=Ui(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return hn.warn(n),""}}}function Mc(){return new Date().toISOString().substring(0,10)}function $v(e,t=Fv){const n=[];let r=e.slice();for(const s of e){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),Lc(n)>t){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Lc(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class jv{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Sy()?Py().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Lv(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Oc(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Oc(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Lc(e){return Ui(JSON.stringify({version:2,heartbeats:e})).length}function zv(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(e){ji(new xs("platform-logger",t=>new Jy(t),"PRIVATE")),ji(new xs("heartbeat",t=>new Bv(t),"PRIVATE")),br(ba,kc,e),br(ba,kc,"esm2017"),br("fire-js","")}qv("");var Hv="firebase",Kv="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */br(Hv,Kv,"app");var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sn,bd;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,v){function w(){}w.prototype=v.prototype,I.D=v.prototype,I.prototype=new w,I.prototype.constructor=I,I.C=function(A,R,C){for(var T=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)T[fe-2]=arguments[fe];return v.prototype[R].apply(A,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,v,w){w||(w=0);var A=Array(16);if(typeof v=="string")for(var R=0;16>R;++R)A[R]=v.charCodeAt(w++)|v.charCodeAt(w++)<<8|v.charCodeAt(w++)<<16|v.charCodeAt(w++)<<24;else for(R=0;16>R;++R)A[R]=v[w++]|v[w++]<<8|v[w++]<<16|v[w++]<<24;v=I.g[0],w=I.g[1],R=I.g[2];var C=I.g[3],T=v+(C^w&(R^C))+A[0]+3614090360&4294967295;v=w+(T<<7&4294967295|T>>>25),T=C+(R^v&(w^R))+A[1]+3905402710&4294967295,C=v+(T<<12&4294967295|T>>>20),T=R+(w^C&(v^w))+A[2]+606105819&4294967295,R=C+(T<<17&4294967295|T>>>15),T=w+(v^R&(C^v))+A[3]+3250441966&4294967295,w=R+(T<<22&4294967295|T>>>10),T=v+(C^w&(R^C))+A[4]+4118548399&4294967295,v=w+(T<<7&4294967295|T>>>25),T=C+(R^v&(w^R))+A[5]+1200080426&4294967295,C=v+(T<<12&4294967295|T>>>20),T=R+(w^C&(v^w))+A[6]+2821735955&4294967295,R=C+(T<<17&4294967295|T>>>15),T=w+(v^R&(C^v))+A[7]+4249261313&4294967295,w=R+(T<<22&4294967295|T>>>10),T=v+(C^w&(R^C))+A[8]+1770035416&4294967295,v=w+(T<<7&4294967295|T>>>25),T=C+(R^v&(w^R))+A[9]+2336552879&4294967295,C=v+(T<<12&4294967295|T>>>20),T=R+(w^C&(v^w))+A[10]+4294925233&4294967295,R=C+(T<<17&4294967295|T>>>15),T=w+(v^R&(C^v))+A[11]+2304563134&4294967295,w=R+(T<<22&4294967295|T>>>10),T=v+(C^w&(R^C))+A[12]+1804603682&4294967295,v=w+(T<<7&4294967295|T>>>25),T=C+(R^v&(w^R))+A[13]+4254626195&4294967295,C=v+(T<<12&4294967295|T>>>20),T=R+(w^C&(v^w))+A[14]+2792965006&4294967295,R=C+(T<<17&4294967295|T>>>15),T=w+(v^R&(C^v))+A[15]+1236535329&4294967295,w=R+(T<<22&4294967295|T>>>10),T=v+(R^C&(w^R))+A[1]+4129170786&4294967295,v=w+(T<<5&4294967295|T>>>27),T=C+(w^R&(v^w))+A[6]+3225465664&4294967295,C=v+(T<<9&4294967295|T>>>23),T=R+(v^w&(C^v))+A[11]+643717713&4294967295,R=C+(T<<14&4294967295|T>>>18),T=w+(C^v&(R^C))+A[0]+3921069994&4294967295,w=R+(T<<20&4294967295|T>>>12),T=v+(R^C&(w^R))+A[5]+3593408605&4294967295,v=w+(T<<5&4294967295|T>>>27),T=C+(w^R&(v^w))+A[10]+38016083&4294967295,C=v+(T<<9&4294967295|T>>>23),T=R+(v^w&(C^v))+A[15]+3634488961&4294967295,R=C+(T<<14&4294967295|T>>>18),T=w+(C^v&(R^C))+A[4]+3889429448&4294967295,w=R+(T<<20&4294967295|T>>>12),T=v+(R^C&(w^R))+A[9]+568446438&4294967295,v=w+(T<<5&4294967295|T>>>27),T=C+(w^R&(v^w))+A[14]+3275163606&4294967295,C=v+(T<<9&4294967295|T>>>23),T=R+(v^w&(C^v))+A[3]+4107603335&4294967295,R=C+(T<<14&4294967295|T>>>18),T=w+(C^v&(R^C))+A[8]+1163531501&4294967295,w=R+(T<<20&4294967295|T>>>12),T=v+(R^C&(w^R))+A[13]+2850285829&4294967295,v=w+(T<<5&4294967295|T>>>27),T=C+(w^R&(v^w))+A[2]+4243563512&4294967295,C=v+(T<<9&4294967295|T>>>23),T=R+(v^w&(C^v))+A[7]+1735328473&4294967295,R=C+(T<<14&4294967295|T>>>18),T=w+(C^v&(R^C))+A[12]+2368359562&4294967295,w=R+(T<<20&4294967295|T>>>12),T=v+(w^R^C)+A[5]+4294588738&4294967295,v=w+(T<<4&4294967295|T>>>28),T=C+(v^w^R)+A[8]+2272392833&4294967295,C=v+(T<<11&4294967295|T>>>21),T=R+(C^v^w)+A[11]+1839030562&4294967295,R=C+(T<<16&4294967295|T>>>16),T=w+(R^C^v)+A[14]+4259657740&4294967295,w=R+(T<<23&4294967295|T>>>9),T=v+(w^R^C)+A[1]+2763975236&4294967295,v=w+(T<<4&4294967295|T>>>28),T=C+(v^w^R)+A[4]+1272893353&4294967295,C=v+(T<<11&4294967295|T>>>21),T=R+(C^v^w)+A[7]+4139469664&4294967295,R=C+(T<<16&4294967295|T>>>16),T=w+(R^C^v)+A[10]+3200236656&4294967295,w=R+(T<<23&4294967295|T>>>9),T=v+(w^R^C)+A[13]+681279174&4294967295,v=w+(T<<4&4294967295|T>>>28),T=C+(v^w^R)+A[0]+3936430074&4294967295,C=v+(T<<11&4294967295|T>>>21),T=R+(C^v^w)+A[3]+3572445317&4294967295,R=C+(T<<16&4294967295|T>>>16),T=w+(R^C^v)+A[6]+76029189&4294967295,w=R+(T<<23&4294967295|T>>>9),T=v+(w^R^C)+A[9]+3654602809&4294967295,v=w+(T<<4&4294967295|T>>>28),T=C+(v^w^R)+A[12]+3873151461&4294967295,C=v+(T<<11&4294967295|T>>>21),T=R+(C^v^w)+A[15]+530742520&4294967295,R=C+(T<<16&4294967295|T>>>16),T=w+(R^C^v)+A[2]+3299628645&4294967295,w=R+(T<<23&4294967295|T>>>9),T=v+(R^(w|~C))+A[0]+4096336452&4294967295,v=w+(T<<6&4294967295|T>>>26),T=C+(w^(v|~R))+A[7]+1126891415&4294967295,C=v+(T<<10&4294967295|T>>>22),T=R+(v^(C|~w))+A[14]+2878612391&4294967295,R=C+(T<<15&4294967295|T>>>17),T=w+(C^(R|~v))+A[5]+4237533241&4294967295,w=R+(T<<21&4294967295|T>>>11),T=v+(R^(w|~C))+A[12]+1700485571&4294967295,v=w+(T<<6&4294967295|T>>>26),T=C+(w^(v|~R))+A[3]+2399980690&4294967295,C=v+(T<<10&4294967295|T>>>22),T=R+(v^(C|~w))+A[10]+4293915773&4294967295,R=C+(T<<15&4294967295|T>>>17),T=w+(C^(R|~v))+A[1]+2240044497&4294967295,w=R+(T<<21&4294967295|T>>>11),T=v+(R^(w|~C))+A[8]+1873313359&4294967295,v=w+(T<<6&4294967295|T>>>26),T=C+(w^(v|~R))+A[15]+4264355552&4294967295,C=v+(T<<10&4294967295|T>>>22),T=R+(v^(C|~w))+A[6]+2734768916&4294967295,R=C+(T<<15&4294967295|T>>>17),T=w+(C^(R|~v))+A[13]+1309151649&4294967295,w=R+(T<<21&4294967295|T>>>11),T=v+(R^(w|~C))+A[4]+4149444226&4294967295,v=w+(T<<6&4294967295|T>>>26),T=C+(w^(v|~R))+A[11]+3174756917&4294967295,C=v+(T<<10&4294967295|T>>>22),T=R+(v^(C|~w))+A[2]+718787259&4294967295,R=C+(T<<15&4294967295|T>>>17),T=w+(C^(R|~v))+A[9]+3951481745&4294967295,I.g[0]=I.g[0]+v&4294967295,I.g[1]=I.g[1]+(R+(T<<21&4294967295|T>>>11))&4294967295,I.g[2]=I.g[2]+R&4294967295,I.g[3]=I.g[3]+C&4294967295}r.prototype.u=function(I,v){v===void 0&&(v=I.length);for(var w=v-this.blockSize,A=this.B,R=this.h,C=0;C<v;){if(R==0)for(;C<=w;)s(this,I,C),C+=this.blockSize;if(typeof I=="string"){for(;C<v;)if(A[R++]=I.charCodeAt(C++),R==this.blockSize){s(this,A),R=0;break}}else for(;C<v;)if(A[R++]=I[C++],R==this.blockSize){s(this,A),R=0;break}}this.h=R,this.o+=v},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var v=1;v<I.length-8;++v)I[v]=0;var w=8*this.o;for(v=I.length-8;v<I.length;++v)I[v]=w&255,w/=256;for(this.u(I),I=Array(16),v=w=0;4>v;++v)for(var A=0;32>A;A+=8)I[w++]=this.g[v]>>>A&255;return I};function i(I,v){var w=l;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=v(I)}function a(I,v){this.h=v;for(var w=[],A=!0,R=I.length-1;0<=R;R--){var C=I[R]|0;A&&C==v||(w[R]=C,A=!1)}this.g=w}var l={};function u(I){return-128<=I&&128>I?i(I,function(v){return new a([v|0],0>v?-1:0)}):new a([I|0],0>I?-1:0)}function h(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return D(h(-I));for(var v=[],w=1,A=0;I>=w;A++)v[A]=I/w|0,w*=4294967296;return new a(v,0)}function d(I,v){if(I.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I.charAt(0)=="-")return D(d(I.substring(1),v));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=h(Math.pow(v,8)),A=p,R=0;R<I.length;R+=8){var C=Math.min(8,I.length-R),T=parseInt(I.substring(R,R+C),v);8>C?(C=h(Math.pow(v,C)),A=A.j(C).add(h(T))):(A=A.j(w),A=A.add(h(T)))}return A}var p=u(0),m=u(1),_=u(16777216);e=a.prototype,e.m=function(){if(x(this))return-D(this).m();for(var I=0,v=1,w=0;w<this.g.length;w++){var A=this.i(w);I+=(0<=A?A:4294967296+A)*v,v*=4294967296}return I},e.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(P(this))return"0";if(x(this))return"-"+D(this).toString(I);for(var v=h(Math.pow(I,6)),w=this,A="";;){var R=K(w,v).g;w=$(w,R.j(v));var C=((0<w.g.length?w.g[0]:w.h)>>>0).toString(I);if(w=R,P(w))return C+A;for(;6>C.length;)C="0"+C;A=C+A}},e.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function P(I){if(I.h!=0)return!1;for(var v=0;v<I.g.length;v++)if(I.g[v]!=0)return!1;return!0}function x(I){return I.h==-1}e.l=function(I){return I=$(this,I),x(I)?-1:P(I)?0:1};function D(I){for(var v=I.g.length,w=[],A=0;A<v;A++)w[A]=~I.g[A];return new a(w,~I.h).add(m)}e.abs=function(){return x(this)?D(this):this},e.add=function(I){for(var v=Math.max(this.g.length,I.g.length),w=[],A=0,R=0;R<=v;R++){var C=A+(this.i(R)&65535)+(I.i(R)&65535),T=(C>>>16)+(this.i(R)>>>16)+(I.i(R)>>>16);A=T>>>16,C&=65535,T&=65535,w[R]=T<<16|C}return new a(w,w[w.length-1]&-2147483648?-1:0)};function $(I,v){return I.add(D(v))}e.j=function(I){if(P(this)||P(I))return p;if(x(this))return x(I)?D(this).j(D(I)):D(D(this).j(I));if(x(I))return D(this.j(D(I)));if(0>this.l(_)&&0>I.l(_))return h(this.m()*I.m());for(var v=this.g.length+I.g.length,w=[],A=0;A<2*v;A++)w[A]=0;for(A=0;A<this.g.length;A++)for(var R=0;R<I.g.length;R++){var C=this.i(A)>>>16,T=this.i(A)&65535,fe=I.i(R)>>>16,Pe=I.i(R)&65535;w[2*A+2*R]+=T*Pe,B(w,2*A+2*R),w[2*A+2*R+1]+=C*Pe,B(w,2*A+2*R+1),w[2*A+2*R+1]+=T*fe,B(w,2*A+2*R+1),w[2*A+2*R+2]+=C*fe,B(w,2*A+2*R+2)}for(A=0;A<v;A++)w[A]=w[2*A+1]<<16|w[2*A];for(A=v;A<2*v;A++)w[A]=0;return new a(w,0)};function B(I,v){for(;(I[v]&65535)!=I[v];)I[v+1]+=I[v]>>>16,I[v]&=65535,v++}function z(I,v){this.g=I,this.h=v}function K(I,v){if(P(v))throw Error("division by zero");if(P(I))return new z(p,p);if(x(I))return v=K(D(I),v),new z(D(v.g),D(v.h));if(x(v))return v=K(I,D(v)),new z(D(v.g),v.h);if(30<I.g.length){if(x(I)||x(v))throw Error("slowDivide_ only works with positive integers.");for(var w=m,A=v;0>=A.l(I);)w=dt(w),A=dt(A);var R=gt(w,1),C=gt(A,1);for(A=gt(A,2),w=gt(w,2);!P(A);){var T=C.add(A);0>=T.l(I)&&(R=R.add(w),C=T),A=gt(A,1),w=gt(w,1)}return v=$(I,R.j(v)),new z(R,v)}for(R=p;0<=I.l(v);){for(w=Math.max(1,Math.floor(I.m()/v.m())),A=Math.ceil(Math.log(w)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),C=h(w),T=C.j(v);x(T)||0<T.l(I);)w-=A,C=h(w),T=C.j(v);P(C)&&(C=m),R=R.add(C),I=$(I,T)}return new z(R,I)}e.A=function(I){return K(this,I).h},e.and=function(I){for(var v=Math.max(this.g.length,I.g.length),w=[],A=0;A<v;A++)w[A]=this.i(A)&I.i(A);return new a(w,this.h&I.h)},e.or=function(I){for(var v=Math.max(this.g.length,I.g.length),w=[],A=0;A<v;A++)w[A]=this.i(A)|I.i(A);return new a(w,this.h|I.h)},e.xor=function(I){for(var v=Math.max(this.g.length,I.g.length),w=[],A=0;A<v;A++)w[A]=this.i(A)^I.i(A);return new a(w,this.h^I.h)};function dt(I){for(var v=I.g.length+1,w=[],A=0;A<v;A++)w[A]=I.i(A)<<1|I.i(A-1)>>>31;return new a(w,I.h)}function gt(I,v){var w=v>>5;v%=32;for(var A=I.g.length-w,R=[],C=0;C<A;C++)R[C]=0<v?I.i(C+w)>>>v|I.i(C+w+1)<<32-v:I.i(C+w);return new a(R,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,bd=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=d,Sn=a}).apply(typeof Fc<"u"?Fc:typeof self<"u"?self:typeof window<"u"?window:{});var mi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cd,us,Sd,Ri,Pa,Pd,Vd,xd;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,c,f){return o==Array.prototype||o==Object.prototype||(o[c]=f.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof mi=="object"&&mi];for(var c=0;c<o.length;++c){var f=o[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function s(o,c){if(c)t:{var f=r;o=o.split(".");for(var g=0;g<o.length-1;g++){var S=o[g];if(!(S in f))break t;f=f[S]}o=o[o.length-1],g=f[o],c=c(g),c!=g&&c!=null&&t(f,o,{configurable:!0,writable:!0,value:c})}}function i(o,c){o instanceof String&&(o+="");var f=0,g=!1,S={next:function(){if(!g&&f<o.length){var V=f++;return{value:c(V,o[V]),done:!1}}return g=!0,{done:!0,value:void 0}}};return S[Symbol.iterator]=function(){return S},S}s("Array.prototype.values",function(o){return o||function(){return i(this,function(c,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(o){var c=typeof o;return c=c!="object"?c:o?Array.isArray(o)?"array":c:"null",c=="array"||c=="object"&&typeof o.length=="number"}function h(o){var c=typeof o;return c=="object"&&o!=null||c=="function"}function d(o,c,f){return o.call.apply(o.bind,arguments)}function p(o,c,f){if(!o)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var S=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(S,g),o.apply(c,S)}}return function(){return o.apply(c,arguments)}}function m(o,c,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,m.apply(null,arguments)}function _(o,c){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),o.apply(this,g)}}function P(o,c){function f(){}f.prototype=c.prototype,o.aa=c.prototype,o.prototype=new f,o.prototype.constructor=o,o.Qb=function(g,S,V){for(var H=Array(arguments.length-2),St=2;St<arguments.length;St++)H[St-2]=arguments[St];return c.prototype[S].apply(g,H)}}function x(o){const c=o.length;if(0<c){const f=Array(c);for(let g=0;g<c;g++)f[g]=o[g];return f}return[]}function D(o,c){for(let f=1;f<arguments.length;f++){const g=arguments[f];if(u(g)){const S=o.length||0,V=g.length||0;o.length=S+V;for(let H=0;H<V;H++)o[S+H]=g[H]}else o.push(g)}}class ${constructor(c,f){this.i=c,this.j=f,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function B(o){return/^[\s\xa0]*$/.test(o)}function z(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function K(o){return K[" "](o),o}K[" "]=function(){};var dt=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function gt(o,c,f){for(const g in o)c.call(f,o[g],g,o)}function I(o,c){for(const f in o)c.call(void 0,o[f],f,o)}function v(o){const c={};for(const f in o)c[f]=o[f];return c}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(o,c){let f,g;for(let S=1;S<arguments.length;S++){g=arguments[S];for(f in g)o[f]=g[f];for(let V=0;V<w.length;V++)f=w[V],Object.prototype.hasOwnProperty.call(g,f)&&(o[f]=g[f])}}function R(o){var c=1;o=o.split(":");const f=[];for(;0<c&&o.length;)f.push(o.shift()),c--;return o.length&&f.push(o.join(":")),f}function C(o){l.setTimeout(()=>{throw o},0)}function T(){var o=Ie;let c=null;return o.g&&(c=o.g,o.g=o.g.next,o.g||(o.h=null),c.next=null),c}class fe{constructor(){this.h=this.g=null}add(c,f){const g=Pe.get();g.set(c,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Pe=new $(()=>new Bt,o=>o.reset());class Bt{constructor(){this.next=this.g=this.h=null}set(c,f){this.h=c,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let _t,pt=!1,Ie=new fe,Ne=()=>{const o=l.Promise.resolve(void 0);_t=()=>{o.then(Ve)}};var Ve=()=>{for(var o;o=T();){try{o.h.call(o.g)}catch(f){C(f)}var c=Pe;c.j(o),100>c.h&&(c.h++,o.next=c.g,c.g=o)}pt=!1};function Ot(){this.s=this.s,this.C=this.C}Ot.prototype.s=!1,Ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Mt(o,c){this.type=o,this.g=this.target=c,this.defaultPrevented=!1}Mt.prototype.h=function(){this.defaultPrevented=!0};var mn=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,c=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};l.addEventListener("test",f,c),l.removeEventListener("test",f,c)}catch{}return o}();function ze(o,c){if(Mt.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var f=this.type=o.type,g=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=c,c=o.relatedTarget){if(dt){t:{try{K(c.nodeName);var S=!0;break t}catch{}S=!1}S||(c=null)}}else f=="mouseover"?c=o.fromElement:f=="mouseout"&&(c=o.toElement);this.relatedTarget=c,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:ye[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&ze.aa.h.call(this)}}P(ze,Mt);var ye={2:"touch",3:"pen",4:"mouse"};ze.prototype.h=function(){ze.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var k="closure_listenable_"+(1e6*Math.random()|0),Y=0;function Q(o,c,f,g,S){this.listener=o,this.proxy=null,this.src=c,this.type=f,this.capture=!!g,this.ha=S,this.key=++Y,this.da=this.fa=!1}function Z(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Tt(o){this.src=o,this.g={},this.h=0}Tt.prototype.add=function(o,c,f,g,S){var V=o.toString();o=this.g[V],o||(o=this.g[V]=[],this.h++);var H=E(o,c,g,S);return-1<H?(c=o[H],f||(c.fa=!1)):(c=new Q(c,this.src,V,!!g,S),c.fa=f,o.push(c)),c};function y(o,c){var f=c.type;if(f in o.g){var g=o.g[f],S=Array.prototype.indexOf.call(g,c,void 0),V;(V=0<=S)&&Array.prototype.splice.call(g,S,1),V&&(Z(c),o.g[f].length==0&&(delete o.g[f],o.h--))}}function E(o,c,f,g){for(var S=0;S<o.length;++S){var V=o[S];if(!V.da&&V.listener==c&&V.capture==!!f&&V.ha==g)return S}return-1}var b="closure_lm_"+(1e6*Math.random()|0),N={};function F(o,c,f,g,S){if(Array.isArray(c)){for(var V=0;V<c.length;V++)F(o,c[V],f,g,S);return null}return f=ot(f),o&&o[k]?o.K(c,f,h(g)?!!g.capture:!1,S):O(o,c,f,!1,g,S)}function O(o,c,f,g,S,V){if(!c)throw Error("Invalid event type");var H=h(S)?!!S.capture:!!S,St=G(o);if(St||(o[b]=St=new Tt(o)),f=St.add(c,f,g,H,V),f.proxy)return f;if(g=W(),f.proxy=g,g.src=o,g.listener=f,o.addEventListener)mn||(S=H),S===void 0&&(S=!1),o.addEventListener(c.toString(),g,S);else if(o.attachEvent)o.attachEvent(U(c.toString()),g);else if(o.addListener&&o.removeListener)o.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function W(){function o(f){return c.call(o.src,o.listener,f)}const c=et;return o}function q(o,c,f,g,S){if(Array.isArray(c))for(var V=0;V<c.length;V++)q(o,c[V],f,g,S);else g=h(g)?!!g.capture:!!g,f=ot(f),o&&o[k]?(o=o.i,c=String(c).toString(),c in o.g&&(V=o.g[c],f=E(V,f,g,S),-1<f&&(Z(V[f]),Array.prototype.splice.call(V,f,1),V.length==0&&(delete o.g[c],o.h--)))):o&&(o=G(o))&&(c=o.g[c.toString()],o=-1,c&&(o=E(c,f,g,S)),(f=-1<o?c[o]:null)&&j(f))}function j(o){if(typeof o!="number"&&o&&!o.da){var c=o.src;if(c&&c[k])y(c.i,o);else{var f=o.type,g=o.proxy;c.removeEventListener?c.removeEventListener(f,g,o.capture):c.detachEvent?c.detachEvent(U(f),g):c.addListener&&c.removeListener&&c.removeListener(g),(f=G(c))?(y(f,o),f.h==0&&(f.src=null,c[b]=null)):Z(o)}}}function U(o){return o in N?N[o]:N[o]="on"+o}function et(o,c){if(o.da)o=!0;else{c=new ze(c,this);var f=o.listener,g=o.ha||o.src;o.fa&&j(o),o=f.call(g,c)}return o}function G(o){return o=o[b],o instanceof Tt?o:null}var tt="__closure_events_fn_"+(1e9*Math.random()>>>0);function ot(o){return typeof o=="function"?o:(o[tt]||(o[tt]=function(c){return o.handleEvent(c)}),o[tt])}function rt(){Ot.call(this),this.i=new Tt(this),this.M=this,this.F=null}P(rt,Ot),rt.prototype[k]=!0,rt.prototype.removeEventListener=function(o,c,f,g){q(this,o,c,f,g)};function ut(o,c){var f,g=o.F;if(g)for(f=[];g;g=g.F)f.push(g);if(o=o.M,g=c.type||c,typeof c=="string")c=new Mt(c,o);else if(c instanceof Mt)c.target=c.target||o;else{var S=c;c=new Mt(g,o),A(c,S)}if(S=!0,f)for(var V=f.length-1;0<=V;V--){var H=c.g=f[V];S=yt(H,g,!0,c)&&S}if(H=c.g=o,S=yt(H,g,!0,c)&&S,S=yt(H,g,!1,c)&&S,f)for(V=0;V<f.length;V++)H=c.g=f[V],S=yt(H,g,!1,c)&&S}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var o=this.i,c;for(c in o.g){for(var f=o.g[c],g=0;g<f.length;g++)Z(f[g]);delete o.g[c],o.h--}}this.F=null},rt.prototype.K=function(o,c,f,g){return this.i.add(String(o),c,!1,f,g)},rt.prototype.L=function(o,c,f,g){return this.i.add(String(o),c,!0,f,g)};function yt(o,c,f,g){if(c=o.i.g[String(c)],!c)return!0;c=c.concat();for(var S=!0,V=0;V<c.length;++V){var H=c[V];if(H&&!H.da&&H.capture==f){var St=H.listener,Qt=H.ha||H.src;H.fa&&y(o.i,H),S=St.call(Qt,g)!==!1&&S}}return S&&!g.defaultPrevented}function te(o,c,f){if(typeof o=="function")f&&(o=m(o,f));else if(o&&typeof o.handleEvent=="function")o=m(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(o,c||0)}function Gt(o){o.g=te(()=>{o.g=null,o.i&&(o.i=!1,Gt(o))},o.l);const c=o.h;o.h=null,o.m.apply(null,c)}class xe extends Ot{constructor(c,f){super(),this.m=c,this.l=f,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:Gt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ee(o){Ot.call(this),this.h=o,this.g={}}P(ee,Ot);var gn=[];function Hr(o){gt(o.g,function(c,f){this.g.hasOwnProperty(f)&&j(c)},o),o.g={}}ee.prototype.N=function(){ee.aa.N.call(this),Hr(this)},ee.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wt=l.JSON.stringify,De=l.JSON.parse,Ys=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function Vo(){}Vo.prototype.h=null;function su(o){return o.h||(o.h=o.i())}function iu(){}var Kr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xo(){Mt.call(this,"d")}P(xo,Mt);function Do(){Mt.call(this,"c")}P(Do,Mt);var jn={},ou=null;function Xs(){return ou=ou||new rt}jn.La="serverreachability";function au(o){Mt.call(this,jn.La,o)}P(au,Mt);function Gr(o){const c=Xs();ut(c,new au(c))}jn.STAT_EVENT="statevent";function lu(o,c){Mt.call(this,jn.STAT_EVENT,o),this.stat=c}P(lu,Mt);function de(o){const c=Xs();ut(c,new lu(c,o))}jn.Ma="timingevent";function uu(o,c){Mt.call(this,jn.Ma,o),this.size=c}P(uu,Mt);function Wr(o,c){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},c)}function Qr(){this.g=!0}Qr.prototype.xa=function(){this.g=!1};function gm(o,c,f,g,S,V){o.info(function(){if(o.g)if(V)for(var H="",St=V.split("&"),Qt=0;Qt<St.length;Qt++){var wt=St[Qt].split("=");if(1<wt.length){var ne=wt[0];wt=wt[1];var re=ne.split("_");H=2<=re.length&&re[1]=="type"?H+(ne+"="+wt+"&"):H+(ne+"=redacted&")}}else H=null;else H=V;return"XMLHTTP REQ ("+g+") [attempt "+S+"]: "+c+`
`+f+`
`+H})}function _m(o,c,f,g,S,V,H){o.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+S+"]: "+c+`
`+f+`
`+V+" "+H})}function ar(o,c,f,g){o.info(function(){return"XMLHTTP TEXT ("+c+"): "+vm(o,f)+(g?" "+g:"")})}function ym(o,c){o.info(function(){return"TIMEOUT: "+c})}Qr.prototype.info=function(){};function vm(o,c){if(!o.g)return c;if(!c)return null;try{var f=JSON.parse(c);if(f){for(o=0;o<f.length;o++)if(Array.isArray(f[o])){var g=f[o];if(!(2>g.length)){var S=g[1];if(Array.isArray(S)&&!(1>S.length)){var V=S[0];if(V!="noop"&&V!="stop"&&V!="close")for(var H=1;H<S.length;H++)S[H]=""}}}}return Wt(f)}catch{return c}}var Js={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},cu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ko;function Zs(){}P(Zs,Vo),Zs.prototype.g=function(){return new XMLHttpRequest},Zs.prototype.i=function(){return{}},ko=new Zs;function _n(o,c,f,g){this.j=o,this.i=c,this.l=f,this.R=g||1,this.U=new ee(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new hu}function hu(){this.i=null,this.g="",this.h=!1}var fu={},No={};function Oo(o,c,f){o.L=1,o.v=ri(tn(c)),o.m=f,o.P=!0,du(o,null)}function du(o,c){o.F=Date.now(),ti(o),o.A=tn(o.v);var f=o.A,g=o.R;Array.isArray(g)||(g=[String(g)]),Cu(f.i,"t",g),o.C=0,f=o.j.J,o.h=new hu,o.g=Hu(o.j,f?c:null,!o.m),0<o.O&&(o.M=new xe(m(o.Y,o,o.g),o.O)),c=o.U,f=o.g,g=o.ca;var S="readystatechange";Array.isArray(S)||(S&&(gn[0]=S.toString()),S=gn);for(var V=0;V<S.length;V++){var H=F(f,S[V],g||c.handleEvent,!1,c.h||c);if(!H)break;c.g[H.key]=H}c=o.H?v(o.H):{},o.m?(o.u||(o.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,c)):(o.u="GET",o.g.ea(o.A,o.u,null,c)),Gr(),gm(o.i,o.u,o.A,o.l,o.R,o.m)}_n.prototype.ca=function(o){o=o.target;const c=this.M;c&&en(o)==3?c.j():this.Y(o)},_n.prototype.Y=function(o){try{if(o==this.g)t:{const re=en(this.g);var c=this.g.Ba();const cr=this.g.Z();if(!(3>re)&&(re!=3||this.g&&(this.h.h||this.g.oa()||Nu(this.g)))){this.J||re!=4||c==7||(c==8||0>=cr?Gr(3):Gr(2)),Mo(this);var f=this.g.Z();this.X=f;e:if(pu(this)){var g=Nu(this.g);o="";var S=g.length,V=en(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zn(this),Yr(this);var H="";break e}this.h.i=new l.TextDecoder}for(c=0;c<S;c++)this.h.h=!0,o+=this.h.i.decode(g[c],{stream:!(V&&c==S-1)});g.length=0,this.h.g+=o,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=f==200,_m(this.i,this.u,this.A,this.l,this.R,re,f),this.o){if(this.T&&!this.K){e:{if(this.g){var St,Qt=this.g;if((St=Qt.g?Qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(St)){var wt=St;break e}}wt=null}if(f=wt)ar(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Lo(this,f);else{this.o=!1,this.s=3,de(12),zn(this),Yr(this);break t}}if(this.P){f=!0;let Oe;for(;!this.J&&this.C<H.length;)if(Oe=Em(this,H),Oe==No){re==4&&(this.s=4,de(14),f=!1),ar(this.i,this.l,null,"[Incomplete Response]");break}else if(Oe==fu){this.s=4,de(15),ar(this.i,this.l,H,"[Invalid Chunk]"),f=!1;break}else ar(this.i,this.l,Oe,null),Lo(this,Oe);if(pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),re!=4||H.length!=0||this.h.h||(this.s=1,de(16),f=!1),this.o=this.o&&f,!f)ar(this.i,this.l,H,"[Invalid Chunked Response]"),zn(this),Yr(this);else if(0<H.length&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.ba&&!ne.M&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),zo(ne),ne.M=!0,de(11))}}else ar(this.i,this.l,H,null),Lo(this,H);re==4&&zn(this),this.o&&!this.J&&(re==4?$u(this.j,this):(this.o=!1,ti(this)))}else Lm(this.g),f==400&&0<H.indexOf("Unknown SID")?(this.s=3,de(12)):(this.s=0,de(13)),zn(this),Yr(this)}}}catch{}finally{}};function pu(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Em(o,c){var f=o.C,g=c.indexOf(`
`,f);return g==-1?No:(f=Number(c.substring(f,g)),isNaN(f)?fu:(g+=1,g+f>c.length?No:(c=c.slice(g,g+f),o.C=g+f,c)))}_n.prototype.cancel=function(){this.J=!0,zn(this)};function ti(o){o.S=Date.now()+o.I,mu(o,o.I)}function mu(o,c){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Wr(m(o.ba,o),c)}function Mo(o){o.B&&(l.clearTimeout(o.B),o.B=null)}_n.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(ym(this.i,this.A),this.L!=2&&(Gr(),de(17)),zn(this),this.s=2,Yr(this)):mu(this,this.S-o)};function Yr(o){o.j.G==0||o.J||$u(o.j,o)}function zn(o){Mo(o);var c=o.M;c&&typeof c.ma=="function"&&c.ma(),o.M=null,Hr(o.U),o.g&&(c=o.g,o.g=null,c.abort(),c.ma())}function Lo(o,c){try{var f=o.j;if(f.G!=0&&(f.g==o||Fo(f.h,o))){if(!o.K&&Fo(f.h,o)&&f.G==3){try{var g=f.Da.g.parse(c)}catch{g=null}if(Array.isArray(g)&&g.length==3){var S=g;if(S[0]==0){t:if(!f.u){if(f.g)if(f.g.F+3e3<o.F)ui(f),ai(f);else break t;jo(f),de(18)}}else f.za=S[1],0<f.za-f.T&&37500>S[2]&&f.F&&f.v==0&&!f.C&&(f.C=Wr(m(f.Za,f),6e3));if(1>=yu(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Hn(f,11)}else if((o.K||f.g==o)&&ui(f),!B(c))for(S=f.Da.g.parse(c),c=0;c<S.length;c++){let wt=S[c];if(f.T=wt[0],wt=wt[1],f.G==2)if(wt[0]=="c"){f.K=wt[1],f.ia=wt[2];const ne=wt[3];ne!=null&&(f.la=ne,f.j.info("VER="+f.la));const re=wt[4];re!=null&&(f.Aa=re,f.j.info("SVER="+f.Aa));const cr=wt[5];cr!=null&&typeof cr=="number"&&0<cr&&(g=1.5*cr,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;const Oe=o.g;if(Oe){const hi=Oe.g?Oe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hi){var V=g.h;V.g||hi.indexOf("spdy")==-1&&hi.indexOf("quic")==-1&&hi.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Uo(V,V.h),V.h=null))}if(g.D){const qo=Oe.g?Oe.g.getResponseHeader("X-HTTP-Session-Id"):null;qo&&(g.ya=qo,Dt(g.I,g.D,qo))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-o.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var H=o;if(g.qa=qu(g,g.J?g.ia:null,g.W),H.K){vu(g.h,H);var St=H,Qt=g.L;Qt&&(St.I=Qt),St.B&&(Mo(St),ti(St)),g.g=H}else Uu(g);0<f.i.length&&li(f)}else wt[0]!="stop"&&wt[0]!="close"||Hn(f,7);else f.G==3&&(wt[0]=="stop"||wt[0]=="close"?wt[0]=="stop"?Hn(f,7):$o(f):wt[0]!="noop"&&f.l&&f.l.ta(wt),f.v=0)}}Gr(4)}catch{}}var Tm=class{constructor(o,c){this.g=o,this.map=c}};function gu(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _u(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function yu(o){return o.h?1:o.g?o.g.size:0}function Fo(o,c){return o.h?o.h==c:o.g?o.g.has(c):!1}function Uo(o,c){o.g?o.g.add(c):o.h=c}function vu(o,c){o.h&&o.h==c?o.h=null:o.g&&o.g.has(c)&&o.g.delete(c)}gu.prototype.cancel=function(){if(this.i=Eu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Eu(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let c=o.i;for(const f of o.g.values())c=c.concat(f.D);return c}return x(o.i)}function wm(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(u(o)){for(var c=[],f=o.length,g=0;g<f;g++)c.push(o[g]);return c}c=[],f=0;for(g in o)c[f++]=o[g];return c}function Im(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(u(o)||typeof o=="string"){var c=[];o=o.length;for(var f=0;f<o;f++)c.push(f);return c}c=[],f=0;for(const g in o)c[f++]=g;return c}}}function Tu(o,c){if(o.forEach&&typeof o.forEach=="function")o.forEach(c,void 0);else if(u(o)||typeof o=="string")Array.prototype.forEach.call(o,c,void 0);else for(var f=Im(o),g=wm(o),S=g.length,V=0;V<S;V++)c.call(void 0,g[V],f&&f[V],o)}var wu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Am(o,c){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var g=o[f].indexOf("="),S=null;if(0<=g){var V=o[f].substring(0,g);S=o[f].substring(g+1)}else V=o[f];c(V,S?decodeURIComponent(S.replace(/\+/g," ")):"")}}}function qn(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof qn){this.h=o.h,ei(this,o.j),this.o=o.o,this.g=o.g,ni(this,o.s),this.l=o.l;var c=o.i,f=new Zr;f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),Iu(this,f),this.m=o.m}else o&&(c=String(o).match(wu))?(this.h=!1,ei(this,c[1]||"",!0),this.o=Xr(c[2]||""),this.g=Xr(c[3]||"",!0),ni(this,c[4]),this.l=Xr(c[5]||"",!0),Iu(this,c[6]||"",!0),this.m=Xr(c[7]||"")):(this.h=!1,this.i=new Zr(null,this.h))}qn.prototype.toString=function(){var o=[],c=this.j;c&&o.push(Jr(c,Au,!0),":");var f=this.g;return(f||c=="file")&&(o.push("//"),(c=this.o)&&o.push(Jr(c,Au,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&o.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(Jr(f,f.charAt(0)=="/"?Cm:bm,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",Jr(f,Pm)),o.join("")};function tn(o){return new qn(o)}function ei(o,c,f){o.j=f?Xr(c,!0):c,o.j&&(o.j=o.j.replace(/:$/,""))}function ni(o,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);o.s=c}else o.s=null}function Iu(o,c,f){c instanceof Zr?(o.i=c,Vm(o.i,o.h)):(f||(c=Jr(c,Sm)),o.i=new Zr(c,o.h))}function Dt(o,c,f){o.i.set(c,f)}function ri(o){return Dt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Xr(o,c){return o?c?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Jr(o,c,f){return typeof o=="string"?(o=encodeURI(o).replace(c,Rm),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Rm(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Au=/[#\/\?@]/g,bm=/[#\?:]/g,Cm=/[#\?]/g,Sm=/[#\?@]/g,Pm=/#/g;function Zr(o,c){this.h=this.g=null,this.i=o||null,this.j=!!c}function yn(o){o.g||(o.g=new Map,o.h=0,o.i&&Am(o.i,function(c,f){o.add(decodeURIComponent(c.replace(/\+/g," ")),f)}))}e=Zr.prototype,e.add=function(o,c){yn(this),this.i=null,o=lr(this,o);var f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(c),this.h+=1,this};function Ru(o,c){yn(o),c=lr(o,c),o.g.has(c)&&(o.i=null,o.h-=o.g.get(c).length,o.g.delete(c))}function bu(o,c){return yn(o),c=lr(o,c),o.g.has(c)}e.forEach=function(o,c){yn(this),this.g.forEach(function(f,g){f.forEach(function(S){o.call(c,S,g,this)},this)},this)},e.na=function(){yn(this);const o=Array.from(this.g.values()),c=Array.from(this.g.keys()),f=[];for(let g=0;g<c.length;g++){const S=o[g];for(let V=0;V<S.length;V++)f.push(c[g])}return f},e.V=function(o){yn(this);let c=[];if(typeof o=="string")bu(this,o)&&(c=c.concat(this.g.get(lr(this,o))));else{o=Array.from(this.g.values());for(let f=0;f<o.length;f++)c=c.concat(o[f])}return c},e.set=function(o,c){return yn(this),this.i=null,o=lr(this,o),bu(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[c]),this.h+=1,this},e.get=function(o,c){return o?(o=this.V(o),0<o.length?String(o[0]):c):c};function Cu(o,c,f){Ru(o,c),0<f.length&&(o.i=null,o.g.set(lr(o,c),x(f)),o.h+=f.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],c=Array.from(this.g.keys());for(var f=0;f<c.length;f++){var g=c[f];const V=encodeURIComponent(String(g)),H=this.V(g);for(g=0;g<H.length;g++){var S=V;H[g]!==""&&(S+="="+encodeURIComponent(String(H[g]))),o.push(S)}}return this.i=o.join("&")};function lr(o,c){return c=String(c),o.j&&(c=c.toLowerCase()),c}function Vm(o,c){c&&!o.j&&(yn(o),o.i=null,o.g.forEach(function(f,g){var S=g.toLowerCase();g!=S&&(Ru(this,g),Cu(this,S,f))},o)),o.j=c}function xm(o,c){const f=new Qr;if(l.Image){const g=new Image;g.onload=_(vn,f,"TestLoadImage: loaded",!0,c,g),g.onerror=_(vn,f,"TestLoadImage: error",!1,c,g),g.onabort=_(vn,f,"TestLoadImage: abort",!1,c,g),g.ontimeout=_(vn,f,"TestLoadImage: timeout",!1,c,g),l.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=o}else c(!1)}function Dm(o,c){const f=new Qr,g=new AbortController,S=setTimeout(()=>{g.abort(),vn(f,"TestPingServer: timeout",!1,c)},1e4);fetch(o,{signal:g.signal}).then(V=>{clearTimeout(S),V.ok?vn(f,"TestPingServer: ok",!0,c):vn(f,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(S),vn(f,"TestPingServer: error",!1,c)})}function vn(o,c,f,g,S){try{S&&(S.onload=null,S.onerror=null,S.onabort=null,S.ontimeout=null),g(f)}catch{}}function km(){this.g=new Ys}function Nm(o,c,f){const g=f||"";try{Tu(o,function(S,V){let H=S;h(S)&&(H=Wt(S)),c.push(g+V+"="+encodeURIComponent(H))})}catch(S){throw c.push(g+"type="+encodeURIComponent("_badmap")),S}}function si(o){this.l=o.Ub||null,this.j=o.eb||!1}P(si,Vo),si.prototype.g=function(){return new ii(this.l,this.j)},si.prototype.i=function(o){return function(){return o}}({});function ii(o,c){rt.call(this),this.D=o,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(ii,rt),e=ii.prototype,e.open=function(o,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=c,this.readyState=1,es(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(c.body=o),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ts(this)),this.readyState=0},e.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,es(this)),this.g&&(this.readyState=3,es(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Su(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Su(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}e.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var c=o.value?o.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!o.done}))&&(this.response=this.responseText+=c)}o.done?ts(this):es(this),this.readyState==3&&Su(this)}},e.Ra=function(o){this.g&&(this.response=this.responseText=o,ts(this))},e.Qa=function(o){this.g&&(this.response=o,ts(this))},e.ga=function(){this.g&&ts(this)};function ts(o){o.readyState=4,o.l=null,o.j=null,o.v=null,es(o)}e.setRequestHeader=function(o,c){this.u.append(o,c)},e.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],c=this.h.entries();for(var f=c.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=c.next();return o.join(`\r
`)};function es(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(ii.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Pu(o){let c="";return gt(o,function(f,g){c+=g,c+=":",c+=f,c+=`\r
`}),c}function Bo(o,c,f){t:{for(g in f){var g=!1;break t}g=!0}g||(f=Pu(f),typeof o=="string"?f!=null&&encodeURIComponent(String(f)):Dt(o,c,f))}function Ft(o){rt.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Ft,rt);var Om=/^https?$/i,Mm=["POST","PUT"];e=Ft.prototype,e.Ha=function(o){this.J=o},e.ea=function(o,c,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);c=c?c.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ko.g(),this.v=this.o?su(this.o):su(ko),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(c,String(o),!0),this.B=!1}catch(V){Vu(this,V);return}if(o=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var S in g)f.set(S,g[S]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(const V of g.keys())f.set(V,g.get(V));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(V=>V.toLowerCase()=="content-type"),S=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Mm,c,void 0))||g||S||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,H]of f)this.g.setRequestHeader(V,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ku(this),this.u=!0,this.g.send(o),this.u=!1}catch(V){Vu(this,V)}};function Vu(o,c){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=c,o.m=5,xu(o),oi(o)}function xu(o){o.A||(o.A=!0,ut(o,"complete"),ut(o,"error"))}e.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,ut(this,"complete"),ut(this,"abort"),oi(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oi(this,!0)),Ft.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Du(this):this.bb())},e.bb=function(){Du(this)};function Du(o){if(o.h&&typeof a<"u"&&(!o.v[1]||en(o)!=4||o.Z()!=2)){if(o.u&&en(o)==4)te(o.Ea,0,o);else if(ut(o,"readystatechange"),en(o)==4){o.h=!1;try{const H=o.Z();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var f;if(!(f=c)){var g;if(g=H===0){var S=String(o.D).match(wu)[1]||null;!S&&l.self&&l.self.location&&(S=l.self.location.protocol.slice(0,-1)),g=!Om.test(S?S.toLowerCase():"")}f=g}if(f)ut(o,"complete"),ut(o,"success");else{o.m=6;try{var V=2<en(o)?o.g.statusText:""}catch{V=""}o.l=V+" ["+o.Z()+"]",xu(o)}}finally{oi(o)}}}}function oi(o,c){if(o.g){ku(o);const f=o.g,g=o.v[0]?()=>{}:null;o.g=null,o.v=null,c||ut(o,"ready");try{f.onreadystatechange=g}catch{}}}function ku(o){o.I&&(l.clearTimeout(o.I),o.I=null)}e.isActive=function(){return!!this.g};function en(o){return o.g?o.g.readyState:0}e.Z=function(){try{return 2<en(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(o){if(this.g){var c=this.g.responseText;return o&&c.indexOf(o)==0&&(c=c.substring(o.length)),De(c)}};function Nu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Lm(o){const c={};o=(o.g&&2<=en(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<o.length;g++){if(B(o[g]))continue;var f=R(o[g]);const S=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const V=c[S]||[];c[S]=V,V.push(f)}I(c,function(g){return g.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ns(o,c,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||c}function Ou(o){this.Aa=0,this.i=[],this.j=new Qr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ns("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ns("baseRetryDelayMs",5e3,o),this.cb=ns("retryDelaySeedMs",1e4,o),this.Wa=ns("forwardChannelMaxRetries",2,o),this.wa=ns("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new gu(o&&o.concurrentRequestLimit),this.Da=new km,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Ou.prototype,e.la=8,e.G=1,e.connect=function(o,c,f,g){de(0),this.W=o,this.H=c||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=qu(this,null,this.W),li(this)};function $o(o){if(Mu(o),o.G==3){var c=o.U++,f=tn(o.I);if(Dt(f,"SID",o.K),Dt(f,"RID",c),Dt(f,"TYPE","terminate"),rs(o,f),c=new _n(o,o.j,c),c.L=2,c.v=ri(tn(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=c.v,f=!0),f||(c.g=Hu(c.j,null),c.g.ea(c.v)),c.F=Date.now(),ti(c)}zu(o)}function ai(o){o.g&&(zo(o),o.g.cancel(),o.g=null)}function Mu(o){ai(o),o.u&&(l.clearTimeout(o.u),o.u=null),ui(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function li(o){if(!_u(o.h)&&!o.s){o.s=!0;var c=o.Ga;_t||Ne(),pt||(_t(),pt=!0),Ie.add(c,o),o.B=0}}function Fm(o,c){return yu(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=c.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Wr(m(o.Ga,o,c),ju(o,o.B)),o.B++,!0)}e.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const S=new _n(this,this.j,o);let V=this.o;if(this.S&&(V?(V=v(V),A(V,this.S)):V=this.S),this.m!==null||this.O||(S.H=V,V=null),this.P)t:{for(var c=0,f=0;f<this.i.length;f++){e:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break e}g=void 0}if(g===void 0)break;if(c+=g,4096<c){c=f;break t}if(c===4096||f===this.i.length-1){c=f+1;break t}}c=1e3}else c=1e3;c=Fu(this,S,c),f=tn(this.I),Dt(f,"RID",o),Dt(f,"CVER",22),this.D&&Dt(f,"X-HTTP-Session-Id",this.D),rs(this,f),V&&(this.O?c="headers="+encodeURIComponent(String(Pu(V)))+"&"+c:this.m&&Bo(f,this.m,V)),Uo(this.h,S),this.Ua&&Dt(f,"TYPE","init"),this.P?(Dt(f,"$req",c),Dt(f,"SID","null"),S.T=!0,Oo(S,f,null)):Oo(S,f,c),this.G=2}}else this.G==3&&(o?Lu(this,o):this.i.length==0||_u(this.h)||Lu(this))};function Lu(o,c){var f;c?f=c.l:f=o.U++;const g=tn(o.I);Dt(g,"SID",o.K),Dt(g,"RID",f),Dt(g,"AID",o.T),rs(o,g),o.m&&o.o&&Bo(g,o.m,o.o),f=new _n(o,o.j,f,o.B+1),o.m===null&&(f.H=o.o),c&&(o.i=c.D.concat(o.i)),c=Fu(o,f,1e3),f.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Uo(o.h,f),Oo(f,g,c)}function rs(o,c){o.H&&gt(o.H,function(f,g){Dt(c,g,f)}),o.l&&Tu({},function(f,g){Dt(c,g,f)})}function Fu(o,c,f){f=Math.min(o.i.length,f);var g=o.l?m(o.l.Na,o.l,o):null;t:{var S=o.i;let V=-1;for(;;){const H=["count="+f];V==-1?0<f?(V=S[0].g,H.push("ofs="+V)):V=0:H.push("ofs="+V);let St=!0;for(let Qt=0;Qt<f;Qt++){let wt=S[Qt].g;const ne=S[Qt].map;if(wt-=V,0>wt)V=Math.max(0,S[Qt].g-100),St=!1;else try{Nm(ne,H,"req"+wt+"_")}catch{g&&g(ne)}}if(St){g=H.join("&");break t}}}return o=o.i.splice(0,f),c.D=o,g}function Uu(o){if(!o.g&&!o.u){o.Y=1;var c=o.Fa;_t||Ne(),pt||(_t(),pt=!0),Ie.add(c,o),o.v=0}}function jo(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Wr(m(o.Fa,o),ju(o,o.v)),o.v++,!0)}e.Fa=function(){if(this.u=null,Bu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Wr(m(this.ab,this),o)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,de(10),ai(this),Bu(this))};function zo(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function Bu(o){o.g=new _n(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var c=tn(o.qa);Dt(c,"RID","rpc"),Dt(c,"SID",o.K),Dt(c,"AID",o.T),Dt(c,"CI",o.F?"0":"1"),!o.F&&o.ja&&Dt(c,"TO",o.ja),Dt(c,"TYPE","xmlhttp"),rs(o,c),o.m&&o.o&&Bo(c,o.m,o.o),o.L&&(o.g.I=o.L);var f=o.g;o=o.ia,f.L=1,f.v=ri(tn(c)),f.m=null,f.P=!0,du(f,o)}e.Za=function(){this.C!=null&&(this.C=null,ai(this),jo(this),de(19))};function ui(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function $u(o,c){var f=null;if(o.g==c){ui(o),zo(o),o.g=null;var g=2}else if(Fo(o.h,c))f=c.D,vu(o.h,c),g=1;else return;if(o.G!=0){if(c.o)if(g==1){f=c.m?c.m.length:0,c=Date.now()-c.F;var S=o.B;g=Xs(),ut(g,new uu(g,f)),li(o)}else Uu(o);else if(S=c.s,S==3||S==0&&0<c.X||!(g==1&&Fm(o,c)||g==2&&jo(o)))switch(f&&0<f.length&&(c=o.h,c.i=c.i.concat(f)),S){case 1:Hn(o,5);break;case 4:Hn(o,10);break;case 3:Hn(o,6);break;default:Hn(o,2)}}}function ju(o,c){let f=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(f*=2),f*c}function Hn(o,c){if(o.j.info("Error code "+c),c==2){var f=m(o.fb,o),g=o.Xa;const S=!g;g=new qn(g||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ei(g,"https"),ri(g),S?xm(g.toString(),f):Dm(g.toString(),f)}else de(2);o.G=0,o.l&&o.l.sa(c),zu(o),Mu(o)}e.fb=function(o){o?(this.j.info("Successfully pinged google.com"),de(2)):(this.j.info("Failed to ping google.com"),de(1))};function zu(o){if(o.G=0,o.ka=[],o.l){const c=Eu(o.h);(c.length!=0||o.i.length!=0)&&(D(o.ka,c),D(o.ka,o.i),o.h.i.length=0,x(o.i),o.i.length=0),o.l.ra()}}function qu(o,c,f){var g=f instanceof qn?tn(f):new qn(f);if(g.g!="")c&&(g.g=c+"."+g.g),ni(g,g.s);else{var S=l.location;g=S.protocol,c=c?c+"."+S.hostname:S.hostname,S=+S.port;var V=new qn(null);g&&ei(V,g),c&&(V.g=c),S&&ni(V,S),f&&(V.l=f),g=V}return f=o.D,c=o.ya,f&&c&&Dt(g,f,c),Dt(g,"VER",o.la),rs(o,g),g}function Hu(o,c,f){if(c&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=o.Ca&&!o.pa?new Ft(new si({eb:f})):new Ft(o.pa),c.Ha(o.J),c}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ku(){}e=Ku.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function ci(){}ci.prototype.g=function(o,c){return new Ae(o,c)};function Ae(o,c){rt.call(this),this.g=new Ou(c),this.l=o,this.h=c&&c.messageUrlParams||null,o=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(o?o["X-WebChannel-Content-Type"]=c.messageContentType:o={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(o?o["X-WebChannel-Client-Profile"]=c.va:o={"X-WebChannel-Client-Profile":c.va}),this.g.S=o,(o=c&&c.Sb)&&!B(o)&&(this.g.m=o),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!B(c)&&(this.g.D=c,o=this.h,o!==null&&c in o&&(o=this.h,c in o&&delete o[c])),this.j=new ur(this)}P(Ae,rt),Ae.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ae.prototype.close=function(){$o(this.g)},Ae.prototype.o=function(o){var c=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.u&&(f={},f.__data__=Wt(o),o=f);c.i.push(new Tm(c.Ya++,o)),c.G==3&&li(c)},Ae.prototype.N=function(){this.g.l=null,delete this.j,$o(this.g),delete this.g,Ae.aa.N.call(this)};function Gu(o){xo.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var c=o.__sm__;if(c){t:{for(const f in c){o=f;break t}o=void 0}(this.i=o)&&(o=this.i,c=c!==null&&o in c?c[o]:void 0),this.data=c}else this.data=o}P(Gu,xo);function Wu(){Do.call(this),this.status=1}P(Wu,Do);function ur(o){this.g=o}P(ur,Ku),ur.prototype.ua=function(){ut(this.g,"a")},ur.prototype.ta=function(o){ut(this.g,new Gu(o))},ur.prototype.sa=function(o){ut(this.g,new Wu)},ur.prototype.ra=function(){ut(this.g,"b")},ci.prototype.createWebChannel=ci.prototype.g,Ae.prototype.send=Ae.prototype.o,Ae.prototype.open=Ae.prototype.m,Ae.prototype.close=Ae.prototype.close,xd=function(){return new ci},Vd=function(){return Xs()},Pd=jn,Pa={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Js.NO_ERROR=0,Js.TIMEOUT=8,Js.HTTP_ERROR=6,Ri=Js,cu.COMPLETE="complete",Sd=cu,iu.EventType=Kr,Kr.OPEN="a",Kr.CLOSE="b",Kr.ERROR="c",Kr.MESSAGE="d",rt.prototype.listen=rt.prototype.K,us=iu,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,Cd=Ft}).apply(typeof mi<"u"?mi:typeof self<"u"?self:typeof window<"u"?window:{});const Uc="@firebase/firestore",Bc="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}oe.UNAUTHENTICATED=new oe(null),oe.GOOGLE_CREDENTIALS=new oe("google-credentials-uid"),oe.FIRST_PARTY=new oe("first-party-uid"),oe.MOCK_USER=new oe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Br="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er=new Ed("@firebase/firestore");function dr(){return er.logLevel}function X(e,...t){if(er.logLevel<=Et.DEBUG){const n=t.map(yl);er.debug(`Firestore (${Br}): ${e}`,...n)}}function fn(e,...t){if(er.logLevel<=Et.ERROR){const n=t.map(yl);er.error(`Firestore (${Br}): ${e}`,...n)}}function Pr(e,...t){if(er.logLevel<=Et.WARN){const n=t.map(yl);er.warn(`Firestore (${Br}): ${e}`,...n)}}function yl(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,Dd(e,r,n)}function Dd(e,t,n){let r=`FIRESTORE (${Br}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw fn(r),new Error(r)}function Ct(e,t,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,e||Dd(t,s,r)}function lt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends Ur{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Gv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(oe.UNAUTHENTICATED))}shutdown(){}}class Wv{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Qv{constructor(t){this.t=t,this.currentUser=oe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ct(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new Zn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Zn,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=i;t.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},l=u=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Zn)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ct(typeof r.accessToken=="string",31837,{l:r}),new kd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ct(t===null||typeof t=="string",2055,{h:t}),new oe(t)}}class Yv{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=oe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Xv{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new Yv(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(oe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $c{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jv{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vv(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ct(this.o===void 0,3512);const r=i=>{i.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,X("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>r(i))};const s=i=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new $c(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new $c(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Zv(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=t.charAt(s[i]%62))}return r}}function ht(e,t){return e<t?-1:e>t?1:0}function Va(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),s=t.codePointAt(n);if(r!==s){if(r<128&&s<128)return ht(r,s);{const i=Nd(),a=tE(i.encode(jc(e,n)),i.encode(jc(t,n)));return a!==0?a:ht(r,s)}}n+=r>65535?2:1}return ht(e.length,t.length)}function jc(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function tE(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return ht(e[n],t[n]);return ht(e.length,t.length)}function Vr(e,t,n){return e.length===t.length&&e.every((r,s)=>n(r,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=-62135596800,qc=1e6;class qt{static now(){return qt.fromMillis(Date.now())}static fromDate(t){return qt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*qc);return new qt(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new J(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<zc)throw new J(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new J(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qc}_compareTo(t){return this.seconds===t.seconds?ht(this.nanoseconds,t.nanoseconds):ht(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-zc;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{static fromTimestamp(t){return new at(t)}static min(){return new at(new qt(0,0))}static max(){return new at(new qt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc="__name__";class Ke{constructor(t,n,r){n===void 0?n=0:n>t.length&&it(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&it(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ke.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ke?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let s=0;s<r;s++){const i=Ke.compareSegments(t.get(s),n.get(s));if(i!==0)return i}return ht(t.length,n.length)}static compareSegments(t,n){const r=Ke.isNumericId(t),s=Ke.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ke.extractNumericId(t).compare(Ke.extractNumericId(n)):Va(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Sn.fromString(t.substring(4,t.length-2))}}class kt extends Ke{construct(t,n,r){return new kt(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new J(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new kt(n)}static emptyPath(){return new kt([])}}const eE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Ke{construct(t,n,r){return new Jt(t,n,r)}static isValidIdentifier(t){return eE.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Hc}static keyField(){return new Jt([Hc])}static fromServerFormat(t){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new J(L.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<t.length;){const l=t[s];if(l==="\\"){if(s+1===t.length)throw new J(L.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new J(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(i(),s++)}if(i(),a)throw new J(L.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Jt(n)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t){this.path=t}static fromPath(t){return new nt(kt.fromString(t))}static fromName(t){return new nt(kt.fromString(t).popFirst(5))}static empty(){return new nt(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&kt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return kt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new nt(new kt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=-1;function nE(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=at.fromTimestamp(r===1e9?new qt(n+1,0):new qt(n,r));return new kn(s,nt.empty(),t)}function rE(e){return new kn(e.readTime,e.key,ks)}class kn{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new kn(at.min(),nt.empty(),ks)}static max(){return new kn(at.max(),nt.empty(),ks)}}function sE(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=nt.comparator(e.documentKey,t.documentKey),n!==0?n:ht(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $r(e){if(e.code!==L.FAILED_PRECONDITION||e.message!==iE)throw e;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&it(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new M((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):M.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):M.reject(n)}static resolve(t){return new M((n,r)=>{n(t)})}static reject(t){return new M((n,r)=>{r(t)})}static waitFor(t){return new M((n,r)=>{let s=0,i=0,a=!1;t.forEach(l=>{++s,l.next(()=>{++i,a&&i===s&&n()},u=>r(u))}),a=!0,i===s&&n()})}static or(t){let n=M.resolve(!1);for(const r of t)n=n.next(s=>s?M.resolve(s):r());return n}static forEach(t,n){const r=[];return t.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(t,n){return new M((r,s)=>{const i=t.length,a=new Array(i);let l=0;for(let u=0;u<i;u++){const h=u;n(t[h]).next(d=>{a[h]=d,++l,l===i&&r(a)},d=>s(d))}})}static doWhile(t,n){return new M((r,s)=>{const i=()=>{t()===!0?n().next(()=>{i()},s):r()};i()})}}function aE(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jr(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}po.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=-1;function mo(e){return e==null}function zi(e){return e===0&&1/e==-1/0}function lE(e){return typeof e=="number"&&Number.isInteger(e)&&!zi(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="";function uE(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Kc(t)),t=cE(e.get(n),t);return Kc(t)}function cE(e,t){let n=t;const r=e.length;for(let s=0;s<r;s++){const i=e.charAt(s);switch(i){case"\0":n+="";break;case Md:n+="";break;default:n+=i}}return n}function Kc(e){return e+Md+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Bn(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ld(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(t,n){this.comparator=t,this.root=n||Yt.EMPTY}insert(t,n){return new Lt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(t){return new Lt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new gi(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new gi(this.root,t,this.comparator,!1)}getReverseIterator(){return new gi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new gi(this.root,t,this.comparator,!0)}}class gi{constructor(t,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=n?r(t.key,n):1,n&&s&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Yt{constructor(t,n,r,s,i){this.key=t,this.value=n,this.color=r??Yt.RED,this.left=s??Yt.EMPTY,this.right=i??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,s,i){return new Yt(t??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let s=this;const i=r(t,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(t,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return Yt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw it(43730,{key:this.key,value:this.value});if(this.right.isRed())throw it(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw it(27949);return t+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw it(57766)}get value(){throw it(16141)}get color(){throw it(16727)}get left(){throw it(29726)}get right(){throw it(36894)}copy(t,n,r,s,i){return this}insert(t,n,r){return new Yt(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(t){this.comparator=t,this.data=new Lt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Wc(this.data.getIterator())}getIteratorFrom(t){return new Wc(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Ht)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ht(this.comparator);return n.data=t,n}}class Wc{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t){this.fields=t,t.sort(Jt.comparator)}static empty(){return new Ce([])}unionWith(t){let n=new Ht(Jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Ce(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Vr(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Fd("Invalid base64 string: "+i):i}}(t);return new Zt(n)}static fromUint8Array(t){const n=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(t);return new Zt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ht(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const hE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nn(e){if(Ct(!!e,39018),typeof e=="string"){let t=0;const n=hE.exec(e);if(Ct(!!n,46558,{timestamp:e}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ut(e.seconds),nanos:Ut(e.nanos)}}function Ut(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function On(e){return typeof e=="string"?Zt.fromBase64String(e):Zt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud="server_timestamp",Bd="__type__",$d="__previous_value__",jd="__local_write_time__";function El(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[Bd])===null||n===void 0?void 0:n.stringValue)===Ud}function go(e){const t=e.mapValue.fields[$d];return El(t)?go(t):t}function Ns(e){const t=Nn(e.mapValue.fields[jd].timestampValue);return new qt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(t,n,r,s,i,a,l,u,h,d){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=d}}const qi="(default)";class Os{constructor(t,n){this.projectId=t,this.database=n||qi}static empty(){return new Os("","")}get isDefaultDatabase(){return this.database===qi}isEqual(t){return t instanceof Os&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd="__type__",dE="__max__",_i={mapValue:{}},qd="__vector__",Hi="value";function Mn(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?El(e)?4:mE(e)?9007199254740991:pE(e)?10:11:it(28295,{value:e})}function Ze(e,t){if(e===t)return!0;const n=Mn(e);if(n!==Mn(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ns(e).isEqual(Ns(t));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=Nn(s.timestampValue),l=Nn(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,i){return On(s.bytesValue).isEqual(On(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,i){return Ut(s.geoPointValue.latitude)===Ut(i.geoPointValue.latitude)&&Ut(s.geoPointValue.longitude)===Ut(i.geoPointValue.longitude)}(e,t);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ut(s.integerValue)===Ut(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=Ut(s.doubleValue),l=Ut(i.doubleValue);return a===l?zi(a)===zi(l):isNaN(a)&&isNaN(l)}return!1}(e,t);case 9:return Vr(e.arrayValue.values||[],t.arrayValue.values||[],Ze);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(Gc(a)!==Gc(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Ze(a[u],l[u])))return!1;return!0}(e,t);default:return it(52216,{left:e})}}function Ms(e,t){return(e.values||[]).find(n=>Ze(n,t))!==void 0}function xr(e,t){if(e===t)return 0;const n=Mn(e),r=Mn(t);if(n!==r)return ht(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ht(e.booleanValue,t.booleanValue);case 2:return function(i,a){const l=Ut(i.integerValue||i.doubleValue),u=Ut(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(e,t);case 3:return Qc(e.timestampValue,t.timestampValue);case 4:return Qc(Ns(e),Ns(t));case 5:return Va(e.stringValue,t.stringValue);case 6:return function(i,a){const l=On(i),u=On(a);return l.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(i,a){const l=i.split("/"),u=a.split("/");for(let h=0;h<l.length&&h<u.length;h++){const d=ht(l[h],u[h]);if(d!==0)return d}return ht(l.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,a){const l=ht(Ut(i.latitude),Ut(a.latitude));return l!==0?l:ht(Ut(i.longitude),Ut(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Yc(e.arrayValue,t.arrayValue);case 10:return function(i,a){var l,u,h,d;const p=i.fields||{},m=a.fields||{},_=(l=p[Hi])===null||l===void 0?void 0:l.arrayValue,P=(u=m[Hi])===null||u===void 0?void 0:u.arrayValue,x=ht(((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0,((d=P==null?void 0:P.values)===null||d===void 0?void 0:d.length)||0);return x!==0?x:Yc(_,P)}(e.mapValue,t.mapValue);case 11:return function(i,a){if(i===_i.mapValue&&a===_i.mapValue)return 0;if(i===_i.mapValue)return 1;if(a===_i.mapValue)return-1;const l=i.fields||{},u=Object.keys(l),h=a.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const m=Va(u[p],d[p]);if(m!==0)return m;const _=xr(l[u[p]],h[d[p]]);if(_!==0)return _}return ht(u.length,d.length)}(e.mapValue,t.mapValue);default:throw it(23264,{Pe:n})}}function Qc(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ht(e,t);const n=Nn(e),r=Nn(t),s=ht(n.seconds,r.seconds);return s!==0?s:ht(n.nanos,r.nanos)}function Yc(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=xr(n[s],r[s]);if(i)return i}return ht(n.length,r.length)}function Dr(e){return xa(e)}function xa(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Nn(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return On(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return nt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=xa(i);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${xa(n.fields[a])}`;return s+"}"}(e.mapValue):it(61005,{value:e})}function bi(e){switch(Mn(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=go(e);return t?16+bi(t):16;case 5:return 2*e.stringValue.length;case 6:return On(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+bi(i),0)}(e.arrayValue);case 10:case 11:return function(r){let s=0;return Bn(r.fields,(i,a)=>{s+=i.length+bi(a)}),s}(e.mapValue);default:throw it(13486,{value:e})}}function Xc(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Da(e){return!!e&&"integerValue"in e}function Tl(e){return!!e&&"arrayValue"in e}function Jc(e){return!!e&&"nullValue"in e}function Zc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ci(e){return!!e&&"mapValue"in e}function pE(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[zd])===null||n===void 0?void 0:n.stringValue)===qd}function vs(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Bn(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=vs(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=vs(e.arrayValue.values[n]);return t}return Object.assign({},e)}function mE(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===dE}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(t){this.value=t}static empty(){return new Te({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Ci(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=vs(n)}setAll(t){let n=Jt.emptyPath(),r={},s=[];t.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=vs(a):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(t){const n=this.field(t.popLast());Ci(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ze(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=n.mapValue.fields[t.get(r)];Ci(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,r){Bn(n,(s,i)=>t[s]=i);for(const s of r)delete t[s]}clone(){return new Te(vs(this.value))}}function Hd(e){const t=[];return Bn(e.fields,(n,r)=>{const s=new Jt([n]);if(Ci(r)){const i=Hd(r.mapValue).fields;if(i.length===0)t.push(s);else for(const a of i)t.push(s.child(a))}else t.push(s)}),new Ce(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t,n,r,s,i,a,l){this.key=t,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(t){return new le(t,0,at.min(),at.min(),at.min(),Te.empty(),0)}static newFoundDocument(t,n,r,s){return new le(t,1,n,at.min(),r,s,0)}static newNoDocument(t,n){return new le(t,2,n,at.min(),at.min(),Te.empty(),0)}static newUnknownDocument(t,n){return new le(t,3,n,at.min(),at.min(),Te.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(at.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Te.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Te.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=at.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof le&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new le(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(t,n){this.position=t,this.inclusive=n}}function th(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],a=e.position[s];if(i.field.isKeyField()?r=nt.comparator(nt.fromName(a.referenceValue),n.key):r=xr(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function eh(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ze(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(t,n="asc"){this.field=t,this.dir=n}}function gE(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{}class jt extends Kd{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new yE(t,n,r):n==="array-contains"?new TE(t,r):n==="in"?new wE(t,r):n==="not-in"?new IE(t,r):n==="array-contains-any"?new AE(t,r):new jt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new vE(t,r):new EE(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(xr(n,this.value)):n!==null&&Mn(this.value)===Mn(n)&&this.matchesComparison(xr(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return it(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $e extends Kd{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new $e(t,n)}matches(t){return Gd(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Gd(e){return e.op==="and"}function Wd(e){return _E(e)&&Gd(e)}function _E(e){for(const t of e.filters)if(t instanceof $e)return!1;return!0}function ka(e){if(e instanceof jt)return e.field.canonicalString()+e.op.toString()+Dr(e.value);if(Wd(e))return e.filters.map(t=>ka(t)).join(",");{const t=e.filters.map(n=>ka(n)).join(",");return`${e.op}(${t})`}}function Qd(e,t){return e instanceof jt?function(r,s){return s instanceof jt&&r.op===s.op&&r.field.isEqual(s.field)&&Ze(r.value,s.value)}(e,t):e instanceof $e?function(r,s){return s instanceof $e&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,l)=>i&&Qd(a,s.filters[l]),!0):!1}(e,t):void it(19439)}function Yd(e){return e instanceof jt?function(n){return`${n.field.canonicalString()} ${n.op} ${Dr(n.value)}`}(e):e instanceof $e?function(n){return n.op.toString()+" {"+n.getFilters().map(Yd).join(" ,")+"}"}(e):"Filter"}class yE extends jt{constructor(t,n,r){super(t,n,r),this.key=nt.fromName(r.referenceValue)}matches(t){const n=nt.comparator(t.key,this.key);return this.matchesComparison(n)}}class vE extends jt{constructor(t,n){super(t,"in",n),this.keys=Xd("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class EE extends jt{constructor(t,n){super(t,"not-in",n),this.keys=Xd("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Xd(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>nt.fromName(r.referenceValue))}class TE extends jt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Tl(n)&&Ms(n.arrayValue,this.value)}}class wE extends jt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ms(this.value.arrayValue,n)}}class IE extends jt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ms(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ms(this.value.arrayValue,n)}}class AE extends jt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Tl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ms(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(t,n=null,r=[],s=[],i=null,a=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.Ie=null}}function nh(e,t=null,n=[],r=[],s=null,i=null,a=null){return new RE(e,t,n,r,s,i,a)}function wl(e){const t=lt(e);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>ka(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),mo(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Dr(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Dr(r)).join(",")),t.Ie=n}return t.Ie}function Il(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!gE(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Qd(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!eh(e.startAt,t.startAt)&&eh(e.endAt,t.endAt)}function Na(e){return nt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(t,n=null,r=[],s=[],i=null,a="F",l=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function bE(e,t,n,r,s,i,a,l){return new zr(e,t,n,r,s,i,a,l)}function Al(e){return new zr(e)}function rh(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Jd(e){return e.collectionGroup!==null}function Es(e){const t=lt(e);if(t.Ee===null){t.Ee=[];const n=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),n.add(i.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Ht(Jt.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(t).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||t.Ee.push(new Ls(i,r))}),n.has(Jt.keyField().canonicalString())||t.Ee.push(new Ls(Jt.keyField(),r))}return t.Ee}function Qe(e){const t=lt(e);return t.de||(t.de=CE(t,Es(e))),t.de}function CE(e,t){if(e.limitType==="F")return nh(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Ls(s.field,i)});const n=e.endAt?new Ki(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ki(e.startAt.position,e.startAt.inclusive):null;return nh(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Oa(e,t){const n=e.filters.concat([t]);return new zr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ma(e,t,n){return new zr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function _o(e,t){return Il(Qe(e),Qe(t))&&e.limitType===t.limitType}function Zd(e){return`${wl(Qe(e))}|lt:${e.limitType}`}function pr(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Yd(s)).join(", ")}]`),mo(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Dr(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Dr(s)).join(",")),`Target(${r})`}(Qe(e))}; limitType=${e.limitType})`}function yo(e,t){return t.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):nt.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(e,t)&&function(r,s){for(const i of Es(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(e,t)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(e,t)&&function(r,s){return!(r.startAt&&!function(a,l,u){const h=th(a,l,u);return a.inclusive?h<=0:h<0}(r.startAt,Es(r),s)||r.endAt&&!function(a,l,u){const h=th(a,l,u);return a.inclusive?h>=0:h>0}(r.endAt,Es(r),s))}(e,t)}function SE(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function tp(e){return(t,n)=>{let r=!1;for(const s of Es(e)){const i=PE(s,t,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function PE(e,t,n){const r=e.field.isKeyField()?nt.comparator(t.key,n.key):function(i,a,l){const u=a.data.field(i),h=l.data.field(i);return u!==null&&h!==null?xr(u,h):it(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return it(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,t))return i}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return void(s[i]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Bn(this.inner,(n,r)=>{for(const[s,i]of r)t(s,i)})}isEmpty(){return Ld(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=new Lt(nt.comparator);function dn(){return VE}const ep=new Lt(nt.comparator);function cs(...e){let t=ep;for(const n of e)t=t.insert(n.key,n);return t}function np(e){let t=ep;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Xn(){return Ts()}function rp(){return Ts()}function Ts(){return new rr(e=>e.toString(),(e,t)=>e.isEqual(t))}const xE=new Lt(nt.comparator),DE=new Ht(nt.comparator);function mt(...e){let t=DE;for(const n of e)t=t.add(n);return t}const kE=new Ht(ht);function NE(){return kE}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zi(t)?"-0":t}}function sp(e){return{integerValue:""+e}}function OE(e,t){return lE(t)?sp(t):Rl(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this._=void 0}}function ME(e,t,n){return e instanceof Gi?function(s,i){const a={fields:{[Bd]:{stringValue:Ud},[jd]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&El(i)&&(i=go(i)),i&&(a.fields[$d]=i),{mapValue:a}}(n,t):e instanceof Fs?op(e,t):e instanceof Us?ap(e,t):function(s,i){const a=ip(s,i),l=sh(a)+sh(s.Re);return Da(a)&&Da(s.Re)?sp(l):Rl(s.serializer,l)}(e,t)}function LE(e,t,n){return e instanceof Fs?op(e,t):e instanceof Us?ap(e,t):n}function ip(e,t){return e instanceof Wi?function(r){return Da(r)||function(i){return!!i&&"doubleValue"in i}(r)}(t)?t:{integerValue:0}:null}class Gi extends vo{}class Fs extends vo{constructor(t){super(),this.elements=t}}function op(e,t){const n=lp(t);for(const r of e.elements)n.some(s=>Ze(s,r))||n.push(r);return{arrayValue:{values:n}}}class Us extends vo{constructor(t){super(),this.elements=t}}function ap(e,t){let n=lp(t);for(const r of e.elements)n=n.filter(s=>!Ze(s,r));return{arrayValue:{values:n}}}class Wi extends vo{constructor(t,n){super(),this.serializer=t,this.Re=n}}function sh(e){return Ut(e.integerValue||e.doubleValue)}function lp(e){return Tl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function FE(e,t){return e.field.isEqual(t.field)&&function(r,s){return r instanceof Fs&&s instanceof Fs||r instanceof Us&&s instanceof Us?Vr(r.elements,s.elements,Ze):r instanceof Wi&&s instanceof Wi?Ze(r.Re,s.Re):r instanceof Gi&&s instanceof Gi}(e.transform,t.transform)}class UE{constructor(t,n){this.version=t,this.transformResults=n}}class Ue{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ue}static exists(t){return new Ue(void 0,t)}static updateTime(t){return new Ue(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Si(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Eo{}function up(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new bl(e.key,Ue.none()):new Hs(e.key,e.data,Ue.none());{const n=e.data,r=Te.empty();let s=new Ht(Jt.comparator);for(let i of t.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new $n(e.key,r,new Ce(s.toArray()),Ue.none())}}function BE(e,t,n){e instanceof Hs?function(s,i,a){const l=s.value.clone(),u=oh(s.fieldTransforms,i,a.transformResults);l.setAll(u),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(e,t,n):e instanceof $n?function(s,i,a){if(!Si(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=oh(s.fieldTransforms,i,a.transformResults),u=i.data;u.setAll(cp(s)),u.setAll(l),i.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(e,t,n):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function ws(e,t,n,r){return e instanceof Hs?function(i,a,l,u){if(!Si(i.precondition,a))return l;const h=i.value.clone(),d=ah(i.fieldTransforms,u,a);return h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(e,t,n,r):e instanceof $n?function(i,a,l,u){if(!Si(i.precondition,a))return l;const h=ah(i.fieldTransforms,u,a),d=a.data;return d.setAll(cp(i)),d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(e,t,n,r):function(i,a,l){return Si(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(e,t,n)}function $E(e,t){let n=null;for(const r of e.fieldTransforms){const s=t.data.field(r.field),i=ip(r.transform,s||null);i!=null&&(n===null&&(n=Te.empty()),n.set(r.field,i))}return n||null}function ih(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Vr(r,s,(i,a)=>FE(i,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Hs extends Eo{constructor(t,n,r,s=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class $n extends Eo{constructor(t,n,r,s,i=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function cp(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function oh(e,t,n){const r=new Map;Ct(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let s=0;s<n.length;s++){const i=e[s],a=i.transform,l=t.data.field(i.field);r.set(i.field,LE(a,l,n[s]))}return r}function ah(e,t,n){const r=new Map;for(const s of e){const i=s.transform,a=n.data.field(s.field);r.set(s.field,ME(i,a,t))}return r}class bl extends Eo{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jE extends Eo{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(t,n,r,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(t.key)&&BE(i,t,r[s])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=ws(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=ws(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=rp();return this.mutations.forEach(s=>{const i=t.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(s.key)?null:l;const u=up(a,l);u!==null&&r.set(s.key,u),a.isValidDocument()||a.convertToNoDocument(at.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),mt())}isEqual(t){return this.batchId===t.batchId&&Vr(this.mutations,t.mutations,(n,r)=>ih(n,r))&&Vr(this.baseMutations,t.baseMutations,(n,r)=>ih(n,r))}}class Cl{constructor(t,n,r,s){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(t,n,r){Ct(t.mutations.length===r.length,58842,{fe:t.mutations.length,ge:r.length});let s=function(){return xE}();const i=t.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new Cl(t,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,vt;function KE(e){switch(e){case L.OK:return it(64938);case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return it(15467,{code:e})}}function hp(e){if(e===void 0)return fn("GRPC error has no .code"),L.UNKNOWN;switch(e){case $t.OK:return L.OK;case $t.CANCELLED:return L.CANCELLED;case $t.UNKNOWN:return L.UNKNOWN;case $t.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case $t.INTERNAL:return L.INTERNAL;case $t.UNAVAILABLE:return L.UNAVAILABLE;case $t.UNAUTHENTICATED:return L.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case $t.NOT_FOUND:return L.NOT_FOUND;case $t.ALREADY_EXISTS:return L.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return L.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case $t.ABORTED:return L.ABORTED;case $t.OUT_OF_RANGE:return L.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return L.UNIMPLEMENTED;case $t.DATA_LOSS:return L.DATA_LOSS;default:return it(39323,{code:e})}}(vt=$t||($t={}))[vt.OK=0]="OK",vt[vt.CANCELLED=1]="CANCELLED",vt[vt.UNKNOWN=2]="UNKNOWN",vt[vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vt[vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vt[vt.NOT_FOUND=5]="NOT_FOUND",vt[vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",vt[vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",vt[vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",vt[vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vt[vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vt[vt.ABORTED=10]="ABORTED",vt[vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",vt[vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",vt[vt.INTERNAL=13]="INTERNAL",vt[vt.UNAVAILABLE=14]="UNAVAILABLE",vt[vt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=new Sn([4294967295,4294967295],0);function lh(e){const t=Nd().encode(e),n=new bd;return n.update(t),new Uint8Array(n.digest())}function uh(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Sn([n,r],0),new Sn([s,i],0)]}class Sl{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new hs(`Invalid padding: ${n}`);if(r<0)throw new hs(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new hs(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new hs(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Sn.fromNumber(this.pe)}we(t,n,r){let s=t.add(n.multiply(Sn.fromNumber(r)));return s.compare(GE)===1&&(s=new Sn([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=lh(t),[r,s]=uh(n);for(let i=0;i<this.hashCount;i++){const a=this.we(r,s,i);if(!this.be(a))return!1}return!0}static create(t,n,r){const s=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),a=new Sl(i,s,n);return r.forEach(l=>a.insert(l)),a}insert(t){if(this.pe===0)return;const n=lh(t),[r,s]=uh(n);for(let i=0;i<this.hashCount;i++){const a=this.we(r,s,i);this.Se(a)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class hs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(t,n,r,s,i){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const s=new Map;return s.set(t,Ks.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new To(at.min(),s,new Lt(ht),dn(),mt())}}class Ks{constructor(t,n,r,s,i){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Ks(r,n,mt(),mt(),mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(t,n,r,s){this.De=t,this.removedTargetIds=n,this.key=r,this.ve=s}}class fp{constructor(t,n){this.targetId=t,this.Ce=n}}class dp{constructor(t,n,r=Zt.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=s}}class ch{constructor(){this.Fe=0,this.Me=hh(),this.xe=Zt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=mt(),n=mt(),r=mt();return this.Me.forEach((s,i)=>{switch(i){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:it(38017,{changeType:i})}}),new Ks(this.xe,this.Oe,t,n,r)}Qe(){this.Ne=!1,this.Me=hh()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ct(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class WE{constructor(t){this.ze=t,this.je=new Map,this.He=dn(),this.Je=yi(),this.Ye=yi(),this.Ze=new Lt(ht)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const r=this.rt(n);switch(t.state){case 0:this.it(n)&&r.ke(t.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(t.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(t.resumeToken));break;default:it(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(t){const n=t.targetId,r=t.Ce.count,s=this._t(n);if(s){const i=s.target;if(Na(i))if(r===0){const a=new nt(i.path);this.tt(n,a,le.newNoDocument(a,at.min()))}else Ct(r===1,20013,{expectedCount:r});else{const a=this.ut(n);if(a!==r){const l=this.ct(t),u=l?this.lt(l,t,a):1;if(u!==0){this.st(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,l;try{a=On(r).toUint8Array()}catch(u){if(u instanceof Fd)return Pr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Sl(a,s,i)}catch(u){return Pr(u instanceof hs?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.pe===0?null:l}lt(t,n,r){return n.Ce.count===r-this.Tt(t,n.targetId)?0:2}Tt(t,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const a=this.ze.Pt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;t.mightContain(l)||(this.tt(n,i,null),s++)}),s}It(t){const n=new Map;this.je.forEach((i,a)=>{const l=this._t(a);if(l){if(i.current&&Na(l.target)){const u=new nt(l.target.path);this.Et(u).has(a)||this.dt(a,u)||this.tt(a,u,le.newNoDocument(u,t))}i.Le&&(n.set(a,i.qe()),i.Qe())}});let r=mt();this.Ye.forEach((i,a)=>{let l=!0;a.forEachWhile(u=>{const h=this._t(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.He.forEach((i,a)=>a.setReadTime(t));const s=new To(t,n,this.Ze,this.He,r);return this.He=dn(),this.Je=yi(),this.Ye=yi(),this.Ze=new Lt(ht),s}et(t,n){if(!this.it(t))return;const r=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,r){if(!this.it(t))return;const s=this.rt(t);this.dt(t,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),r&&(this.He=this.He.insert(n,r))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new ch,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Ht(ht),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Ht(ht),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||X("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new ch),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function yi(){return new Lt(nt.comparator)}function hh(){return new Lt(nt.comparator)}const QE={asc:"ASCENDING",desc:"DESCENDING"},YE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XE={and:"AND",or:"OR"};class JE{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function La(e,t){return e.useProto3Json||mo(t)?t:{value:t}}function Qi(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function pp(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ZE(e,t){return Qi(e,t.toTimestamp())}function Ye(e){return Ct(!!e,49232),at.fromTimestamp(function(n){const r=Nn(n);return new qt(r.seconds,r.nanos)}(e))}function Pl(e,t){return Fa(e,t).canonicalString()}function Fa(e,t){const n=function(s){return new kt(["projects",s.projectId,"databases",s.database])}(e).child("documents");return t===void 0?n:n.child(t)}function mp(e){const t=kt.fromString(e);return Ct(Ep(t),10190,{key:t.toString()}),t}function Ua(e,t){return Pl(e.databaseId,t.path)}function oa(e,t){const n=mp(t);if(n.get(1)!==e.databaseId.projectId)throw new J(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new J(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new nt(_p(n))}function gp(e,t){return Pl(e.databaseId,t)}function t1(e){const t=mp(e);return t.length===4?kt.emptyPath():_p(t)}function Ba(e){return new kt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function _p(e){return Ct(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function fh(e,t,n){return{name:Ua(e,t),fields:n.value.mapValue.fields}}function e1(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:it(39313,{state:h})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(h,d){return h.useProto3Json?(Ct(d===void 0||typeof d=="string",58123),Zt.fromBase64String(d||"")):(Ct(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Zt.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&function(h){const d=h.code===void 0?L.UNKNOWN:hp(h.code);return new J(d,h.message||"")}(a);n=new dp(r,s,i,l||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=oa(e,r.document.name),i=Ye(r.document.updateTime),a=r.document.createTime?Ye(r.document.createTime):at.min(),l=new Te({mapValue:{fields:r.document.fields}}),u=le.newFoundDocument(s,i,a,l),h=r.targetIds||[],d=r.removedTargetIds||[];n=new Pi(h,d,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=oa(e,r.document),i=r.readTime?Ye(r.readTime):at.min(),a=le.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Pi([],l,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=oa(e,r.document),i=r.removedTargetIds||[];n=new Pi([],i,s,null)}else{if(!("filter"in t))return it(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new HE(s,i),l=r.targetId;n=new fp(l,a)}}return n}function n1(e,t){let n;if(t instanceof Hs)n={update:fh(e,t.key,t.value)};else if(t instanceof bl)n={delete:Ua(e,t.key)};else if(t instanceof $n)n={update:fh(e,t.key,t.data),updateMask:h1(t.fieldMask)};else{if(!(t instanceof jE))return it(16599,{ft:t.type});n={verify:Ua(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof Gi)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Fs)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Us)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Wi)return{fieldPath:a.field.canonicalString(),increment:l.Re};throw it(20930,{transform:a.transform})}(0,r))),t.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:ZE(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:it(27497)}(e,t.precondition)),n}function r1(e,t){return e&&e.length>0?(Ct(t!==void 0,14353),e.map(n=>function(s,i){let a=s.updateTime?Ye(s.updateTime):Ye(i);return a.isEqual(at.min())&&(a=Ye(i)),new UE(a,s.transformResults||[])}(n,t))):[]}function s1(e,t){return{documents:[gp(e,t.path)]}}function i1(e,t){const n={structuredQuery:{}},r=t.path;let s;t.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=gp(e,s);const i=function(h){if(h.length!==0)return vp($e.create(h,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const a=function(h){if(h.length!==0)return h.map(d=>function(m){return{field:mr(m.field),direction:l1(m.dir)}}(d))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const l=La(e,t.limit);return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(t.endAt)),{gt:n,parent:s}}function o1(e){let t=t1(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ct(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:t=t.child(d.collectionId)}let i=[];n.where&&(i=function(p){const m=yp(p);return m instanceof $e&&Wd(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(p){return p.map(m=>function(P){return new Ls(gr(P.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,mo(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){const m=!!p.before,_=p.values||[];return new Ki(_,m)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const m=!p.before,_=p.values||[];return new Ki(_,m)}(n.endAt)),bE(t,s,a,i,l,"F",u,h)}function a1(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return it(28987,{purpose:s})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function yp(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=gr(n.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=gr(n.unaryFilter.field);return jt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=gr(n.unaryFilter.field);return jt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=gr(n.unaryFilter.field);return jt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return it(61313);default:return it(60726)}}(e):e.fieldFilter!==void 0?function(n){return jt.create(gr(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return it(58110);default:return it(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return $e.create(n.compositeFilter.filters.map(r=>yp(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return it(1026)}}(n.compositeFilter.op))}(e):it(30097,{filter:e})}function l1(e){return QE[e]}function u1(e){return YE[e]}function c1(e){return XE[e]}function mr(e){return{fieldPath:e.canonicalString()}}function gr(e){return Jt.fromServerFormat(e.fieldPath)}function vp(e){return e instanceof jt?function(n){if(n.op==="=="){if(Zc(n.value))return{unaryFilter:{field:mr(n.field),op:"IS_NAN"}};if(Jc(n.value))return{unaryFilter:{field:mr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Zc(n.value))return{unaryFilter:{field:mr(n.field),op:"IS_NOT_NAN"}};if(Jc(n.value))return{unaryFilter:{field:mr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mr(n.field),op:u1(n.op),value:n.value}}}(e):e instanceof $e?function(n){const r=n.getFilters().map(s=>vp(s));return r.length===1?r[0]:{compositeFilter:{op:c1(n.op),filters:r}}}(e):it(54877,{filter:e})}function h1(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Ep(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t,n,r,s,i=at.min(),a=at.min(),l=Zt.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(t){return new An(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new An(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new An(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new An(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(t){this.wt=t}}function d1(e){const t=o1({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Ma(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.Cn=new m1}addToCollectionParentIndex(t,n){return this.Cn.add(n),M.resolve()}getCollectionParents(t,n){return M.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return M.resolve()}deleteFieldIndex(t,n){return M.resolve()}deleteAllFieldIndexes(t){return M.resolve()}createTargetIndexes(t,n){return M.resolve()}getDocumentsMatchingTarget(t,n){return M.resolve(null)}getIndexType(t,n){return M.resolve(0)}getFieldIndexes(t,n){return M.resolve([])}getNextCollectionGroupToUpdate(t){return M.resolve(null)}getMinOffset(t,n){return M.resolve(kn.min())}getMinOffsetFromCollectionGroup(t,n){return M.resolve(kn.min())}updateCollectionGroup(t,n,r){return M.resolve()}updateIndexEntries(t,n){return M.resolve()}}class m1{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n]||new Ht(kt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(t){return(this.index[t]||new Ht(kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Tp=41943040;class Ee{static withCacheSize(t){return new Ee(t,Ee.DEFAULT_COLLECTION_PERCENTILE,Ee.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ee.DEFAULT_COLLECTION_PERCENTILE=10,Ee.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ee.DEFAULT=new Ee(Tp,Ee.DEFAULT_COLLECTION_PERCENTILE,Ee.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ee.DISABLED=new Ee(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new kr(0)}static lr(){return new kr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph="LruGarbageCollector",g1=1048576;function mh([e,t],[n,r]){const s=ht(e,n);return s===0?ht(t,r):s}class _1{constructor(t){this.Er=t,this.buffer=new Ht(mh),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();mh(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class y1{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){X(ph,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jr(n)?X(ph,"Ignoring IndexedDB error during garbage collection: ",n):await $r(n)}await this.mr(3e5)})}}class v1{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return M.resolve(po.le);const r=new _1(n);return this.gr.forEachTarget(t,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(t,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.gr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(dh)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dh):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let r,s,i,a,l,u,h;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,a=Date.now(),this.nthSequenceNumber(t,s))).next(p=>(r=p,l=Date.now(),this.removeTargets(t,r,n))).next(p=>(i=p,u=Date.now(),this.removeOrphanedDocuments(t,r))).next(p=>(h=Date.now(),dr()<=Et.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${i} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(h-u)+`ms
Total Duration: ${h-d}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function E1(e,t){return new v1(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(){this.changes=new rr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,le.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(t,n,r,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(r!==null&&ws(r.mutation,s,Ce.empty(),qt.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,mt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=mt()){const s=Xn();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,r).next(i=>{let a=cs();return i.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const r=Xn();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,mt()))}populateOverlays(t,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(t,s).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(t,n,r,s){let i=dn();const a=Ts(),l=function(){return Ts()}();return n.forEach((u,h)=>{const d=r.get(h.key);s.has(h.key)&&(d===void 0||d.mutation instanceof $n)?i=i.insert(h.key,h):d!==void 0?(a.set(h.key,d.mutation.getFieldMask()),ws(d.mutation,h,d.mutation.getFieldMask(),qt.now())):a.set(h.key,Ce.empty())}),this.recalculateAndSaveOverlays(t,i).next(u=>(u.forEach((h,d)=>a.set(h,d)),n.forEach((h,d)=>{var p;return l.set(h,new w1(d,(p=a.get(h))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(t,n){const r=Ts();let s=new Lt((a,l)=>a-l),i=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let d=r.get(u)||Ce.empty();d=l.applyToLocalView(h,d),r.set(u,d);const p=(s.get(l.batchId)||mt()).add(u);s=s.insert(l.batchId,p)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,d=u.value,p=rp();d.forEach(m=>{if(!i.has(m)){const _=up(n.get(m),r.get(m));_!==null&&p.set(m,_),i=i.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(t,h,p))}return M.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,s){return function(a){return nt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Jd(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,s):this.getDocumentsMatchingCollectionQuery(t,n,r,s)}getNextDocuments(t,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,s-i.size):M.resolve(Xn());let l=ks,u=i;return a.next(h=>M.forEach(h,(d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),i.get(d)?M.resolve():this.remoteDocumentCache.getEntry(t,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(t,h,i)).next(()=>this.computeViews(t,u,h,mt())).next(d=>({batchId:l,changes:np(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new nt(n)).next(r=>{let s=cs();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,r,s){const i=n.collectionGroup;let a=cs();return this.indexManager.getCollectionParents(t,i).next(l=>M.forEach(l,u=>{const h=function(p,m){return new zr(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(t,h,r,s).next(d=>{d.forEach((p,m)=>{a=a.insert(p,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i,s))).next(a=>{i.forEach((u,h)=>{const d=h.getKey();a.get(d)===null&&(a=a.insert(d,le.newInvalidDocument(d)))});let l=cs();return a.forEach((u,h)=>{const d=i.get(u);d!==void 0&&ws(d.mutation,h,Ce.empty(),qt.now()),yo(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return M.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ye(s.createTime)}}(n)),M.resolve()}getNamedQuery(t,n){return M.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(s){return{name:s.name,query:d1(s.bundledQuery),readTime:Ye(s.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(){this.overlays=new Lt(nt.comparator),this.Qr=new Map}getOverlay(t,n){return M.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Xn();return M.forEach(n,s=>this.getOverlay(t,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((s,i)=>{this.St(t,n,i)}),M.resolve()}removeOverlaysForBatchId(t,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),M.resolve()}getOverlaysForCollection(t,n,r){const s=Xn(),i=n.length+1,a=new nt(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return M.resolve(s)}getOverlaysForCollectionGroup(t,n,r,s){let i=new Lt((h,d)=>h-d);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let d=i.get(h.largestBatchId);d===null&&(d=Xn(),i=i.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=Xn(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>l.set(h,d)),!(l.size()>=s)););return M.resolve(l)}St(t,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new qE(n,r));let i=this.Qr.get(n);i===void 0&&(i=mt(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(t){return M.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,M.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(){this.$r=new Ht(Kt.Ur),this.Kr=new Ht(Kt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const r=new Kt(t,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.zr(new Kt(t,n))}jr(t,n){t.forEach(r=>this.removeReference(r,n))}Hr(t){const n=new nt(new kt([])),r=new Kt(n,t),s=new Kt(n,t+1),i=[];return this.Kr.forEachInRange([r,s],a=>{this.zr(a),i.push(a.key)}),i}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new nt(new kt([])),r=new Kt(n,t),s=new Kt(n,t+1);let i=mt();return this.Kr.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(t){const n=new Kt(t,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Kt{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return nt.comparator(t.key,n.key)||ht(t.Zr,n.Zr)}static Wr(t,n){return ht(t.Zr,n.Zr)||nt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Ht(Kt.Ur)}checkEmpty(t){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new zE(i,n,r,s);this.mutationQueue.push(a);for(const l of s)this.Xr=this.Xr.add(new Kt(l.key,i)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return M.resolve(a)}lookupMutationBatch(t,n){return M.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return M.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?vl:this.nr-1)}getAllMutationBatches(t){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Kt(n,0),s=new Kt(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],a=>{const l=this.ei(a.Zr);i.push(l)}),M.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Ht(ht);return n.forEach(s=>{const i=new Kt(s,0),a=new Kt(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,a],l=>{r=r.add(l.Zr)})}),M.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,s=r.length+1;let i=r;nt.isDocumentKey(i)||(i=i.child(""));const a=new Kt(new nt(i),0);let l=new Ht(ht);return this.Xr.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(l=l.add(u.Zr)),!0)},a),M.resolve(this.ni(l))}ni(t){const n=[];return t.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){Ct(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return M.forEach(n.mutations,s=>{const i=new Kt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Xr=r})}sr(t){}containsKey(t,n){const r=new Kt(n,0),s=this.Xr.firstAfterOrEqual(r);return M.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,M.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(t){this.ii=t,this.docs=function(){return new Lt(nt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():le.newInvalidDocument(n))}getEntries(t,n){let r=dn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():le.newInvalidDocument(s))}),M.resolve(r)}getDocumentsMatchingQuery(t,n,r,s){let i=dn();const a=n.path,l=new nt(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||sE(rE(d),r)<=0||(s.has(d.key)||yo(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return M.resolve(i)}getAllFromCollectionGroup(t,n,r,s){it(9500)}si(t,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new P1(this)}getSize(t){return M.resolve(this.size)}}class P1 extends T1{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(t,s)):this.Br.removeEntry(r)}),M.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(t){this.persistence=t,this.oi=new rr(n=>wl(n),Il),this.lastRemoteSnapshotVersion=at.min(),this.highestTargetId=0,this._i=0,this.ai=new Vl,this.targetCount=0,this.ui=kr.cr()}forEachTarget(t,n){return this.oi.forEach((r,s)=>n(s)),M.resolve()}getLastRemoteSnapshotVersion(t){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return M.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),M.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new kr(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,M.resolve()}updateTargetData(t,n){return this.Tr(n),M.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(t,n,r){let s=0;const i=[];return this.oi.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.oi.delete(a),i.push(this.removeMatchingKeysForTargetId(t,l.targetId)),s++)}),M.waitFor(i).next(()=>s)}getTargetCount(t){return M.resolve(this.targetCount)}getTargetData(t,n){const r=this.oi.get(n)||null;return M.resolve(r)}addMatchingKeys(t,n,r){return this.ai.Gr(n,r),M.resolve()}removeMatchingKeys(t,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(t,a))}),M.waitFor(i)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),M.resolve()}getMatchingKeysForTargetId(t,n){const r=this.ai.Yr(n);return M.resolve(r)}containsKey(t,n){return M.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(t,n){this.ci={},this.overlays={},this.li=new po(0),this.hi=!1,this.hi=!0,this.Pi=new b1,this.referenceDelegate=t(this),this.Ti=new V1(this),this.indexManager=new p1,this.remoteDocumentCache=function(s){return new S1(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new f1(n),this.Ei=new A1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new R1,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ci[t.toKey()];return r||(r=new C1(n,this.referenceDelegate),this.ci[t.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,r){X("MemoryPersistence","Starting transaction:",t);const s=new x1(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(t,n){return M.or(Object.values(this.ci).map(r=>()=>r.containsKey(t,n)))}}class x1 extends oE{constructor(t){super(),this.currentSequenceNumber=t}}class xl{constructor(t){this.persistence=t,this.Vi=new Vl,this.mi=null}static fi(t){return new xl(t)}get gi(){if(this.mi)return this.mi;throw it(60996)}addReference(t,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),M.resolve()}removeReference(t,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),M.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),M.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.gi,r=>{const s=nt.fromPath(r);return this.pi(t,s).next(i=>{i||n.removeEntry(s,at.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return M.or([()=>M.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class Yi{constructor(t,n){this.persistence=t,this.yi=new rr(r=>uE(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=E1(this,n)}static fi(t,n){return new Yi(t,n)}di(){}Ai(t){return M.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(s=>r+s))}br(t){let n=0;return this.yr(t,r=>{n++}).next(()=>n)}yr(t,n){return M.forEach(this.yi,(r,s)=>this.Dr(t,r,s).next(i=>i?M.resolve():n(s)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(t,a=>this.Dr(t,a,n).next(l=>{l||(r++,i.removeEntry(a,at.min()))})).next(()=>i.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),M.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.yi.set(r,t.currentSequenceNumber),M.resolve()}removeReference(t,n,r){return this.yi.set(r,t.currentSequenceNumber),M.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),M.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=bi(t.data.value)),n}Dr(t,n,r){return M.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const s=this.yi.get(n);return M.resolve(s!==void 0&&s>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(t,n,r,s){this.targetId=t,this.fromCache=n,this.ds=r,this.As=s}static Rs(t,n){let r=mt(),s=mt();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Dl(t,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Cy()?8:aE(Ry())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,r,s){const i={result:null};return this.ws(t,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.bs(t,n,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new D1;return this.Ss(t,n,a).next(l=>{if(i.result=l,this.fs)return this.Ds(t,n,a,l.size)})}).next(()=>i.result)}Ds(t,n,r,s){return r.documentReadCount<this.gs?(dr()<=Et.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",pr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),M.resolve()):(dr()<=Et.DEBUG&&X("QueryEngine","Query:",pr(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(dr()<=Et.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",pr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Qe(n))):M.resolve())}ws(t,n){if(rh(n))return M.resolve(null);let r=Qe(n);return this.indexManager.getIndexType(t,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Ma(n,null,"F"),r=Qe(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(i=>{const a=mt(...i);return this.ys.getDocuments(t,a).next(l=>this.indexManager.getMinOffset(t,r).next(u=>{const h=this.vs(n,l);return this.Cs(n,h,a,u.readTime)?this.ws(t,Ma(n,null,"F")):this.Fs(t,h,n,u)}))})))}bs(t,n,r,s){return rh(n)||s.isEqual(at.min())?M.resolve(null):this.ys.getDocuments(t,r).next(i=>{const a=this.vs(n,i);return this.Cs(n,a,r,s)?M.resolve(null):(dr()<=Et.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),pr(n)),this.Fs(t,a,n,nE(s,ks)).next(l=>l))})}vs(t,n){let r=new Ht(tp(t));return n.forEach((s,i)=>{yo(t,i)&&(r=r.add(i))}),r}Cs(t,n,r,s){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const i=t.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(t,n,r){return dr()<=Et.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",pr(n)),this.ys.getDocumentsMatchingQuery(t,n,kn.min(),r)}Fs(t,n,r,s){return this.ys.getDocumentsMatchingQuery(t,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl="LocalStore",N1=3e8;class O1{constructor(t,n,r,s){this.persistence=t,this.Ms=n,this.serializer=s,this.xs=new Lt(ht),this.Os=new rr(i=>wl(i),Il),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(r)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new I1(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function M1(e,t,n,r){return new O1(e,t,n,r)}async function Ip(e,t){const n=lt(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(t),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],l=[];let u=mt();for(const h of s){a.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of i){l.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(h=>({ks:h,removedBatchIds:a,addedBatchIds:l}))})})}function L1(e,t){const n=lt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=t.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,u,h,d){const p=h.batch,m=p.keys();let _=M.resolve();return m.forEach(P=>{_=_.next(()=>d.getEntry(u,P)).next(x=>{const D=h.docVersions.get(P);Ct(D!==null,48541),x.version.compareTo(D)<0&&(p.applyToRemoteDocument(x,h),x.isValidDocument()&&(x.setReadTime(h.commitVersion),d.addEntry(x)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,r,t,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=mt();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(t))).next(()=>n.localDocuments.getDocuments(r,s))})}function Ap(e){const t=lt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function F1(e,t){const n=lt(e),r=t.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const l=[];t.targetChanges.forEach((d,p)=>{const m=s.get(p);if(!m)return;l.push(n.Ti.removeMatchingKeys(i,d.removedDocuments,p).next(()=>n.Ti.addMatchingKeys(i,d.addedDocuments,p)));let _=m.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(p)!==null?_=_.withResumeToken(Zt.EMPTY_BYTE_STRING,at.min()).withLastLimboFreeSnapshotVersion(at.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,r)),s=s.insert(p,_),function(x,D,$){return x.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=N1?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(m,_,d)&&l.push(n.Ti.updateTargetData(i,_))});let u=dn(),h=mt();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(U1(i,a,t.documentUpdates).next(d=>{u=d.qs,h=d.Qs})),!r.isEqual(at.min())){const d=n.Ti.getLastRemoteSnapshotVersion(i).next(p=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(d)}return M.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,h)).next(()=>u)}).then(i=>(n.xs=s,i))}function U1(e,t,n){let r=mt(),s=mt();return n.forEach(i=>r=r.add(i)),t.getEntries(e,r).next(i=>{let a=dn();return n.forEach((l,u)=>{const h=i.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(at.min())?(t.removeEntry(l,u.readTime),a=a.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(t.addEntry(u),a=a.insert(l,u)):X(kl,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{qs:a,Qs:s}})}function B1(e,t){const n=lt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=vl),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function $1(e,t){const n=lt(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,t).next(i=>i?(s=i,M.resolve(s)):n.Ti.allocateTargetId(r).next(a=>(s=new An(t,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(t,r.targetId)),r})}async function $a(e,t,n){const r=lt(e),s=r.xs.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!jr(a))throw a;X(kl,`Failed to update sequence numbers for target ${t}: ${a}`)}r.xs=r.xs.remove(t),r.Os.delete(s.target)}function gh(e,t,n){const r=lt(e);let s=at.min(),i=mt();return r.persistence.runTransaction("Execute query","readwrite",a=>function(u,h,d){const p=lt(u),m=p.Os.get(d);return m!==void 0?M.resolve(p.xs.get(m)):p.Ti.getTargetData(h,d)}(r,a,Qe(t)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(a,l.targetId).next(u=>{i=u})}).next(()=>r.Ms.getDocumentsMatchingQuery(a,t,n?s:at.min(),n?i:mt())).next(l=>(j1(r,SE(t),l),{documents:l,$s:i})))}function j1(e,t,n){let r=e.Ns.get(t)||at.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),e.Ns.set(t,r)}class _h{constructor(){this.activeTargetIds=NE()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class z1{constructor(){this.xo=new _h,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,r){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new _h,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh="ConnectivityMonitor";class vh{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){X(yh,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){X(yh,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vi=null;function ja(){return vi===null?vi=function(){return 268435456+Math.round(2147483648*Math.random())}():vi++,"0x"+vi.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="RestConnection",H1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class K1{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===qi?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(t,n,r,s,i){const a=ja(),l=this.jo(t,n.toUriEncodedString());X(aa,`Sending RPC '${t}' ${a}:`,l,r);const u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,s,i);const{host:h}=new URL(l),d=gl(h);return this.Jo(t,l,u,r,d).then(p=>(X(aa,`Received RPC '${t}' ${a}: `,p),p),p=>{throw Pr(aa,`RPC '${t}' ${a} failed with error: `,p,"url: ",l,"request:",r),p})}Yo(t,n,r,s,i,a){return this.zo(t,n,r,s,i)}Ho(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Br}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>t[i]=s),r&&r.headers.forEach((s,i)=>t[i]=s)}jo(t,n){const r=H1[t];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se="WebChannelConnection";class W1 extends K1{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,s,i){const a=ja();return new Promise((l,u)=>{const h=new Cd;h.setWithCredentials(!0),h.listenOnce(Sd.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Ri.NO_ERROR:const p=h.getResponseJson();X(se,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(p)),l(p);break;case Ri.TIMEOUT:X(se,`RPC '${t}' ${a} timed out`),u(new J(L.DEADLINE_EXCEEDED,"Request time out"));break;case Ri.HTTP_ERROR:const m=h.getStatus();if(X(se,`RPC '${t}' ${a} failed with status:`,m,"response text:",h.getResponseText()),m>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const P=_==null?void 0:_.error;if(P&&P.status&&P.message){const x=function($){const B=$.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(B)>=0?B:L.UNKNOWN}(P.status);u(new J(x,P.message))}else u(new J(L.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new J(L.UNAVAILABLE,"Connection failed."));break;default:it(9055,{h_:t,streamId:a,P_:h.getLastErrorCode(),T_:h.getLastError()})}}finally{X(se,`RPC '${t}' ${a} completed.`)}});const d=JSON.stringify(s);X(se,`RPC '${t}' ${a} sending request:`,s),h.send(n,"POST",d,r,15)})}I_(t,n,r){const s=ja(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=xd(),l=Vd(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=i.join("");X(se,`Creating RPC '${t}' stream ${s}: ${d}`,u);const p=a.createWebChannel(d,u);this.E_(p);let m=!1,_=!1;const P=new G1({Zo:D=>{_?X(se,`Not sending because RPC '${t}' stream ${s} is closed:`,D):(m||(X(se,`Opening RPC '${t}' stream ${s} transport.`),p.open(),m=!0),X(se,`RPC '${t}' stream ${s} sending:`,D),p.send(D))},Xo:()=>p.close()}),x=(D,$,B)=>{D.listen($,z=>{try{B(z)}catch(K){setTimeout(()=>{throw K},0)}})};return x(p,us.EventType.OPEN,()=>{_||(X(se,`RPC '${t}' stream ${s} transport opened.`),P.__())}),x(p,us.EventType.CLOSE,()=>{_||(_=!0,X(se,`RPC '${t}' stream ${s} transport closed`),P.u_(),this.d_(p))}),x(p,us.EventType.ERROR,D=>{_||(_=!0,Pr(se,`RPC '${t}' stream ${s} transport errored. Name:`,D.name,"Message:",D.message),P.u_(new J(L.UNAVAILABLE,"The operation could not be completed")))}),x(p,us.EventType.MESSAGE,D=>{var $;if(!_){const B=D.data[0];Ct(!!B,16349);const z=B,K=(z==null?void 0:z.error)||(($=z[0])===null||$===void 0?void 0:$.error);if(K){X(se,`RPC '${t}' stream ${s} received error:`,K);const dt=K.status;let gt=function(w){const A=$t[w];if(A!==void 0)return hp(A)}(dt),I=K.message;gt===void 0&&(gt=L.INTERNAL,I="Unknown error status: "+dt+" with message "+K.message),_=!0,P.u_(new J(gt,I)),p.close()}else X(se,`RPC '${t}' stream ${s} received:`,B),P.c_(B)}}),x(l,Pd.STAT_EVENT,D=>{D.stat===Pa.PROXY?X(se,`RPC '${t}' stream ${s} detected buffering proxy`):D.stat===Pa.NOPROXY&&X(se,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{P.a_()},0),P}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function la(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(e){return new JE(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(t,n,r=1e3,s=1.5,i=6e4){this.xi=t,this.timerId=n,this.A_=r,this.R_=s,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-r);s>0&&X("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh="PersistentStream";class bp{constructor(t,n,r,s,i,a,l,u){this.xi=t,this.S_=r,this.D_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Rp(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(fn(n.toString()),fn("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.v_===n&&this.z_(r,s)},r=>{t(()=>{const s=new J(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(s)})})}z_(t,n){const r=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.j_(s))}),this.stream.onMessage(s=>{r(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return X(Eh,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(X(Eh,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Q1 extends bp{constructor(t,n,r,s,i,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=e1(this.serializer,t),r=function(i){if(!("targetChange"in i))return at.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?at.min():a.readTime?Ye(a.readTime):at.min()}(t);return this.listener.Y_(n,r)}Z_(t){const n={};n.database=Ba(this.serializer),n.addTarget=function(i,a){let l;const u=a.target;if(l=Na(u)?{documents:s1(i,u)}:{query:i1(i,u).gt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=pp(i,a.resumeToken);const h=La(i,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(at.min())>0){l.readTime=Qi(i,a.snapshotVersion.toTimestamp());const h=La(i,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,t);const r=a1(this.serializer,t);r&&(n.labels=r),this.Q_(n)}X_(t){const n={};n.database=Ba(this.serializer),n.removeTarget=t,this.Q_(n)}}class Y1 extends bp{constructor(t,n,r,s,i,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return Ct(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ct(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){Ct(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=r1(t.writeResults,t.commitTime),r=Ye(t.commitTime);return this.listener.ra(r,n)}ia(){const t={};t.database=Ba(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>n1(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{}class J1 extends X1{constructor(t,n,r,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new J(L.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.zo(t,Fa(n,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new J(L.UNKNOWN,i.toString())})}Yo(t,n,r,s,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Yo(t,Fa(n,r),s,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new J(L.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class Z1{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(fn(n),this.ua=!1):X("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr="RemoteStore";class t0{constructor(t,n,r,s,i){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No(a=>{r.enqueueAndForget(async()=>{sr(this)&&(X(nr,"Restarting streams for network reachability change."),await async function(u){const h=lt(u);h.da.add(4),await Gs(h),h.Va.set("Unknown"),h.da.delete(4),await Io(h)}(this))})}),this.Va=new Z1(r,s)}}async function Io(e){if(sr(e))for(const t of e.Aa)await t(!0)}async function Gs(e){for(const t of e.Aa)await t(!1)}function Cp(e,t){const n=lt(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),Ll(n)?Ml(n):qr(n).N_()&&Ol(n,t))}function Nl(e,t){const n=lt(e),r=qr(n);n.Ea.delete(t),r.N_()&&Sp(n,t),n.Ea.size===0&&(r.N_()?r.k_():sr(n)&&n.Va.set("Unknown"))}function Ol(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(at.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}qr(e).Z_(t)}function Sp(e,t){e.ma.Ke(t),qr(e).X_(t)}function Ml(e){e.ma=new WE({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),qr(e).start(),e.Va.ca()}function Ll(e){return sr(e)&&!qr(e).O_()&&e.Ea.size>0}function sr(e){return lt(e).da.size===0}function Pp(e){e.ma=void 0}async function e0(e){e.Va.set("Online")}async function n0(e){e.Ea.forEach((t,n)=>{Ol(e,t)})}async function r0(e,t){Pp(e),Ll(e)?(e.Va.Pa(t),Ml(e)):e.Va.set("Unknown")}async function s0(e,t,n){if(e.Va.set("Online"),t instanceof dp&&t.state===2&&t.cause)try{await async function(s,i){const a=i.cause;for(const l of i.targetIds)s.Ea.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ea.delete(l),s.ma.removeTarget(l))}(e,t)}catch(r){X(nr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Xi(e,r)}else if(t instanceof Pi?e.ma.Xe(t):t instanceof fp?e.ma.ot(t):e.ma.nt(t),!n.isEqual(at.min()))try{const r=await Ap(e.localStore);n.compareTo(r)>=0&&await function(i,a){const l=i.ma.It(a);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=i.Ea.get(h);d&&i.Ea.set(h,d.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,h)=>{const d=i.Ea.get(u);if(!d)return;i.Ea.set(u,d.withResumeToken(Zt.EMPTY_BYTE_STRING,d.snapshotVersion)),Sp(i,u);const p=new An(d.target,u,h,d.sequenceNumber);Ol(i,p)}),i.remoteSyncer.applyRemoteEvent(l)}(e,n)}catch(r){X(nr,"Failed to raise snapshot:",r),await Xi(e,r)}}async function Xi(e,t,n){if(!jr(t))throw t;e.da.add(1),await Gs(e),e.Va.set("Offline"),n||(n=()=>Ap(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{X(nr,"Retrying IndexedDB access"),await n(),e.da.delete(1),await Io(e)})}function Vp(e,t){return t().catch(n=>Xi(e,n,t))}async function Ao(e){const t=lt(e),n=Ln(t);let r=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:vl;for(;i0(t);)try{const s=await B1(t.localStore,r);if(s===null){t.Ia.length===0&&n.k_();break}r=s.batchId,o0(t,s)}catch(s){await Xi(t,s)}xp(t)&&Dp(t)}function i0(e){return sr(e)&&e.Ia.length<10}function o0(e,t){e.Ia.push(t);const n=Ln(e);n.N_()&&n.ea&&n.ta(t.mutations)}function xp(e){return sr(e)&&!Ln(e).O_()&&e.Ia.length>0}function Dp(e){Ln(e).start()}async function a0(e){Ln(e).ia()}async function l0(e){const t=Ln(e);for(const n of e.Ia)t.ta(n.mutations)}async function u0(e,t,n){const r=e.Ia.shift(),s=Cl.from(r,t,n);await Vp(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Ao(e)}async function c0(e,t){t&&Ln(e).ea&&await async function(r,s){if(function(a){return KE(a)&&a!==L.ABORTED}(s.code)){const i=r.Ia.shift();Ln(r).L_(),await Vp(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Ao(r)}}(e,t),xp(e)&&Dp(e)}async function Th(e,t){const n=lt(e);n.asyncQueue.verifyOperationInProgress(),X(nr,"RemoteStore received new credentials");const r=sr(n);n.da.add(3),await Gs(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await Io(n)}async function h0(e,t){const n=lt(e);t?(n.da.delete(2),await Io(n)):t||(n.da.add(2),await Gs(n),n.Va.set("Unknown"))}function qr(e){return e.fa||(e.fa=function(n,r,s){const i=lt(n);return i.oa(),new Q1(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(e.datastore,e.asyncQueue,{e_:e0.bind(null,e),n_:n0.bind(null,e),i_:r0.bind(null,e),Y_:s0.bind(null,e)}),e.Aa.push(async t=>{t?(e.fa.L_(),Ll(e)?Ml(e):e.Va.set("Unknown")):(await e.fa.stop(),Pp(e))})),e.fa}function Ln(e){return e.ga||(e.ga=function(n,r,s){const i=lt(n);return i.oa(),new Y1(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:a0.bind(null,e),i_:c0.bind(null,e),na:l0.bind(null,e),ra:u0.bind(null,e)}),e.Aa.push(async t=>{t?(e.ga.L_(),await Ao(e)):(await e.ga.stop(),e.Ia.length>0&&(X(nr,`Stopping write stream with ${e.Ia.length} pending writes`),e.Ia=[]))})),e.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(t,n,r,s,i){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Zn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,s,i){const a=Date.now()+r,l=new Fl(t,n,a,s,i);return l.start(r),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(L.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ul(e,t){if(fn("AsyncQueue",`${t}: ${e}`),jr(e))return new J(L.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{static emptySet(t){return new Cr(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||nt.comparator(n.key,r.key):(n,r)=>nt.comparator(n.key,r.key),this.keyedMap=cs(),this.sortedSet=new Lt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Cr)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Cr;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(){this.pa=new Lt(nt.comparator)}track(t){const n=t.doc.key,r=this.pa.get(n);r?t.type!==0&&r.type===3?this.pa=this.pa.insert(n,t):t.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.pa=this.pa.remove(n):t.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):it(63341,{Vt:t,ya:r}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,r)=>{t.push(r)}),t}}class Nr{constructor(t,n,r,s,i,a,l,u,h){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(t,n,r,s,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Nr(t,n,Cr.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_o(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class d0{constructor(){this.queries=Ih(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=lt(n),i=s.queries;s.queries=Ih(),i.forEach((a,l)=>{for(const u of l.Sa)u.onError(r)})})(this,new J(L.ABORTED,"Firestore shutting down"))}}function Ih(){return new rr(e=>Zd(e),_o)}async function p0(e,t){const n=lt(e);let r=3;const s=t.query;let i=n.queries.get(s);i?!i.Da()&&t.va()&&(r=2):(i=new f0,r=t.va()?0:1);try{switch(r){case 0:i.ba=await n.onListen(s,!0);break;case 1:i.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=Ul(a,`Initialization of query '${pr(t.query)}' failed`);return void t.onError(l)}n.queries.set(s,i),i.Sa.push(t),t.Fa(n.onlineState),i.ba&&t.Ma(i.ba)&&Bl(n)}async function m0(e,t){const n=lt(e),r=t.query;let s=3;const i=n.queries.get(r);if(i){const a=i.Sa.indexOf(t);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=t.va()?0:1:!i.Da()&&t.va()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function g0(e,t){const n=lt(e);let r=!1;for(const s of t){const i=s.query,a=n.queries.get(i);if(a){for(const l of a.Sa)l.Ma(s)&&(r=!0);a.ba=s}}r&&Bl(n)}function _0(e,t,n){const r=lt(e),s=r.queries.get(t);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(t)}function Bl(e){e.Ca.forEach(t=>{t.next()})}var za,Ah;(Ah=za||(za={})).xa="default",Ah.Cache="cache";class y0{constructor(t,n,r){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(t){if(!this.options.includeMetadataChanges){const r=[];for(const s of t.docChanges)s.type!==3&&r.push(s);t=new Nr(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=Nr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==za.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(t){this.key=t}}class Np{constructor(t){this.key=t}}class v0{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=mt(),this.mutatedKeys=mt(),this.Za=tp(t),this.Xa=new Cr(this.Za)}get eu(){return this.Ha}tu(t,n){const r=n?n.nu:new wh,s=n?n.Xa:this.Xa;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((d,p)=>{const m=s.get(d),_=yo(this.query,p)?p:null,P=!!m&&this.mutatedKeys.has(m.key),x=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let D=!1;m&&_?m.data.isEqual(_.data)?P!==x&&(r.track({type:3,doc:_}),D=!0):this.ru(m,_)||(r.track({type:2,doc:_}),D=!0,(u&&this.Za(_,u)>0||h&&this.Za(_,h)<0)&&(l=!0)):!m&&_?(r.track({type:0,doc:_}),D=!0):m&&!_&&(r.track({type:1,doc:m}),D=!0,(u||h)&&(l=!0)),D&&(_?(a=a.add(_),i=x?i.add(d):i.delete(d)):(a=a.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Xa:a,nu:r,Cs:l,mutatedKeys:i}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,s){const i=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const a=t.nu.wa();a.sort((d,p)=>function(_,P){const x=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it(20277,{Vt:D})}};return x(_)-x(P)}(d.type,p.type)||this.Za(d.doc,p.doc)),this.iu(r),s=s!=null&&s;const l=n&&!s?this.su():[],u=this.Ya.size===0&&this.current&&!s?1:0,h=u!==this.Ja;return this.Ja=u,a.length!==0||h?{snapshot:new Nr(this.query,t.Xa,i,a,t.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new wh,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=mt(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return t.forEach(r=>{this.Ya.has(r)||n.push(new Np(r))}),this.Ya.forEach(r=>{t.has(r)||n.push(new kp(r))}),n}au(t){this.Ha=t.$s,this.Ya=mt();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return Nr.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const $l="SyncEngine";class E0{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class T0{constructor(t){this.key=t,this.cu=!1}}class w0{constructor(t,n,r,s,i,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new rr(l=>Zd(l),_o),this.Pu=new Map,this.Tu=new Set,this.Iu=new Lt(nt.comparator),this.Eu=new Map,this.du=new Vl,this.Au={},this.Ru=new Map,this.Vu=kr.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function I0(e,t,n=!0){const r=Bp(e);let s;const i=r.hu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.uu()):s=await Op(r,t,n,!0),s}async function A0(e,t){const n=Bp(e);await Op(n,t,!0,!1)}async function Op(e,t,n,r){const s=await $1(e.localStore,Qe(t)),i=s.targetId,a=e.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await R0(e,t,i,a==="current",s.resumeToken)),e.isPrimaryClient&&n&&Cp(e.remoteStore,s),l}async function R0(e,t,n,r,s){e.fu=(p,m,_)=>async function(x,D,$,B){let z=D.view.tu($);z.Cs&&(z=await gh(x.localStore,D.query,!1).then(({documents:I})=>D.view.tu(I,z)));const K=B&&B.targetChanges.get(D.targetId),dt=B&&B.targetMismatches.get(D.targetId)!=null,gt=D.view.applyChanges(z,x.isPrimaryClient,K,dt);return bh(x,D.targetId,gt.ou),gt.snapshot}(e,p,m,_);const i=await gh(e.localStore,t,!0),a=new v0(t,i.$s),l=a.tu(i.documents),u=Ks.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",s),h=a.applyChanges(l,e.isPrimaryClient,u);bh(e,n,h.ou);const d=new E0(t,n,a);return e.hu.set(t,d),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),h.snapshot}async function b0(e,t,n){const r=lt(e),s=r.hu.get(t),i=r.Pu.get(s.targetId);if(i.length>1)return r.Pu.set(s.targetId,i.filter(a=>!_o(a,t))),void r.hu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await $a(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Nl(r.remoteStore,s.targetId),qa(r,s.targetId)}).catch($r)):(qa(r,s.targetId),await $a(r.localStore,s.targetId,!0))}async function C0(e,t){const n=lt(e),r=n.hu.get(t),s=n.Pu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Nl(n.remoteStore,r.targetId))}async function S0(e,t,n){const r=O0(e);try{const s=await function(a,l){const u=lt(a),h=qt.now(),d=l.reduce((_,P)=>_.add(P.key),mt());let p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let P=dn(),x=mt();return u.Bs.getEntries(_,d).next(D=>{P=D,P.forEach(($,B)=>{B.isValidDocument()||(x=x.add($))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,P)).next(D=>{p=D;const $=[];for(const B of l){const z=$E(B,p.get(B.key).overlayedDocument);z!=null&&$.push(new $n(B.key,z,Hd(z.value.mapValue),Ue.exists(!0)))}return u.mutationQueue.addMutationBatch(_,h,$,l)}).next(D=>{m=D;const $=D.applyToLocalDocumentSet(p,x);return u.documentOverlayCache.saveOverlays(_,D.batchId,$)})}).then(()=>({batchId:m.batchId,changes:np(p)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(s.batchId),function(a,l,u){let h=a.Au[a.currentUser.toKey()];h||(h=new Lt(ht)),h=h.insert(l,u),a.Au[a.currentUser.toKey()]=h}(r,s.batchId,n),await Ws(r,s.changes),await Ao(r.remoteStore)}catch(s){const i=Ul(s,"Failed to persist write");n.reject(i)}}async function Mp(e,t){const n=lt(e);try{const r=await F1(n.localStore,t);t.targetChanges.forEach((s,i)=>{const a=n.Eu.get(i);a&&(Ct(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.cu=!0:s.modifiedDocuments.size>0?Ct(a.cu,14607):s.removedDocuments.size>0&&(Ct(a.cu,42227),a.cu=!1))}),await Ws(n,r,t)}catch(r){await $r(r)}}function Rh(e,t,n){const r=lt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.hu.forEach((i,a)=>{const l=a.view.Fa(t);l.snapshot&&s.push(l.snapshot)}),function(a,l){const u=lt(a);u.onlineState=l;let h=!1;u.queries.forEach((d,p)=>{for(const m of p.Sa)m.Fa(l)&&(h=!0)}),h&&Bl(u)}(r.eventManager,t),s.length&&r.lu.Y_(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function P0(e,t,n){const r=lt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Eu.get(t),i=s&&s.key;if(i){let a=new Lt(nt.comparator);a=a.insert(i,le.newNoDocument(i,at.min()));const l=mt().add(i),u=new To(at.min(),new Map,new Lt(ht),a,l);await Mp(r,u),r.Iu=r.Iu.remove(i),r.Eu.delete(t),jl(r)}else await $a(r.localStore,t,!1).then(()=>qa(r,t,n)).catch($r)}async function V0(e,t){const n=lt(e),r=t.batch.batchId;try{const s=await L1(n.localStore,t);Fp(n,r,null),Lp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ws(n,s)}catch(s){await $r(s)}}async function x0(e,t,n){const r=lt(e);try{const s=await function(a,l){const u=lt(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,l).next(p=>(Ct(p!==null,37113),d=p.keys(),u.mutationQueue.removeMutationBatch(h,p))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(r.localStore,t);Fp(r,t,n),Lp(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ws(r,s)}catch(s){await $r(s)}}function Lp(e,t){(e.Ru.get(t)||[]).forEach(n=>{n.resolve()}),e.Ru.delete(t)}function Fp(e,t,n){const r=lt(e);let s=r.Au[r.currentUser.toKey()];if(s){const i=s.get(t);i&&(n?i.reject(n):i.resolve(),s=s.remove(t)),r.Au[r.currentUser.toKey()]=s}}function qa(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Pu.get(t))e.hu.delete(r),n&&e.lu.gu(r,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach(r=>{e.du.containsKey(r)||Up(e,r)})}function Up(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);n!==null&&(Nl(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),jl(e))}function bh(e,t,n){for(const r of n)r instanceof kp?(e.du.addReference(r.key,t),D0(e,r)):r instanceof Np?(X($l,"Document no longer in limbo: "+r.key),e.du.removeReference(r.key,t),e.du.containsKey(r.key)||Up(e,r.key)):it(19791,{pu:r})}function D0(e,t){const n=t.key,r=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(r)||(X($l,"New document in limbo: "+n),e.Tu.add(r),jl(e))}function jl(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new nt(kt.fromString(t)),r=e.Vu.next();e.Eu.set(r,new T0(n)),e.Iu=e.Iu.insert(n,r),Cp(e.remoteStore,new An(Qe(Al(n.path)),r,"TargetPurposeLimboResolution",po.le))}}async function Ws(e,t,n){const r=lt(e),s=[],i=[],a=[];r.hu.isEmpty()||(r.hu.forEach((l,u)=>{a.push(r.fu(u,t,n).then(h=>{var d;if((h||n)&&r.isPrimaryClient){const p=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(h){s.push(h);const p=Dl.Rs(u.targetId,h);i.push(p)}}))}),await Promise.all(a),r.lu.Y_(s),await async function(u,h){const d=lt(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>M.forEach(h,m=>M.forEach(m.ds,_=>d.persistence.referenceDelegate.addReference(p,m.targetId,_)).next(()=>M.forEach(m.As,_=>d.persistence.referenceDelegate.removeReference(p,m.targetId,_)))))}catch(p){if(!jr(p))throw p;X(kl,"Failed to update sequence numbers: "+p)}for(const p of h){const m=p.targetId;if(!p.fromCache){const _=d.xs.get(m),P=_.snapshotVersion,x=_.withLastLimboFreeSnapshotVersion(P);d.xs=d.xs.insert(m,x)}}}(r.localStore,i))}async function k0(e,t){const n=lt(e);if(!n.currentUser.isEqual(t)){X($l,"User change. New user:",t.toKey());const r=await Ip(n.localStore,t);n.currentUser=t,function(i,a){i.Ru.forEach(l=>{l.forEach(u=>{u.reject(new J(L.CANCELLED,a))})}),i.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Ws(n,r.ks)}}function N0(e,t){const n=lt(e),r=n.Eu.get(t);if(r&&r.cu)return mt().add(r.key);{let s=mt();const i=n.Pu.get(t);if(!i)return s;for(const a of i){const l=n.hu.get(a);s=s.unionWith(l.view.eu)}return s}}function Bp(e){const t=lt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Mp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=N0.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=P0.bind(null,t),t.lu.Y_=g0.bind(null,t.eventManager),t.lu.gu=_0.bind(null,t.eventManager),t}function O0(e){const t=lt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=V0.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=x0.bind(null,t),t}class Ji{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=wo(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return M1(this.persistence,new k1,t.initialUser,this.serializer)}Su(t){return new wp(xl.fi,this.serializer)}bu(t){return new z1}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ji.provider={build:()=>new Ji};class M0 extends Ji{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){Ct(this.persistence.referenceDelegate instanceof Yi,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new y1(r,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?Ee.withCacheSize(this.cacheSizeBytes):Ee.DEFAULT;return new wp(r=>Yi.fi(r,n),this.serializer)}}class Ha{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Rh(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=k0.bind(null,this.syncEngine),await h0(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new d0}()}createDatastore(t){const n=wo(t.databaseInfo.databaseId),r=function(i){return new W1(i)}(t.databaseInfo);return function(i,a,l,u){return new J1(i,a,l,u)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,s,i,a,l){return new t0(r,s,i,a,l)}(this.localStore,this.datastore,t.asyncQueue,n=>Rh(this.syncEngine,n,0),function(){return vh.C()?new vh:new q1}())}createSyncEngine(t,n){return function(s,i,a,l,u,h,d){const p=new w0(s,i,a,l,u,h);return d&&(p.mu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(s){const i=lt(s);X(nr,"RemoteStore shutting down."),i.da.add(5),await Gs(i),i.Ra.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ha.provider={build:()=>new Ha};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):fn("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn="FirestoreClient";class F0{constructor(t,n,r,s,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=oe.UNAUTHENTICATED,this.clientId=Od.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async a=>{X(Fn,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(X(Fn,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Zn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Ul(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function ua(e,t){e.asyncQueue.verifyOperationInProgress(),X(Fn,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Ip(t.localStore,s),r=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Ch(e,t){e.asyncQueue.verifyOperationInProgress();const n=await U0(e);X(Fn,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>Th(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,s)=>Th(t.remoteStore,s)),e._onlineComponents=t}async function U0(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){X(Fn,"Using user provided OfflineComponentProvider");try{await ua(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(s){return s.name==="FirebaseError"?s.code===L.FAILED_PRECONDITION||s.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Pr("Error using user provided cache. Falling back to memory cache: "+n),await ua(e,new Ji)}}else X(Fn,"Using default OfflineComponentProvider"),await ua(e,new M0(void 0));return e._offlineComponents}async function $p(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(X(Fn,"Using user provided OnlineComponentProvider"),await Ch(e,e._uninitializedComponentsProvider._online)):(X(Fn,"Using default OnlineComponentProvider"),await Ch(e,new Ha))),e._onlineComponents}function B0(e){return $p(e).then(t=>t.syncEngine)}async function Sh(e){const t=await $p(e),n=t.eventManager;return n.onListen=I0.bind(null,t.syncEngine),n.onUnlisten=b0.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=A0.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=C0.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(e,t,n){if(!n)throw new J(L.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function $0(e,t,n,r){if(t===!0&&r===!0)throw new J(L.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Vh(e){if(!nt.isDocumentKey(e))throw new J(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function xh(e){if(nt.isDocumentKey(e))throw new J(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Ro(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":it(12329,{type:typeof e})}function Pn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new J(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ro(e);throw new J(L.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="firestore.googleapis.com",Dh=!0;class kh{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new J(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qp,this.ssl=Dh}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Dh;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Tp;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<g1)throw new J(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$0("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jp((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new J(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new J(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new J(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bo{constructor(t,n,r,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new J(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kh(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Gv;switch(r.type){case"firstParty":return new Xv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Ph.get(n);r&&(X("ComponentProvider","Removing Datastore"),Ph.delete(n),r.terminate())}(this),Promise.resolve()}}function j0(e,t,n,r={}){var s;e=Pn(e,bo);const i=gl(t),a=e._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),u=`${t}:${n}`;i&&(Ey(`https://${u}`),Ay("Firestore",!0)),a.host!==qp&&a.host!==u&&Pr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:u,ssl:i,emulatorOptions:r});if(!Bi(h,l)&&(e._setSettings(h),r.mockUserToken)){let d,p;if(typeof r.mockUserToken=="string")d=r.mockUserToken,p=oe.MOCK_USER;else{d=Ty(r.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new J(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new oe(m)}e._authCredentials=new Wv(new kd(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ir(this.firestore,t,this._query)}}class we{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vn(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new we(this.firestore,t,this._key)}}class Vn extends ir{constructor(t,n,r){super(t,n,Al(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new we(this.firestore,null,new nt(t))}withConverter(t){return new Vn(this.firestore,t,this._path)}}function z0(e,t,...n){if(e=Je(e),zp("collection","path",t),e instanceof bo){const r=kt.fromString(t,...n);return xh(r),new Vn(e,null,r)}{if(!(e instanceof we||e instanceof Vn))throw new J(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(kt.fromString(t,...n));return xh(r),new Vn(e.firestore,null,r)}}function Ka(e,t,...n){if(e=Je(e),arguments.length===1&&(t=Od.newId()),zp("doc","path",t),e instanceof bo){const r=kt.fromString(t,...n);return Vh(r),new we(e,null,new nt(r))}{if(!(e instanceof we||e instanceof Vn))throw new J(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(kt.fromString(t,...n));return Vh(r),new we(e.firestore,e instanceof Vn?e.converter:null,new nt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh="AsyncQueue";class Oh{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Rp(this,"async_queue_retry"),this.rc=()=>{const r=la();r&&X(Nh,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=t;const n=la();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=la();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Zn;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!jr(t))throw t;X(Nh,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(r=>{throw this.Xu=r,this.ec=!1,fn("INTERNAL UNHANDLED ERROR: ",Mh(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(t,n,r){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const s=Fl.createAndSchedule(this,t,n,r,i=>this.uc(i));return this.Zu.push(s),s}oc(){this.Xu&&it(47125,{cc:Mh(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function Mh(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(e,["next","error","complete"])}class Or extends bo{constructor(t,n,r,s){super(t,n,r,s),this.type="firestore",this._queue=new Oh,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Oh(t),this._firestoreClient=void 0,await t}}}function q0(e,t){const n=typeof e=="object"?e:Nv(),r=typeof e=="string"?e:qi,s=Pv(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=yy("firestore");i&&j0(s,...i)}return s}function Hp(e){if(e._terminated)throw new J(L.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||H0(e),e._firestoreClient}function H0(e){var t,n,r;const s=e._freezeSettings(),i=function(l,u,h,d){return new fE(l,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,jp(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,s);e._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),e._firestoreClient=new F0(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Mr(Zt.fromBase64String(t))}catch(n){throw new J(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Mr(Zt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new J(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new J(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new J(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ht(this._lat,t._lat)||ht(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=/^__.*__$/;class G0{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new $n(t,this.data,this.fieldMask,n,this.fieldTransforms):new Hs(t,this.data,n,this.fieldTransforms)}}class Kp{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new $n(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function Gp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it(40011,{Ic:e})}}class Kl{constructor(t,n,r,s,i,a){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ec(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new Kl(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.dc({path:r,Rc:!1});return s.Vc(t),s}mc(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.dc({path:r,Rc:!1});return s.Ec(),s}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return Zi(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(Gp(this.Ic)&&K0.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class W0{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||wo(t)}bc(t,n,r,s=!1){return new Kl({Ic:t,methodName:n,wc:r,path:Jt.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gl(e){const t=e._freezeSettings(),n=wo(e._databaseId);return new W0(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Q0(e,t,n,r,s,i={}){const a=e.bc(i.merge||i.mergeFields?2:0,t,n,s);Wl("Data must be an object, but it was:",a,r);const l=Wp(r,a);let u,h;if(i.merge)u=new Ce(a.fieldMask),h=a.fieldTransforms;else if(i.mergeFields){const d=[];for(const p of i.mergeFields){const m=Ga(t,p,n);if(!a.contains(m))throw new J(L.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);Yp(d,m)||d.push(m)}u=new Ce(d),h=a.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,h=a.fieldTransforms;return new G0(new Te(l),u,h)}class So extends zl{_toFieldTransform(t){if(t.Ic!==2)throw t.Ic===1?t.gc(`${this._methodName}() can only appear at the top level of your update data`):t.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof So}}function Y0(e,t,n,r){const s=e.bc(1,t,n);Wl("Data must be an object, but it was:",s,r);const i=[],a=Te.empty();Bn(r,(u,h)=>{const d=Ql(t,u,n);h=Je(h);const p=s.mc(d);if(h instanceof So)i.push(d);else{const m=Qs(h,p);m!=null&&(i.push(d),a.set(d,m))}});const l=new Ce(i);return new Kp(a,l,s.fieldTransforms)}function X0(e,t,n,r,s,i){const a=e.bc(1,t,n),l=[Ga(t,r,n)],u=[s];if(i.length%2!=0)throw new J(L.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)l.push(Ga(t,i[m])),u.push(i[m+1]);const h=[],d=Te.empty();for(let m=l.length-1;m>=0;--m)if(!Yp(h,l[m])){const _=l[m];let P=u[m];P=Je(P);const x=a.mc(_);if(P instanceof So)h.push(_);else{const D=Qs(P,x);D!=null&&(h.push(_),d.set(_,D))}}const p=new Ce(h);return new Kp(d,p,a.fieldTransforms)}function J0(e,t,n,r=!1){return Qs(n,e.bc(r?4:3,t))}function Qs(e,t){if(Qp(e=Je(e)))return Wl("Unsupported field value:",t,e),Wp(e,t);if(e instanceof zl)return function(r,s){if(!Gp(s.Ic))throw s.gc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const l of r){let u=Qs(l,s.fc(a));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),a++}return{arrayValue:{values:i}}}(e,t)}return function(r,s){if((r=Je(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return OE(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=qt.fromDate(r);return{timestampValue:Qi(s.serializer,i)}}if(r instanceof qt){const i=new qt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qi(s.serializer,i)}}if(r instanceof ql)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mr)return{bytesValue:pp(s.serializer,r._byteString)};if(r instanceof we){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.gc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Pl(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Hl)return function(a,l){return{mapValue:{fields:{[zd]:{stringValue:qd},[Hi]:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw l.gc("VectorValues must only contain numeric values.");return Rl(l.serializer,h)})}}}}}}(r,s);throw s.gc(`Unsupported field value: ${Ro(r)}`)}(e,t)}function Wp(e,t){const n={};return Ld(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Bn(e,(r,s)=>{const i=Qs(s,t.Ac(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Qp(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof qt||e instanceof ql||e instanceof Mr||e instanceof we||e instanceof zl||e instanceof Hl)}function Wl(e,t,n){if(!Qp(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Ro(n);throw r==="an object"?t.gc(e+" a custom object"):t.gc(e+" "+r)}}function Ga(e,t,n){if((t=Je(t))instanceof Co)return t._internalPath;if(typeof t=="string")return Ql(e,t);throw Zi("Field path arguments must be of type string or ",e,!1,void 0,n)}const Z0=new RegExp("[~\\*/\\[\\]]");function Ql(e,t,n){if(t.search(Z0)>=0)throw Zi(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Co(...t.split("."))._internalPath}catch{throw Zi(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Zi(e,t,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${t}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(i||a)&&(u+=" (found",i&&(u+=` in field ${r}`),a&&(u+=` in document ${s}`),u+=")"),new J(L.INVALID_ARGUMENT,l+e+u)}function Yp(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(t,n,r,s,i){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new we(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new tT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Yl("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class tT extends Xp{data(){return super.data()}}function Yl(e,t){return typeof t=="string"?Ql(e,t):t instanceof Co?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new J(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xl{}class Jp extends Xl{}function nT(e,t,...n){let r=[];t instanceof Xl&&r.push(t),r=r.concat(n),function(i){const a=i.filter(u=>u instanceof Zl).length,l=i.filter(u=>u instanceof Jl).length;if(a>1||a>0&&l>0)throw new J(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)e=s._apply(e);return e}class Jl extends Jp{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Jl(t,n,r)}_apply(t){const n=this._parse(t);return Zp(t._query,n),new ir(t.firestore,t.converter,Oa(t._query,n))}_parse(t){const n=Gl(t.firestore);return function(i,a,l,u,h,d,p){let m;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new J(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Uh(p,d);const P=[];for(const x of p)P.push(Fh(u,i,x));m={arrayValue:{values:P}}}else m=Fh(u,i,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Uh(p,d),m=J0(l,a,p,d==="in"||d==="not-in");return jt.create(h,d,m)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Zl extends Xl{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Zl(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:$e.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(s,i){let a=s;const l=i.getFlattenedFilters();for(const u of l)Zp(a,u),a=Oa(a,u)}(t._query,n),new ir(t.firestore,t.converter,Oa(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class tu extends Jp{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new tu(t,n)}_apply(t){const n=function(s,i,a){if(s.startAt!==null)throw new J(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new J(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ls(i,a)}(t._query,this._field,this._direction);return new ir(t.firestore,t.converter,function(s,i){const a=s.explicitOrderBy.concat([i]);return new zr(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(t._query,n))}}function rT(e,t="asc"){const n=t,r=Yl("orderBy",e);return tu._create(r,n)}function Fh(e,t,n){if(typeof(n=Je(n))=="string"){if(n==="")throw new J(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jd(t)&&n.indexOf("/")!==-1)throw new J(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(kt.fromString(n));if(!nt.isDocumentKey(r))throw new J(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xc(e,new nt(r))}if(n instanceof we)return Xc(e,n._key);throw new J(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ro(n)}.`)}function Uh(e,t){if(!Array.isArray(e)||e.length===0)throw new J(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Zp(e,t){const n=function(s,i){for(const a of s)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(e.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new J(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new J(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class sT{convertValue(t,n="none"){switch(Mn(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ut(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(On(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw it(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Bn(t,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(t){var n,r,s;const i=(s=(r=(n=t.fields)===null||n===void 0?void 0:n[Hi].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(a=>Ut(a.doubleValue));return new Hl(i)}convertGeoPoint(t){return new ql(Ut(t.latitude),Ut(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=go(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ns(t));default:return null}}convertTimestamp(t){const n=Nn(t);return new qt(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=kt.fromString(t);Ct(Ep(r),9688,{name:t});const s=new Os(r.get(1),r.get(3)),i=new nt(r.popFirst(5));return s.isEqual(n)||fn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(e,t,n){let r;return r=e?e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class tm extends Xp{constructor(t,n,r,s,i,a){super(t,n,r,s,a),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Vi(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Yl("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Vi extends tm{data(t={}){return super.data(t)}}class oT{constructor(t,n,r,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new fs(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Vi(this._firestore,this._userDataWriter,r.key,r,new fs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const u=new Vi(s._firestore,s._userDataWriter,l.doc.key,l.doc,new fs(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const u=new Vi(s._firestore,s._userDataWriter,l.doc.key,l.doc,new fs(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,d=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:aT(l.type),doc:u,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function aT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it(61501,{type:e})}}class em extends sT{constructor(t){super(),this.firestore=t}convertBytes(t){return new Mr(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new we(this.firestore,null,n)}}function lT(e,t,n,...r){e=Pn(e,we);const s=Pn(e.firestore,Or),i=Gl(s);let a;return a=typeof(t=Je(t))=="string"||t instanceof Co?X0(i,"updateDoc",e._key,t,n,r):Y0(i,"updateDoc",e._key,t),eu(s,[a.toMutation(e._key,Ue.exists(!0))])}function uT(e){return eu(Pn(e.firestore,Or),[new bl(e._key,Ue.none())])}function cT(e,t){const n=Pn(e.firestore,Or),r=Ka(e),s=iT(e.converter,t);return eu(n,[Q0(Gl(e.firestore),"addDoc",r._key,s,e.converter!==null,{}).toMutation(r._key,Ue.exists(!1))]).then(()=>r)}function hT(e,...t){var n,r,s;e=Je(e);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||Lh(t[a])||(i=t[a],a++);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Lh(t[a])){const p=t[a];t[a]=(n=p.next)===null||n===void 0?void 0:n.bind(p),t[a+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),t[a+2]=(s=p.complete)===null||s===void 0?void 0:s.bind(p)}let u,h,d;if(e instanceof we)h=Pn(e.firestore,Or),d=Al(e._key.path),u={next:p=>{t[a]&&t[a](fT(h,e,p))},error:t[a+1],complete:t[a+2]};else{const p=Pn(e,ir);h=Pn(p.firestore,Or),d=p._query;const m=new em(h);u={next:_=>{t[a]&&t[a](new oT(h,m,p,_))},error:t[a+1],complete:t[a+2]},eT(e._query)}return function(m,_,P,x){const D=new L0(x),$=new y0(_,D,P);return m.asyncQueue.enqueueAndForget(async()=>p0(await Sh(m),$)),()=>{D.xu(),m.asyncQueue.enqueueAndForget(async()=>m0(await Sh(m),$))}}(Hp(h),d,l,u)}function eu(e,t){return function(r,s){const i=new Zn;return r.asyncQueue.enqueueAndForget(async()=>S0(await B0(r),s,i)),i.promise}(Hp(e),t)}function fT(e,t,n){const r=n.docs.get(t._key),s=new em(e);return new tm(e,s,t._key,r,new fs(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(s){Br=s})(kv),ji(new xs("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),l=new Or(new Qv(r.getProvider("auth-internal")),new Jv(a,r.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new J(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Os(h.options.projectId,d)}(a,s),a);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),br(Uc,Bc,t),br(Uc,Bc,"esm2017")})();const or=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},dT={apiKey:"AIzaSyBDpgeSgZmDllDsBds_j2izgGLchOqcqK8",authDomain:"tasksmanager-8e768.firebaseapp.com",projectId:"tasksmanager-8e768",storageBucket:"tasksmanager-8e768.firebasestorage.app",messagingSenderId:"902344809807",appId:"1:902344809807:web:10dc670d6485967713f93a",measurementId:"G-QKRSEE0H45"},pT=Id(dT),Wa=q0(pT),Bh=z0(Wa,"tasks"),mT={name:"App",data(){return{newTask:"",tasks:[]}},created(){this.fetchTasks()},methods:{async fetchTasks(){const e=nT(Bh,rT("createdAt","asc"));hT(e,t=>{const n=[];t.forEach(r=>{n.push({id:r.id,...r.data()})}),this.tasks=n})},async addTask(){if(this.newTask.trim()!=="")try{await cT(Bh,{text:this.newTask.trim(),completed:!1,createdAt:new Date}),this.newTask=""}catch(e){console.error("Error adding document: ",e)}},async toggleTaskCompletion(e){const t=Ka(Wa,"tasks",e.id);try{await lT(t,{completed:e.completed})}catch(n){console.error("Error updating document: ",n)}},async removeTask(e){const t=Ka(Wa,"tasks",e);try{await uT(t)}catch(n){console.error("Error removing document: ",n)}}}},gT={class:"task-input"},_T={class:"task-list"},yT=["onUpdate:modelValue","onChange"],vT=["onClick"];function ET(e,t,n,r,s,i){return Se(),Fe(ge,null,[t[3]||(t[3]=ft("h1",null,"My Task Manager",-1)),ft("div",gT,[tc(ft("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>s.newTask=a),onKeyup:t[1]||(t[1]=ny((...a)=>i.addTask&&i.addTask(...a),["enter"])),placeholder:"Add a new task..."},null,544),[[J_,s.newTask]]),ft("button",{onClick:t[2]||(t[2]=(...a)=>i.addTask&&i.addTask(...a))},"Add Task")]),ft("ul",_T,[(Se(!0),Fe(ge,null,qg(s.tasks,a=>(Se(),Fe("li",{key:a.id,class:so({completed:a.completed})},[tc(ft("input",{type:"checkbox","onUpdate:modelValue":l=>a.completed=l,onChange:l=>i.toggleTaskCompletion(a)},null,40,yT),[[Z_,a.completed]]),ft("span",null,pf(a.text),1),ft("button",{onClick:l=>i.removeTask(a.id)},"Remove",8,vT)],2))),128))])],64)}const TT=or(mT,[["render",ET]]),wT="modulepreload",IT=function(e){return"/task-manager/"+e},$h={},AT=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let a=function(h){return Promise.all(h.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=a(n.map(h=>{if(h=IT(h),h in $h)return;$h[h]=!0;const d=h.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":wT,d||(m.as="script"),m.crossOrigin="",m.href=h,u&&m.setAttribute("nonce",u),document.head.appendChild(m),d)return new Promise((_,P)=>{m.addEventListener("load",_),m.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const _r=typeof document<"u";function nm(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function RT(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&nm(e.default)}const At=Object.assign;function ca(e,t){const n={};for(const r in t){const s=t[r];n[r]=je(s)?s.map(e):e(s)}return n}const Is=()=>{},je=Array.isArray,rm=/#/g,bT=/&/g,CT=/\//g,ST=/=/g,PT=/\?/g,sm=/\+/g,VT=/%5B/g,xT=/%5D/g,im=/%5E/g,DT=/%60/g,om=/%7B/g,kT=/%7C/g,am=/%7D/g,NT=/%20/g;function nu(e){return encodeURI(""+e).replace(kT,"|").replace(VT,"[").replace(xT,"]")}function OT(e){return nu(e).replace(om,"{").replace(am,"}").replace(im,"^")}function Qa(e){return nu(e).replace(sm,"%2B").replace(NT,"+").replace(rm,"%23").replace(bT,"%26").replace(DT,"`").replace(om,"{").replace(am,"}").replace(im,"^")}function MT(e){return Qa(e).replace(ST,"%3D")}function LT(e){return nu(e).replace(rm,"%23").replace(PT,"%3F")}function FT(e){return e==null?"":LT(e).replace(CT,"%2F")}function Bs(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const UT=/\/$/,BT=e=>e.replace(UT,"");function ha(e,t,n="/"){let r,s={},i="",a="";const l=t.indexOf("#");let u=t.indexOf("?");return l<u&&l>=0&&(u=-1),u>-1&&(r=t.slice(0,u),i=t.slice(u+1,l>-1?l:t.length),s=e(i)),l>-1&&(r=r||t.slice(0,l),a=t.slice(l,t.length)),r=qT(r??t,n),{fullPath:r+(i&&"?")+i+a,path:r,query:s,hash:Bs(a)}}function $T(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function jh(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function jT(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Lr(t.matched[r],n.matched[s])&&lm(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Lr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function lm(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!zT(e[n],t[n]))return!1;return!0}function zT(e,t){return je(e)?zh(e,t):je(t)?zh(t,e):e===t}function zh(e,t){return je(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function qT(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,a,l;for(a=0;a<r.length;a++)if(l=r[a],l!==".")if(l==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(a).join("/")}const En={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var $s;(function(e){e.pop="pop",e.push="push"})($s||($s={}));var As;(function(e){e.back="back",e.forward="forward",e.unknown=""})(As||(As={}));function HT(e){if(!e)if(_r){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),BT(e)}const KT=/^[^#]+#/;function GT(e,t){return e.replace(KT,"#")+t}function WT(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Po=()=>({left:window.scrollX,top:window.scrollY});function QT(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=WT(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function qh(e,t){return(history.state?history.state.position-t:-1)+e}const Ya=new Map;function YT(e,t){Ya.set(e,t)}function XT(e){const t=Ya.get(e);return Ya.delete(e),t}let JT=()=>location.protocol+"//"+location.host;function um(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let l=s.includes(e.slice(i))?e.slice(i).length:1,u=s.slice(l);return u[0]!=="/"&&(u="/"+u),jh(u,"")}return jh(n,e)+r+s}function ZT(e,t,n,r){let s=[],i=[],a=null;const l=({state:m})=>{const _=um(e,location),P=n.value,x=t.value;let D=0;if(m){if(n.value=_,t.value=m,a&&a===P){a=null;return}D=x?m.position-x.position:0}else r(_);s.forEach($=>{$(n.value,P,{delta:D,type:$s.pop,direction:D?D>0?As.forward:As.back:As.unknown})})};function u(){a=n.value}function h(m){s.push(m);const _=()=>{const P=s.indexOf(m);P>-1&&s.splice(P,1)};return i.push(_),_}function d(){const{history:m}=window;m.state&&m.replaceState(At({},m.state,{scroll:Po()}),"")}function p(){for(const m of i)m();i=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:u,listen:h,destroy:p}}function Hh(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?Po():null}}function tw(e){const{history:t,location:n}=window,r={value:um(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(u,h,d){const p=e.indexOf("#"),m=p>-1?(n.host&&document.querySelector("base")?e:e.slice(p))+u:JT()+e+u;try{t[d?"replaceState":"pushState"](h,"",m),s.value=h}catch(_){console.error(_),n[d?"replace":"assign"](m)}}function a(u,h){const d=At({},t.state,Hh(s.value.back,u,s.value.forward,!0),h,{position:s.value.position});i(u,d,!0),r.value=u}function l(u,h){const d=At({},s.value,t.state,{forward:u,scroll:Po()});i(d.current,d,!0);const p=At({},Hh(r.value,u,null),{position:d.position+1},h);i(u,p,!1),r.value=u}return{location:r,state:s,push:l,replace:a}}function ew(e){e=HT(e);const t=tw(e),n=ZT(e,t.state,t.location,t.replace);function r(i,a=!0){a||n.pauseListeners(),history.go(i)}const s=At({location:"",base:e,go:r,createHref:GT.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function nw(e){return typeof e=="string"||e&&typeof e=="object"}function cm(e){return typeof e=="string"||typeof e=="symbol"}const hm=Symbol("");var Kh;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Kh||(Kh={}));function Fr(e,t){return At(new Error,{type:e,[hm]:!0},t)}function rn(e,t){return e instanceof Error&&hm in e&&(t==null||!!(e.type&t))}const Gh="[^/]+?",rw={sensitive:!1,strict:!1,start:!0,end:!0},sw=/[.+*?^${}()[\]/\\]/g;function iw(e,t){const n=At({},rw,t),r=[];let s=n.start?"^":"";const i=[];for(const h of e){const d=h.length?[]:[90];n.strict&&!h.length&&(s+="/");for(let p=0;p<h.length;p++){const m=h[p];let _=40+(n.sensitive?.25:0);if(m.type===0)p||(s+="/"),s+=m.value.replace(sw,"\\$&"),_+=40;else if(m.type===1){const{value:P,repeatable:x,optional:D,regexp:$}=m;i.push({name:P,repeatable:x,optional:D});const B=$||Gh;if(B!==Gh){_+=10;try{new RegExp(`(${B})`)}catch(K){throw new Error(`Invalid custom RegExp for param "${P}" (${B}): `+K.message)}}let z=x?`((?:${B})(?:/(?:${B}))*)`:`(${B})`;p||(z=D&&h.length<2?`(?:/${z})`:"/"+z),D&&(z+="?"),s+=z,_+=20,D&&(_+=-8),x&&(_+=-20),B===".*"&&(_+=-50)}d.push(_)}r.push(d)}if(n.strict&&n.end){const h=r.length-1;r[h][r[h].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const a=new RegExp(s,n.sensitive?"":"i");function l(h){const d=h.match(a),p={};if(!d)return null;for(let m=1;m<d.length;m++){const _=d[m]||"",P=i[m-1];p[P.name]=_&&P.repeatable?_.split("/"):_}return p}function u(h){let d="",p=!1;for(const m of e){(!p||!d.endsWith("/"))&&(d+="/"),p=!1;for(const _ of m)if(_.type===0)d+=_.value;else if(_.type===1){const{value:P,repeatable:x,optional:D}=_,$=P in h?h[P]:"";if(je($)&&!x)throw new Error(`Provided param "${P}" is an array but it is not repeatable (* or + modifiers)`);const B=je($)?$.join("/"):$;if(!B)if(D)m.length<2&&(d.endsWith("/")?d=d.slice(0,-1):p=!0);else throw new Error(`Missing required param "${P}"`);d+=B}}return d||"/"}return{re:a,score:r,keys:i,parse:l,stringify:u}}function ow(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function fm(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=ow(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(Wh(r))return 1;if(Wh(s))return-1}return s.length-r.length}function Wh(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const aw={type:0,value:""},lw=/[a-zA-Z0-9_]/;function uw(e){if(!e)return[[]];if(e==="/")return[[aw]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(_){throw new Error(`ERR (${n})/"${h}": ${_}`)}let n=0,r=n;const s=[];let i;function a(){i&&s.push(i),i=[]}let l=0,u,h="",d="";function p(){h&&(n===0?i.push({type:0,value:h}):n===1||n===2||n===3?(i.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:h,regexp:d,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),h="")}function m(){h+=u}for(;l<e.length;){if(u=e[l++],u==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:u==="/"?(h&&p(),a()):u===":"?(p(),n=1):m();break;case 4:m(),n=r;break;case 1:u==="("?n=2:lw.test(u)?m():(p(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&l--);break;case 2:u===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+u:n=3:d+=u;break;case 3:p(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&l--,d="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${h}"`),p(),a(),s}function cw(e,t,n){const r=iw(uw(e.path),n),s=At(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function hw(e,t){const n=[],r=new Map;t=Jh({strict:!1,end:!0,sensitive:!1},t);function s(p){return r.get(p)}function i(p,m,_){const P=!_,x=Yh(p);x.aliasOf=_&&_.record;const D=Jh(t,p),$=[x];if("alias"in p){const K=typeof p.alias=="string"?[p.alias]:p.alias;for(const dt of K)$.push(Yh(At({},x,{components:_?_.record.components:x.components,path:dt,aliasOf:_?_.record:x})))}let B,z;for(const K of $){const{path:dt}=K;if(m&&dt[0]!=="/"){const gt=m.record.path,I=gt[gt.length-1]==="/"?"":"/";K.path=m.record.path+(dt&&I+dt)}if(B=cw(K,m,D),_?_.alias.push(B):(z=z||B,z!==B&&z.alias.push(B),P&&p.name&&!Xh(B)&&a(p.name)),dm(B)&&u(B),x.children){const gt=x.children;for(let I=0;I<gt.length;I++)i(gt[I],B,_&&_.children[I])}_=_||B}return z?()=>{a(z)}:Is}function a(p){if(cm(p)){const m=r.get(p);m&&(r.delete(p),n.splice(n.indexOf(m),1),m.children.forEach(a),m.alias.forEach(a))}else{const m=n.indexOf(p);m>-1&&(n.splice(m,1),p.record.name&&r.delete(p.record.name),p.children.forEach(a),p.alias.forEach(a))}}function l(){return n}function u(p){const m=pw(p,n);n.splice(m,0,p),p.record.name&&!Xh(p)&&r.set(p.record.name,p)}function h(p,m){let _,P={},x,D;if("name"in p&&p.name){if(_=r.get(p.name),!_)throw Fr(1,{location:p});D=_.record.name,P=At(Qh(m.params,_.keys.filter(z=>!z.optional).concat(_.parent?_.parent.keys.filter(z=>z.optional):[]).map(z=>z.name)),p.params&&Qh(p.params,_.keys.map(z=>z.name))),x=_.stringify(P)}else if(p.path!=null)x=p.path,_=n.find(z=>z.re.test(x)),_&&(P=_.parse(x),D=_.record.name);else{if(_=m.name?r.get(m.name):n.find(z=>z.re.test(m.path)),!_)throw Fr(1,{location:p,currentLocation:m});D=_.record.name,P=At({},m.params,p.params),x=_.stringify(P)}const $=[];let B=_;for(;B;)$.unshift(B.record),B=B.parent;return{name:D,path:x,params:P,matched:$,meta:dw($)}}e.forEach(p=>i(p));function d(){n.length=0,r.clear()}return{addRoute:i,resolve:h,removeRoute:a,clearRoutes:d,getRoutes:l,getRecordMatcher:s}}function Qh(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Yh(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:fw(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function fw(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Xh(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function dw(e){return e.reduce((t,n)=>At(t,n.meta),{})}function Jh(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function pw(e,t){let n=0,r=t.length;for(;n!==r;){const i=n+r>>1;fm(e,t[i])<0?r=i:n=i+1}const s=mw(e);return s&&(r=t.lastIndexOf(s,r-1)),r}function mw(e){let t=e;for(;t=t.parent;)if(dm(t)&&fm(e,t)===0)return t}function dm({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function gw(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(sm," "),a=i.indexOf("="),l=Bs(a<0?i:i.slice(0,a)),u=a<0?null:Bs(i.slice(a+1));if(l in t){let h=t[l];je(h)||(h=t[l]=[h]),h.push(u)}else t[l]=u}return t}function Zh(e){let t="";for(let n in e){const r=e[n];if(n=MT(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(je(r)?r.map(i=>i&&Qa(i)):[r&&Qa(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function _w(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=je(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const yw=Symbol(""),tf=Symbol(""),ru=Symbol(""),pm=Symbol(""),Xa=Symbol("");function os(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function In(e,t,n,r,s,i=a=>a()){const a=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((l,u)=>{const h=m=>{m===!1?u(Fr(4,{from:n,to:t})):m instanceof Error?u(m):nw(m)?u(Fr(2,{from:t,to:m})):(a&&r.enterCallbacks[s]===a&&typeof m=="function"&&a.push(m),l())},d=i(()=>e.call(r&&r.instances[s],t,n,h));let p=Promise.resolve(d);e.length<3&&(p=p.then(h)),p.catch(m=>u(m))})}function fa(e,t,n,r,s=i=>i()){const i=[];for(const a of e)for(const l in a.components){let u=a.components[l];if(!(t!=="beforeRouteEnter"&&!a.instances[l]))if(nm(u)){const d=(u.__vccOpts||u)[t];d&&i.push(In(d,n,r,a,l,s))}else{let h=u();i.push(()=>h.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${l}" at "${a.path}"`);const p=RT(d)?d.default:d;a.mods[l]=d,a.components[l]=p;const _=(p.__vccOpts||p)[t];return _&&In(_,n,r,a,l,s)()}))}}return i}function ef(e){const t=ln(ru),n=ln(pm),r=Me(()=>{const u=Tr(e.to);return t.resolve(u)}),s=Me(()=>{const{matched:u}=r.value,{length:h}=u,d=u[h-1],p=n.matched;if(!d||!p.length)return-1;const m=p.findIndex(Lr.bind(null,d));if(m>-1)return m;const _=nf(u[h-2]);return h>1&&nf(d)===_&&p[p.length-1].path!==_?p.findIndex(Lr.bind(null,u[h-2])):m}),i=Me(()=>s.value>-1&&Iw(n.params,r.value.params)),a=Me(()=>s.value>-1&&s.value===n.matched.length-1&&lm(n.params,r.value.params));function l(u={}){if(ww(u)){const h=t[Tr(e.replace)?"replace":"push"](Tr(e.to)).catch(Is);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}return{route:r,href:Me(()=>r.value.href),isActive:i,isExactActive:a,navigate:l}}function vw(e){return e.length===1?e[0]:e}const Ew=Bf({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:ef,setup(e,{slots:t}){const n=ao(ef(e)),{options:r}=ln(ru),s=Me(()=>({[rf(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[rf(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&vw(t.default(n));return e.custom?i:dd("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),Tw=Ew;function ww(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Iw(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!je(s)||s.length!==r.length||r.some((i,a)=>i!==s[a]))return!1}return!0}function nf(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const rf=(e,t,n)=>e??t??n,Aw=Bf({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=ln(Xa),s=Me(()=>e.route||r.value),i=ln(tf,0),a=Me(()=>{let h=Tr(i);const{matched:d}=s.value;let p;for(;(p=d[h])&&!p.components;)h++;return h}),l=Me(()=>s.value.matched[a.value]);Ti(tf,Me(()=>a.value+1)),Ti(yw,l),Ti(Xa,s);const u=yg();return wi(()=>[u.value,l.value,e.name],([h,d,p],[m,_,P])=>{d&&(d.instances[p]=h,_&&_!==d&&h&&h===m&&(d.leaveGuards.size||(d.leaveGuards=_.leaveGuards),d.updateGuards.size||(d.updateGuards=_.updateGuards))),h&&d&&(!_||!Lr(d,_)||!m)&&(d.enterCallbacks[p]||[]).forEach(x=>x(h))},{flush:"post"}),()=>{const h=s.value,d=e.name,p=l.value,m=p&&p.components[d];if(!m)return sf(n.default,{Component:m,route:h});const _=p.props[d],P=_?_===!0?h.params:typeof _=="function"?_(h):_:null,D=dd(m,At({},P,t,{onVnodeUnmounted:$=>{$.component.isUnmounted&&(p.instances[d]=null)},ref:u}));return sf(n.default,{Component:D,route:h})||D}}});function sf(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Rw=Aw;function bw(e){const t=hw(e.routes,e),n=e.parseQuery||gw,r=e.stringifyQuery||Zh,s=e.history,i=os(),a=os(),l=os(),u=vg(En);let h=En;_r&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=ca.bind(null,k=>""+k),p=ca.bind(null,FT),m=ca.bind(null,Bs);function _(k,Y){let Q,Z;return cm(k)?(Q=t.getRecordMatcher(k),Z=Y):Z=k,t.addRoute(Z,Q)}function P(k){const Y=t.getRecordMatcher(k);Y&&t.removeRoute(Y)}function x(){return t.getRoutes().map(k=>k.record)}function D(k){return!!t.getRecordMatcher(k)}function $(k,Y){if(Y=At({},Y||u.value),typeof k=="string"){const b=ha(n,k,Y.path),N=t.resolve({path:b.path},Y),F=s.createHref(b.fullPath);return At(b,N,{params:m(N.params),hash:Bs(b.hash),redirectedFrom:void 0,href:F})}let Q;if(k.path!=null)Q=At({},k,{path:ha(n,k.path,Y.path).path});else{const b=At({},k.params);for(const N in b)b[N]==null&&delete b[N];Q=At({},k,{params:p(b)}),Y.params=p(Y.params)}const Z=t.resolve(Q,Y),Tt=k.hash||"";Z.params=d(m(Z.params));const y=$T(r,At({},k,{hash:OT(Tt),path:Z.path})),E=s.createHref(y);return At({fullPath:y,hash:Tt,query:r===Zh?_w(k.query):k.query||{}},Z,{redirectedFrom:void 0,href:E})}function B(k){return typeof k=="string"?ha(n,k,u.value.path):At({},k)}function z(k,Y){if(h!==k)return Fr(8,{from:Y,to:k})}function K(k){return I(k)}function dt(k){return K(At(B(k),{replace:!0}))}function gt(k){const Y=k.matched[k.matched.length-1];if(Y&&Y.redirect){const{redirect:Q}=Y;let Z=typeof Q=="function"?Q(k):Q;return typeof Z=="string"&&(Z=Z.includes("?")||Z.includes("#")?Z=B(Z):{path:Z},Z.params={}),At({query:k.query,hash:k.hash,params:Z.path!=null?{}:k.params},Z)}}function I(k,Y){const Q=h=$(k),Z=u.value,Tt=k.state,y=k.force,E=k.replace===!0,b=gt(Q);if(b)return I(At(B(b),{state:typeof b=="object"?At({},Tt,b.state):Tt,force:y,replace:E}),Y||Q);const N=Q;N.redirectedFrom=Y;let F;return!y&&jT(r,Z,Q)&&(F=Fr(16,{to:N,from:Z}),Ve(Z,Z,!0,!1)),(F?Promise.resolve(F):A(N,Z)).catch(O=>rn(O)?rn(O,2)?O:Ne(O):pt(O,N,Z)).then(O=>{if(O){if(rn(O,2))return I(At({replace:E},B(O.to),{state:typeof O.to=="object"?At({},Tt,O.to.state):Tt,force:y}),Y||N)}else O=C(N,Z,!0,E,Tt);return R(N,Z,O),O})}function v(k,Y){const Q=z(k,Y);return Q?Promise.reject(Q):Promise.resolve()}function w(k){const Y=mn.values().next().value;return Y&&typeof Y.runWithContext=="function"?Y.runWithContext(k):k()}function A(k,Y){let Q;const[Z,Tt,y]=Cw(k,Y);Q=fa(Z.reverse(),"beforeRouteLeave",k,Y);for(const b of Z)b.leaveGuards.forEach(N=>{Q.push(In(N,k,Y))});const E=v.bind(null,k,Y);return Q.push(E),ye(Q).then(()=>{Q=[];for(const b of i.list())Q.push(In(b,k,Y));return Q.push(E),ye(Q)}).then(()=>{Q=fa(Tt,"beforeRouteUpdate",k,Y);for(const b of Tt)b.updateGuards.forEach(N=>{Q.push(In(N,k,Y))});return Q.push(E),ye(Q)}).then(()=>{Q=[];for(const b of y)if(b.beforeEnter)if(je(b.beforeEnter))for(const N of b.beforeEnter)Q.push(In(N,k,Y));else Q.push(In(b.beforeEnter,k,Y));return Q.push(E),ye(Q)}).then(()=>(k.matched.forEach(b=>b.enterCallbacks={}),Q=fa(y,"beforeRouteEnter",k,Y,w),Q.push(E),ye(Q))).then(()=>{Q=[];for(const b of a.list())Q.push(In(b,k,Y));return Q.push(E),ye(Q)}).catch(b=>rn(b,8)?b:Promise.reject(b))}function R(k,Y,Q){l.list().forEach(Z=>w(()=>Z(k,Y,Q)))}function C(k,Y,Q,Z,Tt){const y=z(k,Y);if(y)return y;const E=Y===En,b=_r?history.state:{};Q&&(Z||E?s.replace(k.fullPath,At({scroll:E&&b&&b.scroll},Tt)):s.push(k.fullPath,Tt)),u.value=k,Ve(k,Y,Q,E),Ne()}let T;function fe(){T||(T=s.listen((k,Y,Q)=>{if(!ze.listening)return;const Z=$(k),Tt=gt(Z);if(Tt){I(At(Tt,{replace:!0,force:!0}),Z).catch(Is);return}h=Z;const y=u.value;_r&&YT(qh(y.fullPath,Q.delta),Po()),A(Z,y).catch(E=>rn(E,12)?E:rn(E,2)?(I(At(B(E.to),{force:!0}),Z).then(b=>{rn(b,20)&&!Q.delta&&Q.type===$s.pop&&s.go(-1,!1)}).catch(Is),Promise.reject()):(Q.delta&&s.go(-Q.delta,!1),pt(E,Z,y))).then(E=>{E=E||C(Z,y,!1),E&&(Q.delta&&!rn(E,8)?s.go(-Q.delta,!1):Q.type===$s.pop&&rn(E,20)&&s.go(-1,!1)),R(Z,y,E)}).catch(Is)}))}let Pe=os(),Bt=os(),_t;function pt(k,Y,Q){Ne(k);const Z=Bt.list();return Z.length?Z.forEach(Tt=>Tt(k,Y,Q)):console.error(k),Promise.reject(k)}function Ie(){return _t&&u.value!==En?Promise.resolve():new Promise((k,Y)=>{Pe.add([k,Y])})}function Ne(k){return _t||(_t=!k,fe(),Pe.list().forEach(([Y,Q])=>k?Q(k):Y()),Pe.reset()),k}function Ve(k,Y,Q,Z){const{scrollBehavior:Tt}=e;if(!_r||!Tt)return Promise.resolve();const y=!Q&&XT(qh(k.fullPath,0))||(Z||!Q)&&history.state&&history.state.scroll||null;return Of().then(()=>Tt(k,Y,y)).then(E=>E&&QT(E)).catch(E=>pt(E,k,Y))}const Ot=k=>s.go(k);let Mt;const mn=new Set,ze={currentRoute:u,listening:!0,addRoute:_,removeRoute:P,clearRoutes:t.clearRoutes,hasRoute:D,getRoutes:x,resolve:$,options:e,push:K,replace:dt,go:Ot,back:()=>Ot(-1),forward:()=>Ot(1),beforeEach:i.add,beforeResolve:a.add,afterEach:l.add,onError:Bt.add,isReady:Ie,install(k){const Y=this;k.component("RouterLink",Tw),k.component("RouterView",Rw),k.config.globalProperties.$router=Y,Object.defineProperty(k.config.globalProperties,"$route",{enumerable:!0,get:()=>Tr(u)}),_r&&!Mt&&u.value===En&&(Mt=!0,K(s.location).catch(Tt=>{}));const Q={};for(const Tt in En)Object.defineProperty(Q,Tt,{get:()=>u.value[Tt],enumerable:!0});k.provide(ru,Y),k.provide(pm,Vf(Q)),k.provide(Xa,u);const Z=k.unmount;mn.add(k),k.unmount=function(){mn.delete(k),mn.size<1&&(h=En,T&&T(),T=null,u.value=En,Mt=!1,_t=!1),Z()}}};function ye(k){return k.reduce((Y,Q)=>Y.then(()=>w(Q)),Promise.resolve())}return ze}function Cw(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let a=0;a<i;a++){const l=t.matched[a];l&&(e.matched.find(h=>Lr(h,l))?r.push(l):n.push(l));const u=e.matched[a];u&&(t.matched.find(h=>Lr(h,u))||s.push(u))}return[n,r,s]}const Sw={},Pw={class:"item"},Vw={class:"details"};function xw(e,t){return Se(),Fe("div",Pw,[ft("i",null,[Yo(e.$slots,"icon",{},void 0)]),ft("div",Vw,[ft("h3",null,[Yo(e.$slots,"heading",{},void 0)]),Yo(e.$slots,"default",{},void 0)])])}const as=or(Sw,[["render",xw],["__scopeId","data-v-40a5c0e5"]]),Dw={},kw={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"17",fill:"currentColor"};function Nw(e,t){return Se(),Fe("svg",kw,t[0]||(t[0]=[ft("path",{d:"M11 2.253a1 1 0 1 0-2 0h2zm-2 13a1 1 0 1 0 2 0H9zm.447-12.167a1 1 0 1 0 1.107-1.666L9.447 3.086zM1 2.253L.447 1.42A1 1 0 0 0 0 2.253h1zm0 13H0a1 1 0 0 0 1.553.833L1 15.253zm8.447.833a1 1 0 1 0 1.107-1.666l-1.107 1.666zm0-14.666a1 1 0 1 0 1.107 1.666L9.447 1.42zM19 2.253h1a1 1 0 0 0-.447-.833L19 2.253zm0 13l-.553.833A1 1 0 0 0 20 15.253h-1zm-9.553-.833a1 1 0 1 0 1.107 1.666L9.447 14.42zM9 2.253v13h2v-13H9zm1.553-.833C9.203.523 7.42 0 5.5 0v2c1.572 0 2.961.431 3.947 1.086l1.107-1.666zM5.5 0C3.58 0 1.797.523.447 1.42l1.107 1.666C2.539 2.431 3.928 2 5.5 2V0zM0 2.253v13h2v-13H0zm1.553 13.833C2.539 15.431 3.928 15 5.5 15v-2c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM5.5 15c1.572 0 2.961.431 3.947 1.086l1.107-1.666C9.203 13.523 7.42 13 5.5 13v2zm5.053-11.914C11.539 2.431 12.928 2 14.5 2V0c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM14.5 2c1.573 0 2.961.431 3.947 1.086l1.107-1.666C18.203.523 16.421 0 14.5 0v2zm3.5.253v13h2v-13h-2zm1.553 12.167C18.203 13.523 16.421 13 14.5 13v2c1.573 0 2.961.431 3.947 1.086l1.107-1.666zM14.5 13c-1.92 0-3.703.523-5.053 1.42l1.107 1.666C11.539 15.431 12.928 15 14.5 15v-2z"},null,-1)]))}const Ow=or(Dw,[["render",Nw]]),Mw={},Lw={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",class:"iconify iconify--mdi",width:"24",height:"24",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"};function Fw(e,t){return Se(),Fe("svg",Lw,t[0]||(t[0]=[ft("path",{d:"M20 18v-4h-3v1h-2v-1H9v1H7v-1H4v4h16M6.33 8l-1.74 4H7v-1h2v1h6v-1h2v1h2.41l-1.74-4H6.33M9 5v1h6V5H9m12.84 7.61c.1.22.16.48.16.8V18c0 .53-.21 1-.6 1.41c-.4.4-.85.59-1.4.59H4c-.55 0-1-.19-1.4-.59C2.21 19 2 18.53 2 18v-4.59c0-.32.06-.58.16-.8L4.5 7.22C4.84 6.41 5.45 6 6.33 6H7V5c0-.55.18-1 .57-1.41C7.96 3.2 8.44 3 9 3h6c.56 0 1.04.2 1.43.59c.39.41.57.86.57 1.41v1h.67c.88 0 1.49.41 1.83 1.22l2.34 5.39z",fill:"currentColor"},null,-1)]))}const Uw=or(Mw,[["render",Fw]]),Bw={},$w={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"20",fill:"currentColor"};function jw(e,t){return Se(),Fe("svg",$w,t[0]||(t[0]=[ft("path",{d:"M11.447 8.894a1 1 0 1 0-.894-1.789l.894 1.789zm-2.894-.789a1 1 0 1 0 .894 1.789l-.894-1.789zm0 1.789a1 1 0 1 0 .894-1.789l-.894 1.789zM7.447 7.106a1 1 0 1 0-.894 1.789l.894-1.789zM10 9a1 1 0 1 0-2 0h2zm-2 2.5a1 1 0 1 0 2 0H8zm9.447-5.606a1 1 0 1 0-.894-1.789l.894 1.789zm-2.894-.789a1 1 0 1 0 .894 1.789l-.894-1.789zm2 .789a1 1 0 1 0 .894-1.789l-.894 1.789zm-1.106-2.789a1 1 0 1 0-.894 1.789l.894-1.789zM18 5a1 1 0 1 0-2 0h2zm-2 2.5a1 1 0 1 0 2 0h-2zm-5.447-4.606a1 1 0 1 0 .894-1.789l-.894 1.789zM9 1l.447-.894a1 1 0 0 0-.894 0L9 1zm-2.447.106a1 1 0 1 0 .894 1.789l-.894-1.789zm-6 3a1 1 0 1 0 .894 1.789L.553 4.106zm2.894.789a1 1 0 1 0-.894-1.789l.894 1.789zm-2-.789a1 1 0 1 0-.894 1.789l.894-1.789zm1.106 2.789a1 1 0 1 0 .894-1.789l-.894 1.789zM2 5a1 1 0 1 0-2 0h2zM0 7.5a1 1 0 1 0 2 0H0zm8.553 12.394a1 1 0 1 0 .894-1.789l-.894 1.789zm-1.106-2.789a1 1 0 1 0-.894 1.789l.894-1.789zm1.106 1a1 1 0 1 0 .894 1.789l-.894-1.789zm2.894.789a1 1 0 1 0-.894-1.789l.894 1.789zM8 19a1 1 0 1 0 2 0H8zm2-2.5a1 1 0 1 0-2 0h2zm-7.447.394a1 1 0 1 0 .894-1.789l-.894 1.789zM1 15H0a1 1 0 0 0 .553.894L1 15zm1-2.5a1 1 0 1 0-2 0h2zm12.553 2.606a1 1 0 1 0 .894 1.789l-.894-1.789zM17 15l.447.894A1 1 0 0 0 18 15h-1zm1-2.5a1 1 0 1 0-2 0h2zm-7.447-5.394l-2 1 .894 1.789 2-1-.894-1.789zm-1.106 1l-2-1-.894 1.789 2 1 .894-1.789zM8 9v2.5h2V9H8zm8.553-4.894l-2 1 .894 1.789 2-1-.894-1.789zm.894 0l-2-1-.894 1.789 2 1 .894-1.789zM16 5v2.5h2V5h-2zm-4.553-3.894l-2-1-.894 1.789 2 1 .894-1.789zm-2.894-1l-2 1 .894 1.789 2-1L8.553.106zM1.447 5.894l2-1-.894-1.789-2 1 .894 1.789zm-.894 0l2 1 .894-1.789-2-1-.894 1.789zM0 5v2.5h2V5H0zm9.447 13.106l-2-1-.894 1.789 2 1 .894-1.789zm0 1.789l2-1-.894-1.789-2 1 .894 1.789zM10 19v-2.5H8V19h2zm-6.553-3.894l-2-1-.894 1.789 2 1 .894-1.789zM2 15v-2.5H0V15h2zm13.447 1.894l2-1-.894-1.789-2 1 .894 1.789zM18 15v-2.5h-2V15h2z"},null,-1)]))}const zw=or(Bw,[["render",jw]]),qw={},Hw={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor"};function Kw(e,t){return Se(),Fe("svg",Hw,t[0]||(t[0]=[ft("path",{d:"M15 4a1 1 0 1 0 0 2V4zm0 11v-1a1 1 0 0 0-1 1h1zm0 4l-.707.707A1 1 0 0 0 16 19h-1zm-4-4l.707-.707A1 1 0 0 0 11 14v1zm-4.707-1.293a1 1 0 0 0-1.414 1.414l1.414-1.414zm-.707.707l-.707-.707.707.707zM9 11v-1a1 1 0 0 0-.707.293L9 11zm-4 0h1a1 1 0 0 0-1-1v1zm0 4H4a1 1 0 0 0 1.707.707L5 15zm10-9h2V4h-2v2zm2 0a1 1 0 0 1 1 1h2a3 3 0 0 0-3-3v2zm1 1v6h2V7h-2zm0 6a1 1 0 0 1-1 1v2a3 3 0 0 0 3-3h-2zm-1 1h-2v2h2v-2zm-3 1v4h2v-4h-2zm1.707 3.293l-4-4-1.414 1.414 4 4 1.414-1.414zM11 14H7v2h4v-2zm-4 0c-.276 0-.525-.111-.707-.293l-1.414 1.414C5.42 15.663 6.172 16 7 16v-2zm-.707 1.121l3.414-3.414-1.414-1.414-3.414 3.414 1.414 1.414zM9 12h4v-2H9v2zm4 0a3 3 0 0 0 3-3h-2a1 1 0 0 1-1 1v2zm3-3V3h-2v6h2zm0-6a3 3 0 0 0-3-3v2a1 1 0 0 1 1 1h2zm-3-3H3v2h10V0zM3 0a3 3 0 0 0-3 3h2a1 1 0 0 1 1-1V0zM0 3v6h2V3H0zm0 6a3 3 0 0 0 3 3v-2a1 1 0 0 1-1-1H0zm3 3h2v-2H3v2zm1-1v4h2v-4H4zm1.707 4.707l.586-.586-1.414-1.414-.586.586 1.414 1.414z"},null,-1)]))}const Gw=or(qw,[["render",Kw]]),Ww={},Qw={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor"};function Yw(e,t){return Se(),Fe("svg",Qw,t[0]||(t[0]=[ft("path",{d:"M10 3.22l-.61-.6a5.5 5.5 0 0 0-7.666.105 5.5 5.5 0 0 0-.114 7.665L10 18.78l8.39-8.4a5.5 5.5 0 0 0-.114-7.665 5.5 5.5 0 0 0-7.666-.105l-.61.61z"},null,-1)]))}const Xw=or(Ww,[["render",Yw]]),Jw={__name:"TheWelcome",setup(e){const t=()=>fetch("/__open-in-editor?file=README.md");return(n,r)=>(Se(),Fe(ge,null,[Nt(as,null,{icon:ie(()=>[Nt(Ow)]),heading:ie(()=>r[0]||(r[0]=[It("Documentation")])),default:ie(()=>[r[1]||(r[1]=It(" Vue’s ")),r[2]||(r[2]=ft("a",{href:"https://vuejs.org/",target:"_blank",rel:"noopener"},"official documentation",-1)),r[3]||(r[3]=It(" provides you with all information you need to get started. "))]),_:1,__:[1,2,3]}),Nt(as,null,{icon:ie(()=>[Nt(Uw)]),heading:ie(()=>r[4]||(r[4]=[It("Tooling")])),default:ie(()=>[r[6]||(r[6]=It(" This project is served and bundled with ")),r[7]||(r[7]=ft("a",{href:"https://vite.dev/guide/features.html",target:"_blank",rel:"noopener"},"Vite",-1)),r[8]||(r[8]=It(". The recommended IDE setup is ")),r[9]||(r[9]=ft("a",{href:"https://code.visualstudio.com/",target:"_blank",rel:"noopener"},"VSCode",-1)),r[10]||(r[10]=It(" + ")),r[11]||(r[11]=ft("a",{href:"https://github.com/vuejs/language-tools",target:"_blank",rel:"noopener"},"Vue - Official",-1)),r[12]||(r[12]=It(". If you need to test your components and web pages, check out ")),r[13]||(r[13]=ft("a",{href:"https://vitest.dev/",target:"_blank",rel:"noopener"},"Vitest",-1)),r[14]||(r[14]=It(" and ")),r[15]||(r[15]=ft("a",{href:"https://www.cypress.io/",target:"_blank",rel:"noopener"},"Cypress",-1)),r[16]||(r[16]=It(" / ")),r[17]||(r[17]=ft("a",{href:"https://playwright.dev/",target:"_blank",rel:"noopener"},"Playwright",-1)),r[18]||(r[18]=It(". ")),r[19]||(r[19]=ft("br",null,null,-1)),r[20]||(r[20]=It(" More instructions are available in ")),ft("a",{href:"javascript:void(0)",onClick:t},r[5]||(r[5]=[ft("code",null,"README.md",-1)])),r[21]||(r[21]=It(". "))]),_:1,__:[6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21]}),Nt(as,null,{icon:ie(()=>[Nt(zw)]),heading:ie(()=>r[22]||(r[22]=[It("Ecosystem")])),default:ie(()=>[r[23]||(r[23]=It(" Get official tools and libraries for your project: ")),r[24]||(r[24]=ft("a",{href:"https://pinia.vuejs.org/",target:"_blank",rel:"noopener"},"Pinia",-1)),r[25]||(r[25]=It(", ")),r[26]||(r[26]=ft("a",{href:"https://router.vuejs.org/",target:"_blank",rel:"noopener"},"Vue Router",-1)),r[27]||(r[27]=It(", ")),r[28]||(r[28]=ft("a",{href:"https://test-utils.vuejs.org/",target:"_blank",rel:"noopener"},"Vue Test Utils",-1)),r[29]||(r[29]=It(", and ")),r[30]||(r[30]=ft("a",{href:"https://github.com/vuejs/devtools",target:"_blank",rel:"noopener"},"Vue Dev Tools",-1)),r[31]||(r[31]=It(". If you need more resources, we suggest paying ")),r[32]||(r[32]=ft("a",{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"},"Awesome Vue",-1)),r[33]||(r[33]=It(" a visit. "))]),_:1,__:[23,24,25,26,27,28,29,30,31,32,33]}),Nt(as,null,{icon:ie(()=>[Nt(Gw)]),heading:ie(()=>r[34]||(r[34]=[It("Community")])),default:ie(()=>[r[35]||(r[35]=It(" Got stuck? Ask your question on ")),r[36]||(r[36]=ft("a",{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"},"Vue Land",-1)),r[37]||(r[37]=It(" (our official Discord server), or ")),r[38]||(r[38]=ft("a",{href:"https://stackoverflow.com/questions/tagged/vue.js",target:"_blank",rel:"noopener"},"StackOverflow",-1)),r[39]||(r[39]=It(". You should also follow the official ")),r[40]||(r[40]=ft("a",{href:"https://bsky.app/profile/vuejs.org",target:"_blank",rel:"noopener"},"@vuejs.org",-1)),r[41]||(r[41]=It(" Bluesky account or the ")),r[42]||(r[42]=ft("a",{href:"https://x.com/vuejs",target:"_blank",rel:"noopener"},"@vuejs",-1)),r[43]||(r[43]=It(" X account for latest news in the Vue world. "))]),_:1,__:[35,36,37,38,39,40,41,42,43]}),Nt(as,null,{icon:ie(()=>[Nt(Xw)]),heading:ie(()=>r[44]||(r[44]=[It("Support Vue")])),default:ie(()=>[r[45]||(r[45]=It(" As an independent project, Vue relies on community backing for its sustainability. You can help us by ")),r[46]||(r[46]=ft("a",{href:"https://vuejs.org/sponsor/",target:"_blank",rel:"noopener"},"becoming a sponsor",-1)),r[47]||(r[47]=It(". "))]),_:1,__:[45,46,47]})],64))}},Zw={__name:"HomeView",setup(e){return(t,n)=>(Se(),Fe("main",null,[Nt(Jw)]))}},tI=bw({history:ew("/task-manager/"),routes:[{path:"/",name:"home",component:Zw},{path:"/about",name:"about",component:()=>AT(()=>import("./AboutView-BPEFz5Cv.js"),__vite__mapDeps([0,1]))}]}),mm=iy(TT);mm.use(tI);mm.mount("#app");export{or as _,ft as a,Fe as c,Se as o};
